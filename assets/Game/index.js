window.__require=function e(t,o,i){function l(r,s){if(!o[r]){if(!t[r]){var a=r.split("/");if(a=a[a.length-1],!t[a]){var c="function"==typeof __require&&__require;if(!s&&c)return c(a,!0);if(n)return n(a,!0);throw new Error("Cannot find module '"+r+"'")}r=a}var d=o[r]={exports:{}};t[r][0].call(d.exports,function(e){return l(t[r][1][e]||e)},d,d.exports,e,t,o,i)}return o[r].exports}for(var n="function"==typeof __require&&__require,r=0;r<i.length;r++)l(i[r]);return l}({GameScene:[function(e,t,o){"use strict";cc._RF.push(t,"49497ql/utKgo67Gau489M2","GameScene");var i=this&&this.__decorate||function(e,t,o,i){var l,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(l=e[s])&&(r=(n<3?l(r):n>3?l(t,o,r):l(t,o))||r);return n>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});const l=e("../../Script/Base/BaseScene"),n=e("../../Script/Enum"),r=e("../../Script/Manager/MAd"),s=e("../../Script/Manager/MAudio"),a=e("../../Script/Manager/MBundle"),c=e("../../Script/Manager/MConfig"),d=e("../../Script/Manager/MDialog"),u=e("../../Script/Manager/MEvent"),p=e("../../Script/Manager/MModel"),M=e("../../Script/Manager/MPool"),h=e("../../Script/Manager/MSkill"),g=e("../../Script/Manager/MToast"),S=e("../../Script/Manager/MTween"),v=e("../../Script/Temporary"),k=e("./prefab/GameSkillItem"),{ccclass:f,property:m}=cc._decorator;var A;(function(e){e.Hero7001="Hero/res/texture/autoatlas/hero/7001",e.Hero7002="Hero/res/texture/autoatlas/hero/7002",e.Hero7003="Hero/res/texture/autoatlas/hero/7003",e.Hero7004="Hero/res/texture/autoatlas/hero/7004",e.Hero7005="Hero/res/texture/autoatlas/hero/7005",e.Hero7006="Hero/res/texture/autoatlas/hero/7006",e.Hero7007="Hero/res/texture/autoatlas/hero/7007",e.Hero7008="Hero/res/texture/autoatlas/hero/7008",e.Hero7009="Hero/res/texture/autoatlas/hero/7009",e.Hero7010="Hero/res/texture/autoatlas/hero/7010",e.Hero7011="Hero/res/texture/autoatlas/hero/7011",e.Hero7012="Hero/res/texture/autoatlas/hero/7012",e.Hero7013="Hero/res/texture/autoatlas/hero/7013",e.Hero7014="Hero/res/texture/autoatlas/hero/7014",e.Hero7015="Hero/res/texture/autoatlas/hero/7015",e.Hero7016="Hero/res/texture/autoatlas/hero/7016",e.Hero7017="Hero/res/texture/autoatlas/hero/7017"})(A||(A={}));let x=class extends l.default{constructor(){super(...arguments),this.top=null,this.ndBtnJumpLevel=null,this.ndBtnDoubleSpeed=null,this.ndBtnMoreGame=null,this.skillContent=null,this.loading=null,this.shoutNode=null,this.boxPortalAd=null,this.ksMoveBtns=[],this.screenshot=null,this.ndBtnAddDesktop=null,this.ndBtnTestJumpLevel=null}onEnable(){c.MConfig.Debug?this.ndBtnTestJumpLevel.active=!0:this.ndBtnTestJumpLevel.active=!1,this.loading.zIndex=cc.macro.MAX_ZINDEX;let e=GA.PA.getSystemInfoSync(),t=GA.PA.getMenuButtonBoundingClientRect();(null==t?void 0:t.top)?this.top.getComponent(cc.Widget).top=t.top*(null==e?void 0:e.designPixelRatio):this.top.getComponent(cc.Widget).top=80,u.MEvent.on(u.EMsg.ShowJumpLevel,()=>{this.ndBtnJumpLevel.active=!0},this),u.MEvent.on(u.EMsg.HideJumpLevel,()=>{this.ndBtnJumpLevel.active=!1},this),u.MEvent.on(u.EMsg.LoadSkill,()=>{this.loadSkill(0,h.MSkill.skillList)},this),u.MEvent.on(u.EMsg.ClearSkill,()=>{for(;this.skillContent.childrenCount>0;)M.MPool.recovery(this.skillContent.children[0]);h.MSkill.clear()},this),u.MEvent.on(u.EMsg.ShowGameBanner,()=>{this.showGameBanner()},this),u.MEvent.on(u.EMsg.HeroShout,e=>{this.heroShout(e)},this),u.MEvent.on(u.EMsg.AddDesktopSuccess,()=>{this.ndBtnAddDesktop.active=!1},this),GA.isPlatform([GA.Platform.OPPO])||GA.isPlatform(GA.Platform.Android)&&GA.Info.distributionChannel==GA.DistributionChannel.OPPO?this.ndBtnMoreGame.active=!0:this.ndBtnMoreGame.active=!1,this.createBoxPortalAd(),GA.isPlatform(GA.Platform.Kwaigame)&&-1==GA.PA.getSystemInfoSync().platform.toLocaleLowerCase().indexOf("ios")&&this.ksMoveBtns.forEach(e=>{e.y-=100}),this.ndBtnDoubleSpeed.active=!0,!GA.Info.isPreview&&GA.isPlatform(GA.Platform.ByteDance)?GA.PA.checkShortcut({success:e=>{e.status.exist?(console.log("\u684c\u9762\u56fe\u6807\u5df2\u5b58\u5728\uff01"),this.ndBtnAddDesktop.active=!1):(console.log("\u684c\u9762\u56fe\u6807\u4e0d\u5b58\u5728\uff01"),this.ndBtnAddDesktop.active=!0,S.MTween.swing(this.ndBtnAddDesktop))},fail:()=>{}}):this.ndBtnAddDesktop.active=!1}start(){super.start(),a.MBundle.load({bundle:a.EBundle.Battle,path:"res/battle",type:cc.Prefab,onComplete:e=>{let t=cc.instantiate(e);t.setParent(this.node),t.setPosition(cc.v2()),t.setSiblingIndex(0)}}),this.scheduleOnce(()=>{S.MTween.jelly(this.ndBtnDoubleSpeed)},3*Math.random()),this.scheduleOnce(()=>{S.MTween.jelly(this.ndBtnJumpLevel)},3*Math.random()),c.MConfig.Config.SwitchTrialSkill&&p.MModel.Battle.level>1&&u.MEvent.emit(u.EMsg.LoadSkill),this.showGameCustomAd(),this.showGameBanner(),!GA.Info.underCheck&&(GA.isPlatform([GA.Platform.Kwaigame])||GA.isPlatform(GA.Platform.ByteDance)&&"novel_fm"!=c.MConfig.appName&&"novelapp"!=c.MConfig.appName&&"reading"!=c.MConfig.appName)?(this.screenshot.active=!0,this.onClickScreenShot()):this.screenshot.active=!1}onClickScreenShot(){let e=this.screenshot.getChildByName("sreenShot"),t=this.screenshot.getChildByName("inScreenShot");e.active=!1,t.active=!0;let o=t.getChildByName("dot"),i=t.getChildByName("light");S.MTween.breath(o),cc.Tween.stopAllByTarget(i),i.opacity=255,cc.tween(i).to(1,{opacity:0}).to(1,{opacity:255}).union().repeatForever().start()}onClickInScreenShot(){this.screenshot.getChildByName("sreenShot").active=!0,this.screenshot.getChildByName("inScreenShot").active=!1}createBoxPortalAd(){GA.isPlatform([GA.Platform.Vivo])&&(window.qg.createBoxPortalAd?(this.boxPortalAd=window.qg.createBoxPortalAd({posId:"1cd41ab85b3f441a8474532be479b9fa",marginTop:200}),this.boxPortalAd.onError(e=>{console.log("\u76d2\u5b50\u4e5d\u5bab\u683c\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25",e)}),this.boxPortalAd.onClose(()=>{this.boxPortalAd.isDestroyed||this.boxPortalAd.show()}),this.boxPortalAd.show().then(()=>{console.log("show success")})):console.log("\u6682\u4e0d\u652f\u6301\u4e92\u63a8\u76d2\u5b50\u76f8\u5173 API"))}destroyBoxPortalAd(){GA.isPlatform([GA.Platform.Vivo])&&null!=this.boxPortalAd&&(this.boxPortalAd.isDestroyed=!0,this.boxPortalAd.destroy())}heroShout(e){let t=this.shoutNode.getChildByName("tip").getComponent(cc.Label),o=this.shoutNode.getChildByName("hero").getComponent(cc.Sprite);t.string=e.shout;let i="";i=p.MModel.Hero.currentHero.skinId&&1!=p.MModel.Hero.currentHero.skinId?Utils.prefixZero(p.MModel.Hero.currentHero.skinId%p.MModel.Hero.currentHero.id,2).toString():"",a.MBundle.load({bundle:a.EBundle.Dialog,path:A["Hero"+p.MModel.Hero.currentHero.id]+i,type:cc.SpriteFrame,onComplete:e=>{o.spriteFrame=e}}),cc.Tween.stopAllByTarget(o.node),cc.tween(o.node).set({position:cc.v3(286,-10)}).to(.5,{position:cc.v3(286,0)}).to(.5,{position:cc.v3(286,-10)}).union().repeatForever().start(),cc.Tween.stopAllByTarget(this.shoutNode),this.shoutNode.zIndex=cc.macro.MAX_ZINDEX,this.shoutNode.active=!0,this.shoutNode.setPosition(cc.v2(-789,-452)),cc.tween(this.shoutNode).to(.3,{position:cc.v3(-58,-212)}).delay(1).to(.3,{position:cc.v3(-789,-452)}).call(()=>{this.shoutNode.active=!1}).start()}showGameBanner(){"l"==Utils.screenSize()&&c.MConfig.Config.SwitchGameBanner&&!GA.Info.isPreview&&GA.isPlatform([GA.Platform.WeChat,GA.Platform.QQ,GA.Platform.Kuaidianwan,GA.Platform.Android])&&GA.showBanner()}loadSkill(e,t){e<t.length&&M.MPool.load({bundle:a.EBundle.Game,path:"res/prefab/gameSkillItem",type:cc.Prefab,onComplete:o=>{o.setParent(this.skillContent),o.getComponent(k.default).init(t[e]),this.loadSkill(++e,t)}})}onClickAddDesktop(){s.MAudio.playEffect(s.EAudio.Click),d.MDialog.showDialog(a.EDialog.AddShortcut,{})}onClickJumpLevel(){s.MAudio.playEffect(s.EAudio.Click),c.MConfig.Transsion?(v.Temporary.TranssionVideoCallBack=()=>{c.MConfig.Config.SwitchTrialSkill&&p.MModel.Battle.level>1?(p.MModel.Battle.passLevel(),u.MEvent.emit(u.EMsg.ClearSkill),u.MEvent.emit(u.EMsg.ClearLevel),d.MDialog.showDialog(a.EDialog.TrialSkill,{data:()=>{u.MEvent.emit(u.EMsg.LoadSkill),u.MEvent.emit(u.EMsg.LoadLevel),d.MDialog.destroyDialog(a.EDialog.TrialSkill)}})):(p.MModel.Battle.passLevel(),u.MEvent.emit(u.EMsg.LoadLevel))},null===AppProxy||void 0===AppProxy||AppProxy.requestPayment("VideoToPay")):r.MAd.rewardOperation({tag:"JumpLevel",byVideo:GA.isNextRewardVideo("JumpLevel"),page:"\u6218\u6597\u754c\u9762",result:e=>{e.reward&&(c.MConfig.Config.SwitchTrialSkill&&p.MModel.Battle.level>1?(p.MModel.Battle.passLevel(),u.MEvent.emit(u.EMsg.ClearSkill),u.MEvent.emit(u.EMsg.ClearLevel),d.MDialog.showDialog(a.EDialog.TrialSkill,{data:()=>{u.MEvent.emit(u.EMsg.LoadSkill),u.MEvent.emit(u.EMsg.LoadLevel),d.MDialog.destroyDialog(a.EDialog.TrialSkill)}})):(p.MModel.Battle.passLevel(),u.MEvent.emit(u.EMsg.LoadLevel)))}})}onClickPause(){if(s.MAudio.playEffect(s.EAudio.Click),v.Temporary.battleStatus==n.EBattleStatus.Lose||v.Temporary.battleStatus==n.EBattleStatus.Win){let e=c.MConfig.TableI18n.get(201012);"cn"==c.MConfig.Language?g.MToast.showToast({title:e.cn}):"tc"==c.MConfig.Language?g.MToast.showToast({title:e.tc}):"pt"==c.MConfig.Language?g.MToast.showToast({title:e.pt}):"vi"==c.MConfig.Language?g.MToast.showToast({title:e.vi}):"id"==c.MConfig.Language?g.MToast.showToast({title:e.in}):g.MToast.showToast({title:e.en})}else p.MModel.Battle.gameModel==n.EGameModel.Normal?d.MDialog.showDialog(a.EDialog.Pause,{data:p.MModel.Pause}):p.MModel.Battle.gameModel==n.EGameModel.Infernal&&d.MDialog.showDialog(a.EDialog.IfPause,{data:p.MModel.Pause})}onClickDoubleSpeed(){c.MConfig.Transsion?(v.Temporary.TranssionVideoCallBack=()=>{u.MEvent.emit(u.EMsg.SpeedUp)},null===AppProxy||void 0===AppProxy||AppProxy.requestPayment("VideoToPay")):r.MAd.rewardOperation({tag:"DoubleSpeed",byVideo:GA.isNextRewardVideo("DoubleSpeed"),page:"\u6218\u6597\u754c\u9762",result:e=>{e.reward&&u.MEvent.emit(u.EMsg.SpeedUp)}})}onClickMoreGame(){s.MAudio.playEffect(s.EAudio.Click),GA.isPlatform([GA.Platform.OPPO])?r.MAd.showGamePortalAd():GA.isPlatform(GA.Platform.Android)&&GA.Info.distributionChannel==GA.DistributionChannel.OPPO&&GA.PA.jumpLeisureSubject()}showGameCustomAd(){c.MConfig.Config.CustomAd.BattleL&&u.MEvent.emit(u.EMsg.ShowCustomAdL),c.MConfig.Config.CustomAd.BattleR&&u.MEvent.emit(u.EMsg.ShowCustomAdR)}onDisable(){u.MEvent.targetOff(this),this.destroyBoxPortalAd()}};i([m(cc.Node)],x.prototype,"top",void 0),i([m(cc.Node)],x.prototype,"ndBtnJumpLevel",void 0),i([m(cc.Node)],x.prototype,"ndBtnDoubleSpeed",void 0),i([m(cc.Node)],x.prototype,"ndBtnMoreGame",void 0),i([m(cc.Node)],x.prototype,"skillContent",void 0),i([m(cc.Node)],x.prototype,"loading",void 0),i([m(cc.Node)],x.prototype,"shoutNode",void 0),i([m([cc.Node])],x.prototype,"ksMoveBtns",void 0),i([m(cc.Node)],x.prototype,"screenshot",void 0),i([m(cc.Node)],x.prototype,"ndBtnAddDesktop",void 0),i([m(cc.Node)],x.prototype,"ndBtnTestJumpLevel",void 0),x=i([f],x),o.default=x,cc._RF.pop()},{"../../Script/Base/BaseScene":void 0,"../../Script/Enum":void 0,"../../Script/Manager/MAd":void 0,"../../Script/Manager/MAudio":void 0,"../../Script/Manager/MBundle":void 0,"../../Script/Manager/MConfig":void 0,"../../Script/Manager/MDialog":void 0,"../../Script/Manager/MEvent":void 0,"../../Script/Manager/MModel":void 0,"../../Script/Manager/MPool":void 0,"../../Script/Manager/MSkill":void 0,"../../Script/Manager/MToast":void 0,"../../Script/Manager/MTween":void 0,"../../Script/Temporary":void 0,"./prefab/GameSkillItem":"GameSkillItem"}],GameSkillItem:[function(e,t,o){"use strict";cc._RF.push(t,"72f54X/E4lLWoyhCFyAZOF4","GameSkillItem");var i=this&&this.__decorate||function(e,t,o,i){var l,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(l=e[s])&&(r=(n<3?l(r):n>3?l(t,o,r):l(t,o))||r);return n>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});const l=e("../../../Script/Manager/MAd"),n=e("../../../Script/Manager/MAudio"),r=e("../../../Script/Manager/MBundle"),s=e("../../../Script/Manager/MConfig"),a=e("../../../Script/Manager/MEvent"),c=e("../../../Script/Manager/MModel"),d=e("../../../Script/Manager/MSkill"),u=e("../../../Script/Temporary");var p;(function(e){e.SkillIcon6001="res/texture/skillicon/6001",e.SkillIcon6002="res/texture/skillicon/6002",e.SkillIcon6003="res/texture/skillicon/6003",e.SkillIcon6004="res/texture/skillicon/6004",e.SkillIcon6005="res/texture/skillicon/6005",e.SkillIcon6006="res/texture/skillicon/6006",e.SkillIcon6007="res/texture/skillicon/6007",e.SkillIcon6008="res/texture/skillicon/6008",e.SkillIcon6009="res/texture/skillicon/6009",e.SkillIcon6010="res/texture/skillicon/6010",e.SkillIcon6011="res/texture/skillicon/6011",e.SkillIcon6101="res/texture/skillicon/6101",e.SkillIcon6102="res/texture/skillicon/6102",e.SkillIcon6103="res/texture/skillicon/6103",e.SkillIcon6104="res/texture/skillicon/6104",e.SkillIcon6105="res/texture/skillicon/6105",e.SkillIcon6106="res/texture/skillicon/6106",e.SkillIcon6107="res/texture/skillicon/6107",e.SkillIcon6108="res/texture/skillicon/6108",e.SkillIcon6109="res/texture/skillicon/6109",e.SkillIcon6110="res/texture/skillicon/6110",e.SkillIcon6111="res/texture/skillicon/6111",e.SkillIcon6112="res/texture/skillicon/6112",e.SkillIcon6113="res/texture/skillicon/6113",e.SkillIcon6114="res/texture/skillicon/6114",e.SkillIcon6115="res/texture/skillicon/6115",e.SkillIcon6116="res/texture/skillicon/6116",e.SkillIcon6117="res/texture/skillicon/6117"})(p||(p={}));const{ccclass:M,property:h}=cc._decorator;let g=class extends cc.Component{constructor(){super(...arguments),this.icon=null,this.rsv=null,this.selectSkeleton=null,this.heroTag=null}onEnable(){a.MEvent.on(a.EMsg.SelectSkill,e=>{var t;(null===(t=this.skill)||void 0===t?void 0:t.id)==e.id?this.selectSkeleton.node.active=!0:this.selectSkeleton.node.active=!1},this),a.MEvent.on(a.EMsg.CancelSkill,e=>{var t;(null===(t=this.skill)||void 0===t?void 0:t.id)==(null==e?void 0:e.id)&&(this.selectSkeleton.node.active=!1)},this),a.MEvent.on(a.EMsg.UsedSkill,e=>{var t;(null===(t=this.skill)||void 0===t?void 0:t.id)==e.id&&(this.rsv.active=!0,this.selectSkeleton.node.active=!1)},this)}init(e){c.MModel.Hero.checkIsHeroSkill(e.id)?this.heroTag.active=!0:this.heroTag.active=!1,this.skill=e,this.rsv.active=!1,this.selectSkeleton.node.active=!1,r.MBundle.load({bundle:r.EBundle.Game,path:p["SkillIcon"+e.id],type:cc.SpriteFrame,onComplete:e=>{this.icon.spriteFrame=e}})}select(){d.MSkill.selectSkill(this.skill),this.selectSkeleton.node.active=!0,this.selectSkeleton.setAnimation(0,"chuxian",!1),this.selectSkeleton.setCompleteListener(()=>{this.selectSkeleton.setCompleteListener(null),this.selectSkeleton.setAnimation(0,"xunhuan",!0)})}onClickSkill(){this.rsv.active?(s.MConfig.Transsion&&GA.sentLog("\u4f7f\u7528\u6280\u80fd"),s.MConfig.Transsion?(u.Temporary.TranssionVideoCallBack=()=>{this.rsv.active=!1,this.select()},null===AppProxy||void 0===AppProxy||AppProxy.requestPayment("VideoToPay")):l.MAd.rewardOperation({tag:"UseSkill",byVideo:GA.isNextRewardVideo("UseSkill"),page:"\u6218\u6597\u754c\u9762",result:e=>{e.reward&&(this.rsv.active=!1,this.select())}})):(n.MAudio.playEffect(n.EAudio.Click),this.select())}onDisable(){a.MEvent.targetOff(this),this.node.targetOff(this)}};i([h(cc.Sprite)],g.prototype,"icon",void 0),i([h(cc.Node)],g.prototype,"rsv",void 0),i([h(sp.Skeleton)],g.prototype,"selectSkeleton",void 0),i([h(cc.Node)],g.prototype,"heroTag",void 0),g=i([M],g),o.default=g,cc._RF.pop()},{"../../../Script/Manager/MAd":void 0,"../../../Script/Manager/MAudio":void 0,"../../../Script/Manager/MBundle":void 0,"../../../Script/Manager/MConfig":void 0,"../../../Script/Manager/MEvent":void 0,"../../../Script/Manager/MModel":void 0,"../../../Script/Manager/MSkill":void 0,"../../../Script/Temporary":void 0}],SkillDescribe:[function(e,t,o){"use strict";cc._RF.push(t,"05b5cz+BcRJHobYSQ9BwvlA","SkillDescribe");var i=this&&this.__decorate||function(e,t,o,i){var l,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(l=e[s])&&(r=(n<3?l(r):n>3?l(t,o,r):l(t,o))||r);return n>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});const l=e("../../Script/Manager/MBundle"),n=e("../../Script/Manager/MConfig"),r=e("../../Script/Manager/MEvent"),s=e("../../Script/Manager/MSkill");var a;(function(e){e.SkillIcon6001="res/texture/skillicon/6001",e.SkillIcon6002="res/texture/skillicon/6002",e.SkillIcon6003="res/texture/skillicon/6003",e.SkillIcon6004="res/texture/skillicon/6004",e.SkillIcon6005="res/texture/skillicon/6005",e.SkillIcon6006="res/texture/skillicon/6006",e.SkillIcon6007="res/texture/skillicon/6007",e.SkillIcon6008="res/texture/skillicon/6008",e.SkillIcon6009="res/texture/skillicon/6009",e.SkillIcon6010="res/texture/skillicon/6010",e.SkillIcon6011="res/texture/skillicon/6011",e.SkillIcon6101="res/texture/skillicon/6101",e.SkillIcon6102="res/texture/skillicon/6102",e.SkillIcon6103="res/texture/skillicon/6103",e.SkillIcon6104="res/texture/skillicon/6104",e.SkillIcon6105="res/texture/skillicon/6105",e.SkillIcon6106="res/texture/skillicon/6106",e.SkillIcon6107="res/texture/skillicon/6107",e.SkillIcon6108="res/texture/skillicon/6108",e.SkillIcon6109="res/texture/skillicon/6109",e.SkillIcon6110="res/texture/skillicon/6110",e.SkillIcon6111="res/texture/skillicon/6111",e.SkillIcon6112="res/texture/skillicon/6112",e.SkillIcon6113="res/texture/skillicon/6113",e.SkillIcon6114="res/texture/skillicon/6114",e.SkillIcon6115="res/texture/skillicon/6115",e.SkillIcon6116="res/texture/skillicon/6116",e.SkillIcon6117="res/texture/skillicon/6117"})(a||(a={}));const{ccclass:c,property:d}=cc._decorator;let u=class extends cc.Component{constructor(){super(...arguments),this.content=null,this.icon=null,this.nickName=null,this.describe=null}onEnable(){r.MEvent.on(r.EMsg.SelectSkill,e=>{this.updateInfo(e),cc.Tween.stopAllByTarget(this.content),cc.tween(this.content).set({position:cc.v3(0,100)}).to(.36,{position:cc.v3(0,-150)},{easing:cc.easing.backOut}).start()},this),r.MEvent.on([r.EMsg.CancelSkill,r.EMsg.UsedSkill],()=>{cc.Tween.stopAllByTarget(this.content),cc.tween(this.content).to(.36,{position:cc.v3(0,100)}).start()},this),this.node.on(cc.Node.EventType.TOUCH_START,()=>{r.MEvent.emit(r.EMsg.CancelSkill,s.MSkill.skill)},this)}updateInfo(e){var t,o,i,r,s,c,d,u,p,M,h,g;this.nickName.string=e.name;let S=e.describe;"cn"==n.MConfig.Language||"tc"==n.MConfig.Language?S=(S=(S=S.replace("A",null===(o=null===(t=null==e?void 0:e.param)||void 0===t?void 0:t.A)||void 0===o?void 0:o.toString())).replace("B",null===(r=null===(i=null==e?void 0:e.param)||void 0===i?void 0:i.B)||void 0===r?void 0:r.toString())).replace("C",null===(c=null===(s=null==e?void 0:e.param)||void 0===s?void 0:s.C)||void 0===c?void 0:c.toString()):"en"!=n.MConfig.Language&&"pt"!=n.MConfig.Language&&"vi"!=n.MConfig.Language&&"id"!=n.MConfig.Language||(S=(S=(S=S.replace("ref1",null===(u=null===(d=null==e?void 0:e.param)||void 0===d?void 0:d.A)||void 0===u?void 0:u.toString())).replace("ref2",null===(M=null===(p=null==e?void 0:e.param)||void 0===p?void 0:p.B)||void 0===M?void 0:M.toString())).replace("ref3",null===(g=null===(h=null==e?void 0:e.param)||void 0===h?void 0:h.C)||void 0===g?void 0:g.toString())),this.describe.string=S,l.MBundle.load({bundle:l.EBundle.Game,path:a["SkillIcon"+e.id],type:cc.SpriteFrame,onComplete:e=>{this.icon.spriteFrame=e}})}onDisable(){this.node.targetOff(this)}};i([d(cc.Node)],u.prototype,"content",void 0),i([d(cc.Sprite)],u.prototype,"icon",void 0),i([d(cc.Label)],u.prototype,"nickName",void 0),i([d(cc.Label)],u.prototype,"describe",void 0),u=i([c],u),o.default=u,cc._RF.pop()},{"../../Script/Manager/MBundle":void 0,"../../Script/Manager/MConfig":void 0,"../../Script/Manager/MEvent":void 0,"../../Script/Manager/MSkill":void 0}]},{},["GameScene","SkillDescribe","GameSkillItem"]);