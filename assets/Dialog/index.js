window.__require=function e(t,i,o){function a(r,l){if(!i[r]){if(!t[r]){var s=r.split("/");if(s=s[s.length-1],!t[s]){var c="function"==typeof __require&&__require;if(!l&&c)return c(s,!0);if(n)return n(s,!0);throw new Error("Cannot find module '"+r+"'")}r=s}var d=i[r]={exports:{}};t[r][0].call(d.exports,function(e){return a(t[r][1][e]||e)},d,d.exports,e,t,i,o)}return i[r].exports}for(var n="function"==typeof __require&&__require,r=0;r<o.length;r++)a(o[r]);return a}({BlindBoxItem:[function(e,t,i){"use strict";cc._RF.push(t,"58e6988AUtIQ6xgBCiz64YA","BlindBoxItem");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../../Script/Enum"),n=e("../../../../Script/Manager/MAd"),r=e("../../../../Script/Manager/MBundle"),l=e("../../../../Script/Manager/MConfig"),s=e("../../../../Script/Manager/MDialog"),c=e("../../../../Script/Manager/MEvent"),d=e("../../../../Script/Manager/MI18n"),h=e("../../../../Script/Manager/MModel"),g=e("../../../../Script/Temporary"),{ccclass:p,property:u}=cc._decorator;var v;(function(e){e.Item10002="BlindBox/res/texture/item/10002",e.Item10003="BlindBox/res/texture/item/10003",e.Item10004="BlindBox/res/texture/item/10004",e.Item10005="BlindBox/res/texture/item/10005",e.Item10006="BlindBox/res/texture/item/10006",e.Item7001="BlindBox/res/texture/item/7001",e.Item7002="BlindBox/res/texture/item/7002",e.Item7003="BlindBox/res/texture/item/7003",e.Item7004="BlindBox/res/texture/item/7004",e.Item7005="BlindBox/res/texture/item/7005",e.Item7006="BlindBox/res/texture/item/7006",e.Item7007="BlindBox/res/texture/item/7007",e.Item7008="BlindBox/res/texture/item/7008",e.Item7009="BlindBox/res/texture/item/7009",e.Item7010="BlindBox/res/texture/item/7010",e.Item7011="BlindBox/res/texture/item/7011",e.Item7012="BlindBox/res/texture/item/7012",e.Item7013="BlindBox/res/texture/item/7013",e.Item7014="BlindBox/res/texture/item/7014",e.Item7015="BlindBox/res/texture/item/7015",e.Item7016="BlindBox/res/texture/item/7016",e.Item7017="BlindBox/res/texture/item/7017"})(v||(v={}));let m=class extends cc.Component{constructor(){super(...arguments),this.unextract=null,this.rsv=null,this.extracted=null,this.skeleton=null,this.prize=null,this.lb103007=null}onEnable(){c.MEvent.on(c.EMsg.UpdateKey,()=>{var e;10001==(null===(e=this.item)||void 0===e?void 0:e.id)&&this.updateRsv()},this),c.MEvent.on(c.EMsg.ResetBlindBoxDisplay,()=>{this.updateInfo(this.item)},this),d.MI18n.showInfo(this.lb103007,103007)}init(e){this.item=e,this.updateInfo(e)}updateInfo(e){10001==e.id?(this.node.on(cc.Node.EventType.TOUCH_START,()=>{var e;10001==(null===(e=this.item)||void 0===e?void 0:e.id)&&(h.MModel.BlindBox.checkPayKey(1)?(h.MModel.BlindBox.payKey(1),this.openBox()):l.MConfig.Transsion?(g.Temporary.TranssionVideoCallBack=()=>{this.openBox()},null===AppProxy||void 0===AppProxy||AppProxy.requestPayment("VideoToPay")):n.MAd.rewardOperation({tag:"OpenBlindBox",byVideo:GA.isNextRewardVideo("OpenBlindBox"),page:"\u76f2\u76d2\u754c\u9762",result:e=>{e.reward&&this.openBox()}}))},this),this.unextract.active=!0,this.extracted.active=!1,this.scheduleOnce(()=>{this.skeleton.setAnimation(0,"animation",!0)},Math.random()),this.updateRsv()):(this.node.targetOff(this),this.unextract.active=!1,this.extracted.active=!0,h.MModel.Hero.checkIsHero(e.id)?this.prize.node.scale=.5:this.prize.node.scale=1,r.MBundle.load({bundle:r.EBundle.Dialog,path:v["Item"+e.id],type:cc.SpriteFrame,onComplete:e=>{(null==this?void 0:this.prize)&&(this.prize.spriteFrame=e)}}))}updateRsv(){h.MModel.BlindBox.checkPayKey(1)?this.rsv.active=!1:this.rsv.active=!0}openBox(){h.MModel.Task.doTask(6);let e=h.MModel.BlindBox.extractPrize();this.item.id=e.id,this.item.amount=e.amount,this.updateInfo(e),s.MDialog.showDialog(r.EDialog.BlindBoxPrize,{data:{item:e,source:a.ERewardSource.BlindBox}})}onDisable(){c.MEvent.targetOff(this),this.node.targetOff(this)}};o([u(cc.Node)],m.prototype,"unextract",void 0),o([u(cc.Node)],m.prototype,"rsv",void 0),o([u(cc.Node)],m.prototype,"extracted",void 0),o([u(sp.Skeleton)],m.prototype,"skeleton",void 0),o([u(cc.Sprite)],m.prototype,"prize",void 0),o([u(cc.Label)],m.prototype,"lb103007",void 0),m=o([p],m),i.default=m,cc._RF.pop()},{"../../../../Script/Enum":void 0,"../../../../Script/Manager/MAd":void 0,"../../../../Script/Manager/MBundle":void 0,"../../../../Script/Manager/MConfig":void 0,"../../../../Script/Manager/MDialog":void 0,"../../../../Script/Manager/MEvent":void 0,"../../../../Script/Manager/MI18n":void 0,"../../../../Script/Manager/MModel":void 0,"../../../../Script/Temporary":void 0}],Day:[function(e,t,i){"use strict";cc._RF.push(t,"44c71F+1VlB84eKDp2DhfUH","Day");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../../Script/Enum"),n=e("../../../../Script/Manager/MBundle"),r=e("../../../../Script/Manager/MConfig"),l=e("../../../../Script/Manager/MDialog"),s=e("../../../../Script/Manager/MEvent"),c=e("../../../../Script/Manager/MI18n"),{ccclass:d,property:h}=cc._decorator;let g=class extends cc.Component{constructor(){super(...arguments),this.languageLbs=[]}onEnable(){this.languageLbs.forEach(e=>{let t=parseInt(e.node.name);c.MI18n.showInfo(e,t)})}init(e,t,i){if(this.node.getChildByName("amount").getComponent(cc.Label).string=`+${i.reward.amount}`,i.reward.id>7e3&&i.reward.id<8e3){let e=this.node.getChildByName("grade");switch([...r.MConfig.TableHeroGrow.values()].find(e=>e.heroId==i.reward.id&&1==e.heroLevel).heroGrade){case a.EGrade.White:"cn"==r.MConfig.Language||"tc"==r.MConfig.Language?GA.isPlatform(GA.Platform.Kwaigame)?e.getChildByName("cnD").active=!0:e.getChildByName("d").active=!0:"en"!=r.MConfig.Language&&"pt"!=r.MConfig.Language&&"vi"!=r.MConfig.Language&&"id"!=r.MConfig.Language||(e.getChildByName("d").active=!0);break;case a.EGrade.Green:"cn"==r.MConfig.Language||"tc"==r.MConfig.Language?GA.isPlatform(GA.Platform.Kwaigame)?e.getChildByName("cnC").active=!0:e.getChildByName("c").active=!0:"en"!=r.MConfig.Language&&"pt"!=r.MConfig.Language&&"vi"!=r.MConfig.Language&&"id"!=r.MConfig.Language||(e.getChildByName("c").active=!0);break;case a.EGrade.Blue:"cn"==r.MConfig.Language||"tc"==r.MConfig.Language?GA.isPlatform(GA.Platform.Kwaigame)?e.getChildByName("cnB").active=!0:e.getChildByName("b").active=!0:"en"!=r.MConfig.Language&&"pt"!=r.MConfig.Language&&"vi"!=r.MConfig.Language&&"id"!=r.MConfig.Language||(e.getChildByName("b").active=!0);break;case a.EGrade.Purple:"cn"==r.MConfig.Language||"tc"==r.MConfig.Language?GA.isPlatform(GA.Platform.Kwaigame)?e.getChildByName("cnA").active=!0:e.getChildByName("a").active=!0:"en"!=r.MConfig.Language&&"pt"!=r.MConfig.Language&&"vi"!=r.MConfig.Language&&"id"!=r.MConfig.Language||(e.getChildByName("a").active=!0);break;case a.EGrade.Orange:"cn"==r.MConfig.Language||"tc"==r.MConfig.Language?GA.isPlatform(GA.Platform.Kwaigame)?e.getChildByName("cnS").active=!0:e.getChildByName("s").active=!0:"en"!=r.MConfig.Language&&"pt"!=r.MConfig.Language&&"vi"!=r.MConfig.Language&&"id"!=r.MConfig.Language||(e.getChildByName("s").active=!0)}}let o=this.node.getChildByName("item").getComponent(cc.Sprite);n.MBundle.load({bundle:n.EBundle.Dialog,path:"SignIn/res/texture/item/"+i.reward.id,type:cc.SpriteFrame,onComplete:e=>{o&&(o.spriteFrame=e,i.reward.id>7e3&&i.reward.id<8e3?"day7"==this.node.name?o.node.scale=.6:o.node.scale=.4:o.node.scale=1)}});let c=this.node.getChildByName("bg"),d=this.node.getChildByName("today"),h=this.node.getChildByName("signIned"),g=e-7*Math.ceil(e/7-1),p=i.day-7*Math.ceil(i.day/7-1);g>p?(c.active=!0,d.active=!1,h.active=!0):g==p?(c.active=!1,d.active=!0,t?h.active=!0:(h.active=!1,s.MEvent.once(s.EMsg.SignIn,()=>{h.active=!0,l.MDialog.showDialog(n.EDialog.BlindBoxPrize,{data:{item:i.reward,source:a.ERewardSource.SignIn}})},this))):g<p&&(c.active=!0,d.active=!1,h.active=!1)}onDisable(){s.MEvent.targetOff(this)}};o([h([cc.Label])],g.prototype,"languageLbs",void 0),g=o([d],g),i.default=g,cc._RF.pop()},{"../../../../Script/Enum":void 0,"../../../../Script/Manager/MBundle":void 0,"../../../../Script/Manager/MConfig":void 0,"../../../../Script/Manager/MDialog":void 0,"../../../../Script/Manager/MEvent":void 0,"../../../../Script/Manager/MI18n":void 0}],DialogActivityExplain:[function(e,t,i){"use strict";cc._RF.push(t,"b9ff6rxBFtDpbWCXR/cKsen","DialogActivityExplain");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../Script/Base/BaseDialog"),n=e("../../../Script/Manager/MAudio"),{ccclass:r,property:l}=cc._decorator;let s=class extends a.default{onClickClose(){n.MAudio.playEffect(n.EAudio.Click),this.destroyDialog()}};s=o([r],s),i.default=s,cc._RF.pop()},{"../../../Script/Base/BaseDialog":void 0,"../../../Script/Manager/MAudio":void 0}],DialogAddShortcut:[function(e,t,i){"use strict";cc._RF.push(t,"0adddP5r2dFhqcLO5Sf7gQF","DialogAddShortcut");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../Script/Base/BaseDialog"),n=e("../../../Script/Enum"),r=e("../../../Script/Manager/MAudio"),l=e("../../../Script/Manager/MBundle"),s=e("../../../Script/Manager/MData"),c=e("../../../Script/Manager/MDialog"),d=e("../../../Script/Manager/MEvent"),h=e("../../../Script/Manager/MItem"),g=e("../../../Script/Manager/MModel"),p=e("../../../Script/Manager/MToast"),{ccclass:u,property:v}=cc._decorator;let m=class extends a.default{constructor(){super(...arguments),this.items=[]}showDialog(){super.showDialog(),this.items.forEach(e=>{g.MModel.Common.ReceiveAddDesktop?e.getChildByName("received").active=!0:e.getChildByName("received").active=!1})}onClickAddDesktop(){r.MAudio.playEffect(r.EAudio.Click),GA.isPlatform(GA.Platform.ByteDance)&&GA.PA.addShortcut({success:e=>{console.log("\u6dfb\u52a0\u684c\u9762\u6210\u529f\uff01"),console.log(e),g.MModel.Common.ReceiveAddDesktop||(g.MModel.Common.ReceiveAddDesktop=!0,c.MDialog.showDialog(l.EDialog.BlindBoxPrize,{data:{item:{id:7013,amount:1},source:n.ERewardSource.AddDesktop}}),h.MItem.getItem([{id:10004,amount:200}],1),s.MData.save()),d.MEvent.emit(d.EMsg.AddDesktopSuccess),this.destroyDialog()},fail:e=>{console.log("\u6dfb\u52a0\u684c\u9762\u5931\u8d25\uff01"),console.log(e),p.MToast.showToast({title:"\u6dfb\u52a0\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\uff01"})}})}onClickClose(){r.MAudio.playEffect(r.EAudio.Click),g.MModel.Common.closeAddShortcutCount++,this.destroyDialog()}};o([v([cc.Node])],m.prototype,"items",void 0),m=o([u],m),i.default=m,cc._RF.pop()},{"../../../Script/Base/BaseDialog":void 0,"../../../Script/Enum":void 0,"../../../Script/Manager/MAudio":void 0,"../../../Script/Manager/MBundle":void 0,"../../../Script/Manager/MData":void 0,"../../../Script/Manager/MDialog":void 0,"../../../Script/Manager/MEvent":void 0,"../../../Script/Manager/MItem":void 0,"../../../Script/Manager/MModel":void 0,"../../../Script/Manager/MToast":void 0}],DialogBlindBoxPrize:[function(e,t,i){"use strict";cc._RF.push(t,"77ed1lltydHxINCASEJ/s/v","DialogBlindBoxPrize");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../Script/Base/BaseDialog"),n=e("../../../Script/Enum"),r=e("../../../Script/Manager/MAd"),l=e("../../../Script/Manager/MAudio"),s=e("../../../Script/Manager/MBundle"),c=e("../../../Script/Manager/MConfig"),d=e("../../../Script/Manager/MDialog"),h=e("../../../Script/Manager/MItem"),g=e("../../../Script/Manager/MModel"),p=e("../../../Script/Temporary"),{ccclass:u,property:v}=cc._decorator;var m,M,f;(function(e){e.White="Hero/res/texture/autoatlas/grade/d",e.Green="Hero/res/texture/autoatlas/grade/c",e.Blue="Hero/res/texture/autoatlas/grade/b",e.Purple="Hero/res/texture/autoatlas/grade/a",e.Orange="Hero/res/texture/autoatlas/grade/s"})(m||(m={})),function(e){e.White="Hero/res/texture/autoatlas/cnGrade/d2",e.Green="Hero/res/texture/autoatlas/cnGrade/c2",e.Blue="Hero/res/texture/autoatlas/cnGrade/b2",e.Purple="Hero/res/texture/autoatlas/cnGrade/a2",e.Orange="Hero/res/texture/autoatlas/cnGrade/s2"}(M||(M={})),function(e){e.Item7001="BlindBox/res/texture/item/7001",e.Item7002="BlindBox/res/texture/item/7002",e.Item7003="BlindBox/res/texture/item/7003",e.Item7004="BlindBox/res/texture/item/7004",e.Item7005="BlindBox/res/texture/item/7005",e.Item7006="BlindBox/res/texture/item/7006",e.Item7007="BlindBox/res/texture/item/7007",e.Item7008="BlindBox/res/texture/item/7008",e.Item7009="BlindBox/res/texture/item/7009",e.Item7010="BlindBox/res/texture/item/7010",e.Item7011="BlindBox/res/texture/item/7011",e.Item7012="BlindBox/res/texture/item/7012",e.Item7013="BlindBox/res/texture/item/7013",e.Item7014="BlindBox/res/texture/item/7014",e.Item7015="BlindBox/res/texture/item/7015",e.Item7016="BlindBox/res/texture/item/7016",e.Item7017="BlindBox/res/texture/item/7017",e.Item10001="BlindBox/res/texture/item/10001",e.Item10002="BlindBox/res/texture/item/10002",e.Item10003="BlindBox/res/texture/item/10003",e.Item10004="BlindBox/res/texture/item/10004",e.Item10005="BlindBox/res/texture/item/10005",e.Item10006="BlindBox/res/texture/item/10006"}(f||(f={}));let C=class extends a.default{constructor(){super(...arguments),this.titleReward=null,this.titleRewardEn=null,this.titleRewardPt=null,this.titleRewardId=null,this.titleRewardVi=null,this.titleNew=null,this.normalPrize=null,this.heroPrize=null,this.describe=null,this.skeletonOpenBlindBox=null,this.skeletonFrame=null,this.grade=null,this.spHero=null,this.spNormalPrize=null,this.normal=null,this.resolve=null,this.guideHand=null,this.ndBtnContinueDraw=null,this.ndBtnNormalReceive=null,this.platformOther=null,this.platformByteDance=null,this.ndBtnDoubleReceive=null}onEnable(){GA.isPlatform([GA.Platform.ByteDance,GA.Platform.Kwaigame])?(this.platformByteDance.active=!0,this.platformOther.active=!1):(this.platformByteDance.active=!1,this.platformOther.active=!0),p.Temporary.RewardDoubleHide&&(this.ndBtnDoubleReceive.active=!1)}showDialog(){super.showDialog(),this.item=this.dialogOption.data.item,this.source=this.dialogOption.data.source;let e=()=>{if(g.MModel.Hero.checkIsHero(this.item.id)){let e=[...c.MConfig.TableHeroGrow.values()].find(e=>e.heroId==this.item.id&&1==e.heroLevel),t=Utils.enumValue(m,n.EGrade[e.heroGrade]);GA.isPlatform(GA.Platform.Kwaigame)&&(t=Utils.enumValue(M,n.EGrade[e.heroGrade])),s.MBundle.load({bundle:s.EBundle.Dialog,path:t,type:cc.SpriteFrame,onComplete:e=>{(null==this?void 0:this.grade)&&(this.grade.spriteFrame=e)}}),s.MBundle.load({bundle:s.EBundle.Dialog,path:f["Item"+this.item.id],type:cc.SpriteFrame,onComplete:e=>{(null==this?void 0:this.spHero)&&(this.spHero.spriteFrame=e)}}),this.skeletonFrame.node.active=!0,this.describe.string=c.MConfig.TableItem.get(this.item.id).name,this.normalPrize.active=!1,this.heroPrize.active=!0,g.MModel.Hero.checkHeroUnlock(this.item.id)?("cn"==c.MConfig.Language||"tc"==c.MConfig.Language?(this.titleReward.active=!0,this.titleRewardEn.active=!1,this.titleRewardPt.active=!1,this.titleRewardId.active=!1,this.titleRewardVi.active=!1):"pt"==c.MConfig.Language?(this.titleReward.active=!1,this.titleRewardEn.active=!1,this.titleRewardPt.active=!0,this.titleRewardId.active=!1,this.titleRewardVi.active=!1):"id"==c.MConfig.Language?(this.titleReward.active=!1,this.titleRewardEn.active=!1,this.titleRewardPt.active=!1,this.titleRewardId.active=!0,this.titleRewardVi.active=!1):"vi"==c.MConfig.Language?(this.titleReward.active=!1,this.titleRewardEn.active=!1,this.titleRewardPt.active=!1,this.titleRewardId.active=!1,this.titleRewardVi.active=!0):(this.titleReward.active=!1,this.titleRewardEn.active=!0,this.titleRewardPt.active=!1,this.titleRewardId.active=!1,this.titleRewardVi.active=!1),this.titleNew.active=!1,this.normal.active=!1,this.resolve.active=!0):(this.titleReward.active=!1,this.titleRewardEn.active=!1,this.titleRewardPt.active=!1,this.titleRewardId.active=!1,this.titleRewardVi.active=!1,this.titleNew.active=!0,this.normal.active=!0,this.resolve.active=!1),g.MModel.Guide.completeHeroOnBattleGuide?this.guideHand.active=!1:(g.MModel.Guide.completeHeroOnBattleGuide=!0,GA.sentLogs([{eventId:"\u8fdb\u5165\u82f1\u96c4\u4e0a\u9635\u5f15\u5bfc"}]),this.ndBtnContinueDraw.active=!1,this.guideHand.active=!0,this.guideHand.setPosition(cc.v2(0,-382)),cc.tween(this.guideHand).by(.3,{position:cc.v3(0,50)}).by(.3,{position:cc.v3(0,-50)}).union().repeatForever().start())}else s.MBundle.load({bundle:s.EBundle.Dialog,path:f["Item"+this.item.id],type:cc.SpriteFrame,onComplete:e=>{(null==this?void 0:this.spNormalPrize)&&(this.spNormalPrize.spriteFrame=e)}}),this.skeletonFrame.node.active=!1,"cn"==c.MConfig.Language||"tc"==c.MConfig.Language?(this.titleReward.active=!0,this.titleRewardEn.active=!1,this.titleRewardPt.active=!1,this.titleRewardId.active=!1,this.titleRewardVi.active=!1):"pt"==c.MConfig.Language?(this.titleReward.active=!1,this.titleRewardEn.active=!1,this.titleRewardPt.active=!0,this.titleRewardId.active=!1,this.titleRewardVi.active=!1):"id"==c.MConfig.Language?(this.titleReward.active=!1,this.titleRewardEn.active=!1,this.titleRewardPt.active=!1,this.titleRewardId.active=!0,this.titleRewardVi.active=!1):"vi"==c.MConfig.Language?(this.titleReward.active=!1,this.titleRewardEn.active=!1,this.titleRewardPt.active=!1,this.titleRewardId.active=!1,this.titleRewardVi.active=!0):(this.titleReward.active=!1,this.titleRewardEn.active=!0,this.titleRewardPt.active=!1,this.titleRewardId.active=!1,this.titleRewardVi.active=!1),this.titleNew.active=!1,this.normalPrize.active=!0,this.heroPrize.active=!1,"inland"==c.MConfig.Region?this.describe.string=`${c.MConfig.TableItem.get(this.item.id).name} x${this.item.amount}`:"overseas"==c.MConfig.Region&&(this.describe.string=`${c.MConfig.TableItem.get(this.item.id).name} *${this.item.amount}`)};this.source==n.ERewardSource.BlindBox?(this.skeletonOpenBlindBox.node.active=!0,this.skeletonOpenBlindBox.setAnimation(0,"animation",!1),this.scheduleOnce(()=>{l.MAudio.playEffect(l.EAudio.OpenBox)},1),this.skeletonOpenBlindBox.setCompleteListener(()=>{this.skeletonOpenBlindBox.node.active=!1,this.skeletonOpenBlindBox.setCompleteListener(null),e()})):this.source!=n.ERewardSource.SignIn&&this.source!=n.ERewardSource.Task&&this.source!=n.ERewardSource.Halloween&&this.source!=n.ERewardSource.Thanksgiving&&this.source!=n.ERewardSource.Christmas&&this.source!=n.ERewardSource.NewYear&&this.source!=n.ERewardSource.ExchangeCode&&this.source!=n.ERewardSource.MothersDay&&this.source!=n.ERewardSource.AddDesktop||(l.MAudio.playEffect(l.EAudio.OpenBox),e()),GA.isPlatform([GA.Platform.WeChat,GA.Platform.QQ])?(this.ndBtnContinueDraw.getComponent(cc.Sprite).enabled=!0,this.ndBtnNormalReceive.getComponent(cc.Sprite).enabled=!0,this.ndBtnContinueDraw.children[0].color=cc.color(139,59,22),this.ndBtnNormalReceive.children[0].color=cc.color(139,59,22)):(this.ndBtnContinueDraw.getComponent(cc.Sprite).enabled=!1,this.ndBtnNormalReceive.getComponent(cc.Sprite).enabled=!1,this.ndBtnContinueDraw.children[0].color=cc.color(255,255,255),this.ndBtnNormalReceive.children[0].color=cc.color(255,255,255))}onClickDoubleReceive(){l.MAudio.playEffect(l.EAudio.Click),c.MConfig.Transsion?(p.Temporary.TranssionVideoCallBack=()=>{h.MItem.getItem([this.item],2),this.destroyDialog()},null===AppProxy||void 0===AppProxy||AppProxy.requestPayment("VideoToPay")):r.MAd.rewardOperation({tag:"BlindBoxPrizeDouble",byVideo:GA.isNextRewardVideo("BlindBoxPrizeDouble"),page:"\u76f2\u76d2\u5956\u52b1\u754c\u9762",result:e=>{e.reward&&(h.MItem.getItem([this.item],2),this.destroyDialog())}})}onClickNormalReceive(){l.MAudio.playEffect(l.EAudio.Click),h.MItem.getItem([this.item],1),this.destroyDialog()}onClickReplace(){l.MAudio.playEffect(l.EAudio.Click),g.MModel.Hero.checkIsHero(this.item.id)&&(g.MModel.Hero.unlockHero(this.item.id),g.MModel.Hero.replaceHero({id:this.item.id,level:1})),d.MDialog.showDialog(s.EDialog.Hero,{data:g.MModel.Hero}),this.destroyDialog()}onClickContinue(){l.MAudio.playEffect(l.EAudio.Click),g.MModel.Hero.checkIsHero(this.item.id)&&g.MModel.Hero.unlockHero(this.item.id),this.destroyDialog()}onClickResolve(){l.MAudio.playEffect(l.EAudio.Click);let e=[...c.MConfig.TableHeroGrow.values()].find(e=>e.heroId==this.item.id&&1==e.heroLevel);g.MModel.Hero.addMushroom(e.decompose),this.destroyDialog()}onDisable(){p.Temporary.RewardDoubleHide=!1}};o([v(cc.Node)],C.prototype,"titleReward",void 0),o([v(cc.Node)],C.prototype,"titleRewardEn",void 0),o([v(cc.Node)],C.prototype,"titleRewardPt",void 0),o([v(cc.Node)],C.prototype,"titleRewardId",void 0),o([v(cc.Node)],C.prototype,"titleRewardVi",void 0),o([v(cc.Node)],C.prototype,"titleNew",void 0),o([v(cc.Node)],C.prototype,"normalPrize",void 0),o([v(cc.Node)],C.prototype,"heroPrize",void 0),o([v(cc.Label)],C.prototype,"describe",void 0),o([v(sp.Skeleton)],C.prototype,"skeletonOpenBlindBox",void 0),o([v(sp.Skeleton)],C.prototype,"skeletonFrame",void 0),o([v(cc.Sprite)],C.prototype,"grade",void 0),o([v(cc.Sprite)],C.prototype,"spHero",void 0),o([v(cc.Sprite)],C.prototype,"spNormalPrize",void 0),o([v(cc.Node)],C.prototype,"normal",void 0),o([v(cc.Node)],C.prototype,"resolve",void 0),o([v(cc.Node)],C.prototype,"guideHand",void 0),o([v(cc.Node)],C.prototype,"ndBtnContinueDraw",void 0),o([v(cc.Node)],C.prototype,"ndBtnNormalReceive",void 0),o([v(cc.Node)],C.prototype,"platformOther",void 0),o([v(cc.Node)],C.prototype,"platformByteDance",void 0),o([v(cc.Node)],C.prototype,"ndBtnDoubleReceive",void 0),C=o([u],C),i.default=C,cc._RF.pop()},{"../../../Script/Base/BaseDialog":void 0,"../../../Script/Enum":void 0,"../../../Script/Manager/MAd":void 0,"../../../Script/Manager/MAudio":void 0,"../../../Script/Manager/MBundle":void 0,"../../../Script/Manager/MConfig":void 0,"../../../Script/Manager/MDialog":void 0,"../../../Script/Manager/MItem":void 0,"../../../Script/Manager/MModel":void 0,"../../../Script/Temporary":void 0}],DialogBlindBox:[function(e,t,i){"use strict";cc._RF.push(t,"b53a3ugi9RMCJ7yW93QXiwJ","DialogBlindBox");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../Script/Base/BaseDialog"),n=e("../../../Script/Enum"),r=e("../../../Script/Manager/MAudio"),l=e("../../../Script/Manager/MBundle"),s=e("../../../Script/Manager/MConfig"),c=e("../../../Script/Manager/MEvent"),d=e("../../../Script/Manager/MModel"),h=e("../../../Script/Manager/MPool"),g=e("../../../Script/Manager/MTween"),p=e("./prefab/BlindBoxItem"),u=e("./prefab/GetBlindBoxRewardTip"),v=e("./prefab/SurplusPrizeItem"),{ccclass:m,property:M}=cc._decorator;var f,C,y;(function(e){e.Item10002="BlindBox/res/texture/item/10002",e.Item10003="BlindBox/res/texture/item/10003",e.Item10004="BlindBox/res/texture/item/10004",e.Item10005="BlindBox/res/texture/item/10005",e.Item7001="BlindBox/res/texture/item/7001",e.Item7002="BlindBox/res/texture/item/7002",e.Item7003="BlindBox/res/texture/item/7003",e.Item7004="BlindBox/res/texture/item/7004",e.Item7005="BlindBox/res/texture/item/7005",e.Item7006="BlindBox/res/texture/item/7006",e.Item7007="BlindBox/res/texture/item/7007",e.Item7008="BlindBox/res/texture/item/7008",e.Item7009="BlindBox/res/texture/item/7009",e.Item7010="BlindBox/res/texture/item/7010",e.Item7011="BlindBox/res/texture/item/7011",e.Item7012="BlindBox/res/texture/item/7012",e.Item7013="BlindBox/res/texture/item/7013",e.Item7014="BlindBox/res/texture/item/7014",e.Item7015="BlindBox/res/texture/item/7015",e.Item7016="BlindBox/res/texture/item/7016",e.Item7017="BlindBox/res/texture/item/7017"})(f||(f={})),function(e){e.White="Hero/res/texture/autoatlas/grade/d",e.Green="Hero/res/texture/autoatlas/grade/c",e.Blue="Hero/res/texture/autoatlas/grade/b",e.Purple="Hero/res/texture/autoatlas/grade/a",e.Orange="Hero/res/texture/autoatlas/grade/s"}(C||(C={})),function(e){e.White="Hero/res/texture/autoatlas/cnGrade/d2",e.Green="Hero/res/texture/autoatlas/cnGrade/c2",e.Blue="Hero/res/texture/autoatlas/cnGrade/b2",e.Purple="Hero/res/texture/autoatlas/cnGrade/a2",e.Orange="Hero/res/texture/autoatlas/cnGrade/s2"}(y||(y={}));const S=["\u666e\u901a","\u9ad8\u7ea7","\u7a00\u6709","\u53f2\u8bd7","\u4f20\u8bf4"],B=["D","C","B","A","S"];let A=class extends a.default{constructor(){super(...arguments),this.top=null,this.hero=null,this.mustout=null,this.garde=null,this.lbKey=null,this.luckyValue=null,this.blindBoxContent=null,this.surplusPrizeContent=null,this.blindBoxRewardTipContent=null,this.guideHand=null,this.bubble=null,this.ksMoveBtns=[]}onEnable(){let e=GA.PA.getSystemInfoSync();if("l"==Utils.screenSize()){let t=GA.PA.getMenuButtonBoundingClientRect();(null==t?void 0:t.top)?this.top.getComponent(cc.Widget).top=t.top*e.designPixelRatio:this.top.getComponent(cc.Widget).top=45}c.MEvent.on(c.EMsg.UpdateKey,()=>{this.updateKey()},this),c.MEvent.on(c.EMsg.UpdateLuckyValue,()=>{this.updateLuckyValue()},this),GA.isPlatform(GA.Platform.Kwaigame)&&-1==GA.PA.getSystemInfoSync().platform.toLocaleLowerCase().indexOf("ios")&&this.ksMoveBtns.forEach(e=>{e.x+=90})}showDialog(){super.showDialog(),d.MModel.Guide.completeBlindBoxGuide=!0,this.model=this.dialogOption.data,"inland"!=s.MConfig.Region||"cn"!=s.MConfig.Language||GA.isPlatform(GA.Platform.WeiYouH5)||this.showBlindBoxRewardTip();let e=this.model.blindBoxPrizes.find(e=>d.MModel.Hero.checkIsHero(e.info.reward.id)).info.reward.id,t=[...s.MConfig.TableHeroGrow.values()].find(t=>t.heroId==e&&1==t.heroLevel);l.MBundle.load({bundle:l.EBundle.Dialog,path:f["Item"+e],type:cc.SpriteFrame,onComplete:e=>{(null==this?void 0:this.hero)&&(this.hero.spriteFrame=e)}});let i=Utils.enumValue(C,n.EGrade[t.heroGrade]);GA.isPlatform(GA.Platform.Kwaigame)&&(i=Utils.enumValue(y,n.EGrade[t.heroGrade])),l.MBundle.load({bundle:l.EBundle.Dialog,path:i,type:cc.SpriteFrame,onComplete:e=>{(null==this?void 0:this.garde)&&(this.garde.spriteFrame=e)}}),"cn"==s.MConfig.Language?GA.isPlatform(GA.Platform.Kwaigame)?this.mustout.string=`\u4ee5\u4e0b\u76f2\u76d2\u5fc5\u51fa<color=#ffe400>${S[t.heroGrade-1]}\u82f1\u96c4</c>`:this.mustout.string=`\u4ee5\u4e0b\u76f2\u76d2\u5fc5\u51fa<color=#ffe400>${B[t.heroGrade-1]}\u7ea7\u82f1\u96c4</c>`:"tc"==s.MConfig.Language?this.mustout.string=`\u4ee5\u4e0b\u76f2\u76d2\u5fc5\u51fa<color=#ffe400>${B[t.heroGrade-1]}\u7d1a\u82f1\u96c4</c>`:"en"!=s.MConfig.Language&&"pt"!=s.MConfig.Language&&"vi"!=s.MConfig.Language&&"id"!=s.MConfig.Language||(this.mustout.string=`boxes contain <color=#ffe400>${B[t.heroGrade-1]} hero</c>`),this.loadBlindBox(0,this.model.displayItems,()=>{this.updateSurplusPrize()}),this.updateKey(),this.updateLuckyValue()}start(){super.start(),d.MModel.Guide.completeBlindBoxBulleGuide?(this.bubble.active=!1,this.guideHand.active=!1):(d.MModel.Guide.completeBlindBoxBulleGuide=!0,this.bubble.active=!0,this.guideHand.active=!0,g.MTween.jelly(this.bubble),cc.tween(this.guideHand).repeat(5,cc.tween().by(.3,{position:cc.v3(0,-30)}).by(.3,{position:cc.v3(0,30)})).call(()=>{this.guideHand.active=!1}).start())}loadBlindBox(e,t,i){e<t.length?h.MPool.load({bundle:l.EBundle.Dialog,path:"BlindBox/res/prefab/blindBoxItem",type:cc.Prefab,onComplete:o=>{o.setParent(this.blindBoxContent),o.getComponent(p.default).init(t[e]),this.loadBlindBox(++e,t,i)}}):i()}updateKey(){this.lbKey.string=`${GA.formatNumber(this.model.key)}`}updateLuckyValue(){this.luckyValue.string=`${this.model.luckValueList[0]}%`,100==this.model.luckValueList[0]&&(this.bubble.active=!1)}updateSurplusPrize(){for(;this.surplusPrizeContent.childrenCount>0;)h.MPool.recovery(this.surplusPrizeContent.children[0]);this.scheduleOnce(()=>{let e=[];this.model.blindBoxPrizes.forEach(t=>{e.find(e=>e.id==t.info.reward.id)||e.push(t.info.reward)}),this.loadSurplusPrize(0,e)})}loadSurplusPrize(e,t){e<t.length&&h.MPool.load({bundle:l.EBundle.Dialog,path:"BlindBox/res/prefab/surplusPrizeItem",type:cc.Prefab,onComplete:i=>{i.setParent(this.surplusPrizeContent),i.getComponent(v.default).init(t[e]),this.loadSurplusPrize(++e,t)}})}onClickClose(){r.MAudio.playEffect(r.EAudio.Click),this.destroyDialog()}showBlindBoxRewardTip(){GA.request({url:Urls.url_getSomeRobots,data:{limit:300},method:"POST",success:e=>{if(0==e.data.code){let t=e.data.data,i=0;this.schedule(()=>{h.MPool.load({bundle:l.EBundle.Dialog,path:"BlindBox/res/prefab/getBlindBoxRewardTip",type:cc.Prefab,onComplete:e=>{let o=this.getRandomItem();e.setParent(this.blindBoxRewardTipContent),e.getComponent(u.default).init({robot:t[i%t.length],item:o},-100-300*Math.random()),i++}})},8,cc.macro.REPEAT_FOREVER,3*Math.random())}},fail:e=>{console.log(e)}})}getRandomItem(){let e,t=[...s.MConfig.TableItem.values()];for(;!e;){let i=t[Math.floor(Math.random()*t.length)];10001!=i.id&&(e=10003==i.id?{id:i.id,amount:Math.floor(5+20*Math.random())}:10004==i.id?{id:i.id,amount:Math.floor(5+20*Math.random())}:10005==i.id?{id:i.id,amount:Math.floor(5+20*Math.random())}:{id:i.id,amount:1})}return e}onDisable(){c.MEvent.targetOff(this)}};o([M(cc.Node)],A.prototype,"top",void 0),o([M(cc.Sprite)],A.prototype,"hero",void 0),o([M(cc.RichText)],A.prototype,"mustout",void 0),o([M(cc.Sprite)],A.prototype,"garde",void 0),o([M(cc.Label)],A.prototype,"lbKey",void 0),o([M(cc.Label)],A.prototype,"luckyValue",void 0),o([M(cc.Node)],A.prototype,"blindBoxContent",void 0),o([M(cc.Node)],A.prototype,"surplusPrizeContent",void 0),o([M(cc.Node)],A.prototype,"blindBoxRewardTipContent",void 0),o([M(cc.Node)],A.prototype,"guideHand",void 0),o([M(cc.Node)],A.prototype,"bubble",void 0),o([M([cc.Node])],A.prototype,"ksMoveBtns",void 0),A=o([m],A),i.default=A,cc._RF.pop()},{"../../../Script/Base/BaseDialog":void 0,"../../../Script/Enum":void 0,"../../../Script/Manager/MAudio":void 0,"../../../Script/Manager/MBundle":void 0,"../../../Script/Manager/MConfig":void 0,"../../../Script/Manager/MEvent":void 0,"../../../Script/Manager/MModel":void 0,"../../../Script/Manager/MPool":void 0,"../../../Script/Manager/MTween":void 0,"./prefab/BlindBoxItem":"BlindBoxItem","./prefab/GetBlindBoxRewardTip":"GetBlindBoxRewardTip","./prefab/SurplusPrizeItem":"SurplusPrizeItem"}],DialogClause:[function(e,t,i){"use strict";cc._RF.push(t,"ba348v81DlCTJrlh8ahaBhi","DialogClause");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../Script/Base/BaseDialog"),n=e("../../../Script/Manager/MAudio"),{ccclass:r,property:l}=cc._decorator;let s=class extends a.default{constructor(){super(...arguments),this.title=null,this.yinsizhengce=null,this.shilingtixing=null}showDialog(){super.showDialog(),"\u9690\u79c1\u6761\u6b3e"==this.dialogOption.data||"\u7528\u6237\u534f\u8bae"==this.dialogOption.data?(this.yinsizhengce.active=!0,this.shilingtixing.active=!1):"\u9002\u9f84\u63d0\u9192"==this.dialogOption.data&&(this.yinsizhengce.active=!1,this.shilingtixing.active=!0),this.title.string=this.dialogOption.data}onClickClose(){n.MAudio.playEffect(n.EAudio.Click),this.destroyDialog()}};o([l(cc.Label)],s.prototype,"title",void 0),o([l(cc.Node)],s.prototype,"yinsizhengce",void 0),o([l(cc.Node)],s.prototype,"shilingtixing",void 0),s=o([r],s),i.default=s,cc._RF.pop()},{"../../../Script/Base/BaseDialog":void 0,"../../../Script/Manager/MAudio":void 0}],DialogDeleteUser:[function(e,t,i){"use strict";cc._RF.push(t,"21c8ajGlsJIk5PpTB2LOOME","DialogDeleteUser");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../Script/Base/BaseDialog"),n=e("../../../Script/Manager/MAudio"),r=e("../../../Script/Manager/MToast"),{ccclass:l,property:s}=cc._decorator;let c=class extends a.default{constructor(){super(...arguments),this.editBox=null,this.check=null,this.checkCode=null}showDialog(){super.showDialog(),this.checkCode=GA.Random.rangeInt(1e3,9999),this.check.string=`\u6ce8\u9500\u7528\u6237\uff0c\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801\uff1a${this.checkCode}`}onClickConfirm(){if(n.MAudio.playEffect(n.EAudio.Click),this.editBox.string!=this.checkCode.toString())return void r.MToast.showToast({title:"\u9a8c\u8bc1\u7801\u9519\u8bef\uff01"});let e=()=>{GA.request({url:"https://game.17tcw.com/default/login/delUser",data:{openid:GA.Info.openId},method:"POST",success:t=>{console.log(t),0==t.data.code?(GA.Info.isPreview||(cc.assetManager.cacheManager.clearCache(),null!=GA.PA.clearStorageSync&&GA.PA.clearStorageSync()),cc.sys.localStorage.clear(),cc.game.end()):GA.PA.showModal({title:"\u63d0\u793a",content:"\u91cd\u7f6e\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5",showCancel:!1,confirmText:"\u91cd\u8bd5",success:()=>{e()}})},fail:()=>{GA.PA.showModal({title:"\u63d0\u793a",content:"\u91cd\u7f6e\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5",showCancel:!1,confirmText:"\u91cd\u8bd5",success:()=>{e()}})}})};e()}onClickClose(){n.MAudio.playEffect(n.EAudio.Click),this.destroyDialog()}};o([s(cc.EditBox)],c.prototype,"editBox",void 0),o([s(cc.Label)],c.prototype,"check",void 0),c=o([l],c),i.default=c,cc._RF.pop()},{"../../../Script/Base/BaseDialog":void 0,"../../../Script/Manager/MAudio":void 0,"../../../Script/Manager/MToast":void 0}],DialogFirstImpulse:[function(e,t,i){"use strict";cc._RF.push(t,"7bbbecEqFpLQbvvYtP0Lqwe","DialogFirstImpulse");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../Script/Base/BaseDialog"),n=e("../../../Script/Manager/MAudio"),r=e("../../../Script/Manager/MBundle"),l=e("../../../Script/Manager/MConfig"),s=e("../../../Script/Manager/MEvent"),c=e("../../../Script/Manager/MIP"),d=e("./prefab/FirstImpulseItem"),{ccclass:h,property:g}=cc._decorator;let p=class extends a.default{constructor(){super(...arguments),this.titleCn=null,this.titleTc=null,this.titleEn=null,this.titlePt=null,this.titleVi=null,this.titleId=null,this.rewardContent=null,this.price=null,this.more=null}showDialog(){super.showDialog(),"cn"==l.MConfig.Language?(this.titleCn.active=!0,this.titleTc.active=!1,this.titleEn.active=!1,this.titlePt.active=!1,this.titleVi.active=!1,this.titleId.active=!1):"tc"==l.MConfig.Language?(this.titleCn.active=!1,this.titleTc.active=!0,this.titleEn.active=!1,this.titlePt.active=!1,this.titleVi.active=!1,this.titleId.active=!1):"pt"==l.MConfig.Language?(this.titleCn.active=!1,this.titleTc.active=!1,this.titleEn.active=!1,this.titlePt.active=!0,this.titleVi.active=!1,this.titleId.active=!1):"vi"==l.MConfig.Language?(this.titleCn.active=!1,this.titleTc.active=!1,this.titleEn.active=!1,this.titlePt.active=!1,this.titleVi.active=!0,this.titleId.active=!1):"id"==l.MConfig.Language?(this.titleCn.active=!1,this.titleTc.active=!1,this.titleEn.active=!1,this.titlePt.active=!1,this.titleVi.active=!1,this.titleId.active=!0):(this.titleCn.active=!1,this.titleTc.active=!1,this.titleEn.active=!0,this.titlePt.active=!1,this.titleVi.active=!1,this.titleId.active=!1);let e=[];for(const t in l.MConfig.AppProxyConfig.NewFirstImpulse)"coin"!=t&&"gemstone"!=t&&"strength"!=t&&"diamond"!=t&&"mushroom"!=t&&"key"!=t||e.push({k:t,v:l.MConfig.AppProxyConfig.NewFirstImpulse[t]});this.price.string=l.MConfig.PurchaseGoods.newfirstimpulse.price,this.more.string=`${100*l.MConfig.AppProxyConfig.NewFirstImpulse.more}%`,this.loadItem(0,e)}onEnable(){s.MEvent.on(s.EMsg.GetFirstImpulseReward,()=>{this.destroyDialog()},this)}loadItem(e,t){e<t.length&&r.MBundle.load({bundle:r.EBundle.Dialog,path:"FirstImpulse/res/prefab/firstImpulseItem",type:cc.Prefab,onComplete:i=>{let o=cc.instantiate(i);o.setParent(this.rewardContent),o.getComponent(d.default).init(t[e]),this.loadItem(++e,t)}})}onClickClose(){n.MAudio.playEffect(n.EAudio.Click),this.destroyDialog()}onClickBuy(){n.MAudio.playEffect(n.EAudio.Click),l.MConfig.Hago?c.MIP.createTransaction({gameItemId:l.MConfig.PurchaseGoods.newfirstimpulse.gameItemId,callback:e=>{window.hg.requestPayment({item_id:l.MConfig.PurchaseGoods.newfirstimpulse.price_amount_micros,transaction_id:e.orderId,subject:l.MConfig.PurchaseGoods.newfirstimpulse.name,success:()=>{console.log("requestPaymentSuccess:",GA.Info.openId),c.MIP.getRewardByGameItemId(e.gameItemId),c.MIP.getPayResult({amount:5,receive:!1})},fail:e=>{console.log(e.errMsg,e.errCode)}})}}):null===AppProxy||void 0===AppProxy||AppProxy.requestPayment(l.MConfig.PurchaseGoods.newfirstimpulse.productId)}onDisable(){s.MEvent.targetOff(this)}};o([g(cc.Node)],p.prototype,"titleCn",void 0),o([g(cc.Node)],p.prototype,"titleTc",void 0),o([g(cc.Node)],p.prototype,"titleEn",void 0),o([g(cc.Node)],p.prototype,"titlePt",void 0),o([g(cc.Node)],p.prototype,"titleVi",void 0),o([g(cc.Node)],p.prototype,"titleId",void 0),o([g(cc.Node)],p.prototype,"rewardContent",void 0),o([g(cc.Label)],p.prototype,"price",void 0),o([g(cc.Label)],p.prototype,"more",void 0),p=o([h],p),i.default=p,cc._RF.pop()},{"../../../Script/Base/BaseDialog":void 0,"../../../Script/Manager/MAudio":void 0,"../../../Script/Manager/MBundle":void 0,"../../../Script/Manager/MConfig":void 0,"../../../Script/Manager/MEvent":void 0,"../../../Script/Manager/MIP":void 0,"./prefab/FirstImpulseItem":"FirstImpulseItem"}],DialogFreeCoin:[function(e,t,i){"use strict";cc._RF.push(t,"1626bZ79VlFfKK6R32K9/Qa","DialogFreeCoin");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../Script/Base/BaseDialog"),n=e("../../../Script/Manager/MAd"),r=e("../../../Script/Manager/MAudio"),l=e("../../../Script/Manager/MConfig"),s=e("../../../Script/Manager/MEvent"),c=e("../../../Script/Manager/MModel"),{ccclass:d,property:h}=cc._decorator;let g=class extends a.default{constructor(){super(...arguments),this.lbReward=null,this.ndBtnNormal=null,this.navigateAd=null,this.ndBtnNavigateAdChangePos=null,this.btnX="",this.platformOther=null,this.platformByteDance=null}onEnable(){GA.isPlatform([GA.Platform.ByteDance,GA.Platform.Kwaigame])?(this.platformByteDance.active=!0,this.platformOther.active=!1):(this.platformByteDance.active=!1,this.platformOther.active=!0),GA.Info.underCheck||!(GA.isPlatform([GA.Platform.OPPO,GA.Platform.Vivo])||GA.isPlatform(GA.Platform.Android)&&GA.Info.distributionChannel==GA.DistributionChannel.OPPO)||l.MConfig.BlackCity?(this.ndBtnNavigateAdChangePos.active=!0,this.ndBtnNavigateAdChangePos.x=0,this.navigateAd.active=!1):"l"==Utils.screenSize()?(this.ndBtnNormal.getComponent(cc.Widget).isAlignBottom=!0,this.navigateAd.active=!0,this.ndBtnNormal.active=!1,this.ndBtnNavigateAdChangePos.active=!1,s.MEvent.on(s.EmsgNavigate.Error,()=>{this.ndBtnNavigateAdChangePos.active=!0,this.ndBtnNavigateAdChangePos.x=0,this.ndBtnNormal.getComponent(cc.Widget).bottom=276,this.ndBtnNormal.active=!1,this.scheduleOnce(()=>{this.ndBtnNormal.active=!0})},this),s.MEvent.on(s.EmsgNavigate.GoLook,e=>{this.ndBtnNormal.getComponent(cc.Widget).bottom=30,this.ndBtnNormal.active=!1,this.scheduleOnce(()=>{this.ndBtnNormal.active=!0}),"right"==e?(this.btnX="left",this.ndBtnNavigateAdChangePos.x=-150):"left"==e&&(this.btnX="right",this.ndBtnNavigateAdChangePos.x=150)},this),s.MEvent.on(s.EmsgNavigate.Center,()=>{this.ndBtnNavigateAdChangePos.x=0,this.ndBtnNormal.getComponent(cc.Widget).bottom=276,this.ndBtnNormal.active=!1,this.scheduleOnce(()=>{this.ndBtnNormal.active=!0})},this),this.scheduleOnce(()=>{this.ndBtnNavigateAdChangePos.active=!0,this.ndBtnNormal.active=!0,s.MEvent.emit(s.EmsgNavigate.Extra,this.btnX)},l.MConfig.Config.GoLookSideDelayShow)):(this.navigateAd.active=!1,this.ndBtnNavigateAdChangePos.active=!0,this.ndBtnNavigateAdChangePos.x=0,this.ndBtnNormal.getComponent(cc.Widget).bottom=276,this.ndBtnNormal.active=!1,this.scheduleOnce(()=>{this.ndBtnNormal.active=!0}),n.MAd.showGameBannerAd()),GA.isPlatform([GA.Platform.WeChat,GA.Platform.QQ])?(this.ndBtnNormal.getComponent(cc.Sprite).enabled=!0,this.ndBtnNormal.children[0].color=cc.color(139,59,22)):(this.ndBtnNormal.getComponent(cc.Sprite).enabled=!1,this.ndBtnNormal.children[0].color=cc.color(255,255,255))}showDialog(){super.showDialog(),this.lbReward.string=`+${GA.formatNumber(l.MConfig.Config.FreeCoin)}`}onClickReceive(){r.MAudio.playEffect(r.EAudio.Click),n.MAd.rewardOperation({tag:"FreeCoin",byVideo:GA.isNextRewardVideo("FreeCoin"),page:"\u514d\u8d39\u91d1\u5e01",result:e=>{e.reward&&(c.MModel.Account.addCoin(3*l.MConfig.Config.FreeCoin),this.destroyDialog())}})}onClickClose(){r.MAudio.playEffect(r.EAudio.Click),this.destroyDialog()}onDisable(){this.unscheduleAllCallbacks(),s.MEvent.targetOff(this),"l"==Utils.screenSize()||!(GA.isPlatform([GA.Platform.OPPO,GA.Platform.Vivo])||GA.isPlatform(GA.Platform.Android)&&GA.Info.distributionChannel==GA.DistributionChannel.OPPO)||GA.Info.underCheck||l.MConfig.BlackCity||n.MAd.hideGameBannerAd()}};o([h(cc.Label)],g.prototype,"lbReward",void 0),o([h(cc.Node)],g.prototype,"ndBtnNormal",void 0),o([h(cc.Node)],g.prototype,"navigateAd",void 0),o([h(cc.Node)],g.prototype,"ndBtnNavigateAdChangePos",void 0),o([h(cc.Node)],g.prototype,"platformOther",void 0),o([h(cc.Node)],g.prototype,"platformByteDance",void 0),g=o([d],g),i.default=g,cc._RF.pop()},{"../../../Script/Base/BaseDialog":void 0,"../../../Script/Manager/MAd":void 0,"../../../Script/Manager/MAudio":void 0,"../../../Script/Manager/MConfig":void 0,"../../../Script/Manager/MEvent":void 0,"../../../Script/Manager/MModel":void 0}],DialogFreeGemston:[function(e,t,i){"use strict";cc._RF.push(t,"185d7qq4j1Lzp9ntorFt/FX","DialogFreeGemston");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../Script/Base/BaseDialog"),n=e("../../../Script/Manager/MAd"),r=e("../../../Script/Manager/MAudio"),l=e("../../../Script/Manager/MConfig"),s=e("../../../Script/Manager/MEvent"),c=e("../../../Script/Manager/MModel"),{ccclass:d,property:h}=cc._decorator;let g=class extends a.default{constructor(){super(...arguments),this.lbReward=null,this.ndBtnNormal=null,this.navigateAd=null,this.ndBtnNavigateAdChangePos=null,this.btnX="",this.platformOther=null,this.platformByteDance=null}onEnable(){GA.isPlatform([GA.Platform.ByteDance,GA.Platform.Kwaigame])?(this.platformByteDance.active=!0,this.platformOther.active=!1):(this.platformByteDance.active=!1,this.platformOther.active=!0),GA.Info.underCheck||!(GA.isPlatform([GA.Platform.OPPO,GA.Platform.Vivo])||GA.isPlatform(GA.Platform.Android)&&GA.Info.distributionChannel==GA.DistributionChannel.OPPO)||l.MConfig.BlackCity?(this.ndBtnNavigateAdChangePos.active=!0,this.ndBtnNavigateAdChangePos.x=0,this.navigateAd.active=!1):"l"==Utils.screenSize()?(this.ndBtnNormal.getComponent(cc.Widget).isAlignBottom=!0,this.navigateAd.active=!0,this.ndBtnNormal.active=!1,this.ndBtnNavigateAdChangePos.active=!1,s.MEvent.on(s.EmsgNavigate.Error,()=>{this.ndBtnNavigateAdChangePos.active=!0,this.ndBtnNavigateAdChangePos.x=0,this.ndBtnNormal.getComponent(cc.Widget).bottom=276,this.ndBtnNormal.active=!1,this.scheduleOnce(()=>{this.ndBtnNormal.active=!0})},this),s.MEvent.on(s.EmsgNavigate.GoLook,e=>{this.ndBtnNormal.getComponent(cc.Widget).bottom=30,this.ndBtnNormal.active=!1,this.scheduleOnce(()=>{this.ndBtnNormal.active=!0}),"right"==e?(this.btnX="left",this.ndBtnNavigateAdChangePos.x=-150):"left"==e&&(this.btnX="right",this.ndBtnNavigateAdChangePos.x=150)},this),s.MEvent.on(s.EmsgNavigate.Center,()=>{this.ndBtnNavigateAdChangePos.x=0,this.ndBtnNormal.getComponent(cc.Widget).bottom=276,this.ndBtnNormal.active=!1,this.scheduleOnce(()=>{this.ndBtnNormal.active=!0})},this),this.scheduleOnce(()=>{this.ndBtnNavigateAdChangePos.active=!0,this.ndBtnNormal.active=!0,s.MEvent.emit(s.EmsgNavigate.Extra,this.btnX)},l.MConfig.Config.GoLookSideDelayShow)):(this.navigateAd.active=!1,this.ndBtnNavigateAdChangePos.active=!0,this.ndBtnNavigateAdChangePos.x=0,this.ndBtnNormal.getComponent(cc.Widget).bottom=276,this.ndBtnNormal.active=!1,this.scheduleOnce(()=>{this.ndBtnNormal.active=!0}),n.MAd.showGameBannerAd()),GA.isPlatform([GA.Platform.WeChat,GA.Platform.QQ])?(this.ndBtnNormal.getComponent(cc.Sprite).enabled=!0,this.ndBtnNormal.children[0].color=cc.color(139,59,22)):(this.ndBtnNormal.getComponent(cc.Sprite).enabled=!1,this.ndBtnNormal.children[0].color=cc.color(255,255,255))}showDialog(){super.showDialog(),this.lbReward.string=`+${GA.formatNumber(l.MConfig.Config.FreeGemstone)}`}onClickReceive(){r.MAudio.playEffect(r.EAudio.Click),n.MAd.rewardOperation({tag:"FreeGemstone",byVideo:GA.isNextRewardVideo("FreeGemstone"),page:"\u514d\u8d39\u5b9d\u77f3",result:e=>{e.reward&&(c.MModel.Account.addGemstone(3*l.MConfig.Config.FreeGemstone),this.destroyDialog())}})}onClickClose(){r.MAudio.playEffect(r.EAudio.Click),this.destroyDialog()}onDisable(){this.unscheduleAllCallbacks(),s.MEvent.targetOff(this),"l"==Utils.screenSize()||!(GA.isPlatform([GA.Platform.OPPO,GA.Platform.Vivo])||GA.isPlatform(GA.Platform.Android)&&GA.Info.distributionChannel==GA.DistributionChannel.OPPO)||GA.Info.underCheck||l.MConfig.BlackCity||n.MAd.hideGameBannerAd()}};o([h(cc.Label)],g.prototype,"lbReward",void 0),o([h(cc.Node)],g.prototype,"ndBtnNormal",void 0),o([h(cc.Node)],g.prototype,"navigateAd",void 0),o([h(cc.Node)],g.prototype,"ndBtnNavigateAdChangePos",void 0),o([h(cc.Node)],g.prototype,"platformOther",void 0),o([h(cc.Node)],g.prototype,"platformByteDance",void 0),g=o([d],g),i.default=g,cc._RF.pop()},{"../../../Script/Base/BaseDialog":void 0,"../../../Script/Manager/MAd":void 0,"../../../Script/Manager/MAudio":void 0,"../../../Script/Manager/MConfig":void 0,"../../../Script/Manager/MEvent":void 0,"../../../Script/Manager/MModel":void 0}],DialogFreeStrength:[function(e,t,i){"use strict";cc._RF.push(t,"3a384vu6zJLnLaB3tIpj7NA","DialogFreeStrength");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../Script/Base/BaseDialog"),n=e("../../../Script/Manager/MAd"),r=e("../../../Script/Manager/MAudio"),l=e("../../../Script/Manager/MConfig"),s=e("../../../Script/Manager/MEvent"),c=e("../../../Script/Manager/MModel"),{ccclass:d,property:h}=cc._decorator;let g=class extends a.default{constructor(){super(...arguments),this.lbWeward=null,this.uid=null,this.ndBtnNormal=null,this.navigateAd=null,this.ndBtnNavigateAdChangePos=null,this.btnX="",this.platformOther=null,this.platformByteDance=null}onEnable(){GA.isPlatform([GA.Platform.ByteDance,GA.Platform.Kwaigame])?(this.platformByteDance.active=!0,this.platformOther.active=!1):(this.platformByteDance.active=!1,this.platformOther.active=!0),GA.Info.underCheck||!(GA.isPlatform([GA.Platform.OPPO,GA.Platform.Vivo])||GA.isPlatform(GA.Platform.Android)&&GA.Info.distributionChannel==GA.DistributionChannel.OPPO)||l.MConfig.BlackCity?(this.ndBtnNavigateAdChangePos.active=!0,this.ndBtnNavigateAdChangePos.x=0,this.navigateAd.active=!1):"l"==Utils.screenSize()?(this.ndBtnNormal.getComponent(cc.Widget).isAlignBottom=!0,this.navigateAd.active=!0,this.ndBtnNormal.active=!1,this.ndBtnNavigateAdChangePos.active=!1,s.MEvent.on(s.EmsgNavigate.Error,()=>{this.ndBtnNavigateAdChangePos.active=!0,this.ndBtnNavigateAdChangePos.x=0,this.ndBtnNormal.getComponent(cc.Widget).bottom=276,this.ndBtnNormal.active=!1,this.scheduleOnce(()=>{this.ndBtnNormal.active=!0})},this),s.MEvent.on(s.EmsgNavigate.GoLook,e=>{this.ndBtnNormal.getComponent(cc.Widget).bottom=30,this.ndBtnNormal.active=!1,this.scheduleOnce(()=>{this.ndBtnNormal.active=!0}),"right"==e?(this.btnX="left",this.ndBtnNavigateAdChangePos.x=-150):"left"==e&&(this.btnX="right",this.ndBtnNavigateAdChangePos.x=150)},this),s.MEvent.on(s.EmsgNavigate.Center,()=>{this.ndBtnNavigateAdChangePos.x=0,this.ndBtnNormal.getComponent(cc.Widget).bottom=276,this.ndBtnNormal.active=!1,this.scheduleOnce(()=>{this.ndBtnNormal.active=!0})},this),this.scheduleOnce(()=>{this.ndBtnNavigateAdChangePos.active=!0,this.ndBtnNormal.active=!0,s.MEvent.emit(s.EmsgNavigate.Extra,this.btnX)},l.MConfig.Config.GoLookSideDelayShow)):(this.navigateAd.active=!1,this.ndBtnNavigateAdChangePos.active=!0,this.ndBtnNavigateAdChangePos.x=0,n.MAd.showGameBannerAd()),GA.isPlatform([GA.Platform.WeChat,GA.Platform.QQ])?(this.ndBtnNormal.getComponent(cc.Sprite).enabled=!0,this.ndBtnNormal.children[0].color=cc.color(139,59,22)):(this.ndBtnNormal.getComponent(cc.Sprite).enabled=!1,this.ndBtnNormal.children[0].color=cc.color(255,255,255))}showDialog(){super.showDialog(),GA.sentLogs([{eventId:"\u8fdb\u5165\u4f53\u529b\u4e0d\u8db3\u754c\u9762"}]);let e=0;l.MConfig.Config.FreeStrengthAdds.forEach(t=>{c.MModel.Battle.level>t&&e++}),this.lbWeward.string=`+${GA.formatNumber(l.MConfig.Config.FreeStrength+5*e)}`,"inland"!=l.MConfig.Region||GA.isPlatform([GA.Platform.M4399MiniGame,GA.Platform.WeiYouH5,GA.Platform.ByteDance,GA.Platform.Kwaigame])?this.uid.node.active=!1:(this.uid.node.active=!0,this.uid.string=`uid:${GA.Info.uid}`)}onClickReceive(){r.MAudio.playEffect(r.EAudio.Click),n.MAd.rewardOperation({tag:"FreeStrength",byVideo:GA.isNextRewardVideo("FreeStrength"),page:"\u514d\u8d39\u4f53\u529b",result:e=>{if(console.log("res2:",JSON.stringify(e)),e.reward){let e=0;l.MConfig.Config.FreeStrengthAdds.forEach(t=>{c.MModel.Battle.level>t&&e++}),c.MModel.Account.addStrength(l.MConfig.Config.FreeStrength+5*e),this.destroyDialog()}}})}onClickClose(){r.MAudio.playEffect(r.EAudio.Click),this.destroyDialog()}onDisable(){this.unscheduleAllCallbacks(),s.MEvent.targetOff(this),"l"==Utils.screenSize()||!(GA.isPlatform([GA.Platform.OPPO,GA.Platform.Vivo])||GA.isPlatform(GA.Platform.Android)&&GA.Info.distributionChannel==GA.DistributionChannel.OPPO)||GA.Info.underCheck||l.MConfig.BlackCity||n.MAd.hideGameBannerAd()}};o([h(cc.Label)],g.prototype,"lbWeward",void 0),o([h(cc.Label)],g.prototype,"uid",void 0),o([h(cc.Node)],g.prototype,"ndBtnNormal",void 0),o([h(cc.Node)],g.prototype,"navigateAd",void 0),o([h(cc.Node)],g.prototype,"ndBtnNavigateAdChangePos",void 0),o([h(cc.Node)],g.prototype,"platformOther",void 0),o([h(cc.Node)],g.prototype,"platformByteDance",void 0),g=o([d],g),i.default=g,cc._RF.pop()},{"../../../Script/Base/BaseDialog":void 0,"../../../Script/Manager/MAd":void 0,"../../../Script/Manager/MAudio":void 0,"../../../Script/Manager/MConfig":void 0,"../../../Script/Manager/MEvent":void 0,"../../../Script/Manager/MModel":void 0}],DialogGameRecorder:[function(e,t,i){"use strict";cc._RF.push(t,"981c8JzgDNNtJQ8IO8JOI8c","DialogGameRecorder");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../Script/Base/BaseDialog"),n=e("../../../Script/Enum"),r=e("../../../Script/Manager/MAudio"),l=e("../../../Script/Manager/MTween"),s=e("../../../Script/Temporary"),{ccclass:c,property:d}=cc._decorator;let h=class extends a.default{constructor(){super(...arguments),this.sp=null,this.play=null,this.titleWin=null,this.titleLose=null}showDialog(){super.showDialog(),s.Temporary.battleStatus==n.EBattleStatus.Win?(this.titleWin.active=!0,this.titleLose.active=!1):(this.titleWin.active=!1,this.titleLose.active=!0),l.MTween.breath(this.play),cc.assetManager.loadRemote(s.Temporary.screenshot,{ext:".png",cacheEnabled:!1},(e,t)=>{e||(null==this?void 0:this.sp)&&(this.sp.spriteFrame=new cc.SpriteFrame(t))})}onClickClose(){r.MAudio.playEffect(r.EAudio.Click),this.destroyDialog()}onClickShareAppMessage(){if(r.MAudio.playEffect(r.EAudio.Click),GA.isPlatform(GA.Platform.ByteDance)){let e=["\u8fd9\u4e00\u5173\u592a\u96be\u4e86\uff0c\u4e0d\u8fc7\u6211\u8fd8\u662f\u4e00\u6b21\u901a\u8fc7\uff0c\u54c7\u54c8\u54c8\u54c8~","\u6311\u62183333\u5173\uff0c\u8d62\u8611\u83c7\u51b2\u7a81\u60ca\u559c\u5927\u793c\uff01","\u542c\u8bf4\u7b2c2222\u5173\u4ee5\u540e\uff0c\u4f1a\u6709\u795e\u79d8\u5f69\u86cb\u51fa\u73b0\uff01"],t=["\u8fd9\u4e00\u5173\u6709\u70b9\u96be\uff0c\u8981\u600e\u4e48\u8fc7\u554a\uff1f","\u563f\uff0c\u5144\u5f1f\u3002\u8fd9\u5c40\u6e38\u620f\u6709\u70b9\u96be\uff0c\u4f60\u8981\u4e0d\u8981\u6765\u6311\u6218\u4e00\u4e0b\uff1f","\u5404\u4f4d\u5927\u795e\uff0c\u8fd9\u5173\u592a\u96be\u4e86\uff0c\u4f60\u77e5\u9053\u600e\u4e48\u901a\u5173\u5417\uff1f"];GA.PA.shareAppMessage({channel:"video",title:"\u8611\u83c7\u51b2\u7a81",desc:s.Temporary.battleStatus==n.EBattleStatus.Win?e[Math.floor(Math.random()*e.length)]:t[Math.floor(Math.random()*t.length)],imageUrl:"",templateId:"6ghrjbg2op038lh64f",query:"",extra:{videoPath:s.Temporary.clipVideoPath,videoTopics:["\u8611\u83c7\u51b2\u7a81"],withVideoId:!0},success(e){console.log("\u5206\u4eab\u89c6\u9891\u6210\u529f:",e)},fail(e){"shareAppMessage:cancel"==e.errMsg||"shareAppMessage:fail video duration is too short"==e.errMsg&&GA.PA.showToast({title:"\u62b1\u6b49,\u5f55\u5c4f\u65f6\u95f4\u592a\u77ed\uff01",icon:"none"}),console.log("\u5206\u4eab\u89c6\u9891\u5931\u8d25:",e)}})}else GA.isPlatform(GA.Platform.Kwaigame)&&GA.PA.getGameRecorder().publishVideo({video:s.Temporary.videoID,mouldId:"2300001332",callback:e=>{null==e||null==e?console.log("\u5206\u4eab\u5f55\u5c4f\u6210\u529f"):console.log("\u5206\u4eab\u5f55\u5c4f\u5931\u8d25: "+JSON.stringify(e))}})}};o([d(cc.Sprite)],h.prototype,"sp",void 0),o([d(cc.Node)],h.prototype,"play",void 0),o([d(cc.Node)],h.prototype,"titleWin",void 0),o([d(cc.Node)],h.prototype,"titleLose",void 0),h=o([c],h),i.default=h,cc._RF.pop()},{"../../../Script/Base/BaseDialog":void 0,"../../../Script/Enum":void 0,"../../../Script/Manager/MAudio":void 0,"../../../Script/Manager/MTween":void 0,"../../../Script/Temporary":void 0}],DialogGuide:[function(e,t,i){"use strict";cc._RF.push(t,"ec8f7OajShP9ZFu2XHOaL4e","DialogGuide");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../Script/Base/BaseDialog"),n=e("../../../Script/Manager/MAudio"),{ccclass:r,property:l}=cc._decorator;let s=class extends a.default{onClickClose(){n.MAudio.playEffect(n.EAudio.Click),this.destroyDialog()}};s=o([r],s),i.default=s,cc._RF.pop()},{"../../../Script/Base/BaseDialog":void 0,"../../../Script/Manager/MAudio":void 0}],DialogHero:[function(e,t,i){"use strict";cc._RF.push(t,"cc4e3p0rIdIgLREL3YDDQYF","DialogHero");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../Script/Base/BaseDialog"),n=e("../../../Script/Enum"),r=e("../../../Script/Manager/MAudio"),l=e("../../../Script/Manager/MBundle"),s=e("../../../Script/Manager/MConfig"),c=e("../../../Script/Manager/MDialog"),d=e("../../../Script/Manager/MEvent"),h=e("../../../Script/Manager/MModel"),g=e("../../../Script/Manager/MPool"),p=e("../../../Script/Manager/MToast"),u=e("./prefab/HeroCard"),v=e("./prefab/SkinButtonItem");var m,M,f,C;(function(e){e.White="Hero/res/texture/autoatlas/grade/d",e.Green="Hero/res/texture/autoatlas/grade/c",e.Blue="Hero/res/texture/autoatlas/grade/b",e.Purple="Hero/res/texture/autoatlas/grade/a",e.Orange="Hero/res/texture/autoatlas/grade/s"})(m||(m={})),function(e){e.White="Hero/res/texture/autoatlas/cnGrade/d2",e.Green="Hero/res/texture/autoatlas/cnGrade/c2",e.Blue="Hero/res/texture/autoatlas/cnGrade/b2",e.Purple="Hero/res/texture/autoatlas/cnGrade/a2",e.Orange="Hero/res/texture/autoatlas/cnGrade/s2"}(M||(M={})),function(e){e.Hero7001="Hero/res/texture/autoatlas/hero/7001",e.Hero7002="Hero/res/texture/autoatlas/hero/7002",e.Hero7003="Hero/res/texture/autoatlas/hero/7003",e.Hero7004="Hero/res/texture/autoatlas/hero/7004",e.Hero7005="Hero/res/texture/autoatlas/hero/7005",e.Hero7006="Hero/res/texture/autoatlas/hero/7006",e.Hero7007="Hero/res/texture/autoatlas/hero/7007",e.Hero7008="Hero/res/texture/autoatlas/hero/7008",e.Hero7009="Hero/res/texture/autoatlas/hero/7009",e.Hero7010="Hero/res/texture/autoatlas/hero/7010",e.Hero7011="Hero/res/texture/autoatlas/hero/7011",e.Hero7012="Hero/res/texture/autoatlas/hero/7012",e.Hero7013="Hero/res/texture/autoatlas/hero/7013",e.Hero7014="Hero/res/texture/autoatlas/hero/7014",e.Hero7015="Hero/res/texture/autoatlas/hero/7015",e.Hero7016="Hero/res/texture/autoatlas/hero/7016",e.Hero7017="Hero/res/texture/autoatlas/hero/7017"}(f||(f={})),function(e){e.SkillIcon6101="Hero/res/texture/autoatlas/skillIcon/6101",e.SkillIcon6102="Hero/res/texture/autoatlas/skillIcon/6102",e.SkillIcon6103="Hero/res/texture/autoatlas/skillIcon/6103",e.SkillIcon6104="Hero/res/texture/autoatlas/skillIcon/6104",e.SkillIcon6105="Hero/res/texture/autoatlas/skillIcon/6105",e.SkillIcon6106="Hero/res/texture/autoatlas/skillIcon/6106",e.SkillIcon6107="Hero/res/texture/autoatlas/skillIcon/6107",e.SkillIcon6108="Hero/res/texture/autoatlas/skillIcon/6108",e.SkillIcon6109="Hero/res/texture/autoatlas/skillIcon/6109",e.SkillIcon6110="Hero/res/texture/autoatlas/skillIcon/6110",e.SkillIcon6111="Hero/res/texture/autoatlas/skillIcon/6111",e.SkillIcon6112="Hero/res/texture/autoatlas/skillIcon/6112",e.SkillIcon6113="Hero/res/texture/autoatlas/skillIcon/6113",e.SkillIcon6114="Hero/res/texture/autoatlas/skillIcon/6114",e.SkillIcon6115="Hero/res/texture/autoatlas/skillIcon/6115",e.SkillIcon6116="Hero/res/texture/autoatlas/skillIcon/6116",e.SkillIcon6117="Hero/res/texture/autoatlas/skillIcon/6117"}(C||(C={}));const{ccclass:y,property:S}=cc._decorator;let B=class extends a.default{constructor(){super(...arguments),this.top=null,this.lbCoin=null,this.lbGemstone=null,this.heroGrade=null,this.heroName=null,this.heroLevel=null,this.spHero=null,this.skillIcon=null,this.skillName=null,this.skillDescribe=null,this.skillStrenger=null,this.ndUplevelCoin=null,this.ndUplevelGemstone=null,this.btnUnlock=null,this.btnUplevel=null,this.ndBtnLevelMax=null,this.heroContent=null,this.handGuide=null,this.heroMessage=null,this.details=null,this.ksMoveBtns=[],this.activeGain=null,this.skinLock=null,this.skinButtonContent=null}onEnable(){let e=GA.PA.getSystemInfoSync();if("l"==Utils.screenSize()){let t=GA.PA.getMenuButtonBoundingClientRect();(null==t?void 0:t.top)?this.top.getComponent(cc.Widget).top=t.top*e.designPixelRatio:this.top.getComponent(cc.Widget).top=45}d.MEvent.on([d.EMsg.ClickHero,d.EMsg.UnlockHero,d.EMsg.UplevelHero],e=>{this.updateInfo(e)},this),d.MEvent.on(d.EMsg.UpdateCoin,()=>{this.updateCoin()},this),d.MEvent.on(d.EMsg.UpdateGemstone,()=>{this.updateGemstone()},this),d.MEvent.on(d.EMsg.ShowUplevelGuide,()=>{this.showUplevelGuide()},this),d.MEvent.on(d.EMsg.SelectHeroSkin,e=>{var t;if(e!=this.model.displaySkinId){if(this.model.displayHeroId==this.model.currentHero.id){let i=this.model.unlockSkins.find(e=>e.heroId==this.model.currentHero.id);(1==e||(null===(t=null==i?void 0:i.skinIds)||void 0===t?void 0:t.indexOf(e))>-1)&&(this.model.useSkin(this.model.displayHeroId,e),d.MEvent.emit(d.EMsg.UseHeroSkin))}this.model.displaySkinId=e,this.updateSkin(this.model.displayHeroId,this.model.displaySkinId)}},this),GA.isPlatform(GA.Platform.Kwaigame)&&-1==GA.PA.getSystemInfoSync().platform.toLocaleLowerCase().indexOf("ios")&&this.ksMoveBtns.forEach(e=>{e.x+=90}),(s.MConfig.Hago||"android_mgct_abroad_weiyou"==GA.Info.appId||GA.isPlatform(GA.Platform.WeiYouH5))&&(this.heroLevel.node.y=42)}showDialog(){super.showDialog(),this.model=this.dialogOption.data,!GA.Info.isPreview&&GA.isPlatform([GA.Platform.WeChat,GA.Platform.QQ,GA.Platform.Kuaidianwan,GA.Platform.Android])&&GA.hideBanner(),d.MEvent.emit(d.EMsg.HideCustomAdL)}start(){super.start(),this.updateCoin(),this.updateGemstone();let e=[...s.MConfig.TableHeroGrow.values()],t=[];e.forEach(e=>{let i=this.model.unlockHeros.find(t=>t.id==e.heroId);i?t.find(t=>t.id==e.heroId)||t.push({id:e.heroId,level:i.level}):t.find(t=>t.id==e.heroId)||t.push({id:e.heroId,level:1})}),this.loadHeroCard(0,t),-1!=this.model.currentHero.id?this.updateInfo(this.model.currentHero.id):(this.heroMessage.active=!1,this.details.active=!1),this.showUplevelGuide()}showUplevelGuide(){var e;h.MModel.Guide.completeHeroUplevelGuide||-1==(null===(e=this.model.currentHero)||void 0===e?void 0:e.id)?this.handGuide.active=!1:(h.MModel.Guide.completeHeroUplevelGuide=!0,GA.sentLogs([{eventId:"\u8fdb\u5165\u82f1\u96c4\u5347\u7ea7\u5f15\u5bfc"}]),this.handGuide.active=!0,this.handGuide.setPosition(cc.v2(206,-474)),cc.tween(this.handGuide).repeat(5,cc.tween().by(.3,{position:cc.v3(0,50)}).by(.3,{position:cc.v3(0,-50)})).call(()=>{this.handGuide.active=!1}).start())}loadHeroCard(e,t){e<t.length&&l.MBundle.load({bundle:l.EBundle.Dialog,path:"Hero/res/prefab/heroCard",type:cc.Prefab,onComplete:i=>{let o=cc.instantiate(i);o.setParent(this.heroContent),o.getComponent(u.default).init(t[e]),this.loadHeroCard(++e,t)}})}updateCoin(){this.lbCoin.string=GA.formatNumber(h.MModel.Account.coin)}updateGemstone(){this.lbGemstone.string=GA.formatNumber(h.MModel.Account.gemstone)}updateInfo(e){var t,i,o,a,r,c,h,p,u,v,f,y,S,B,A,w,b,k,P,E,I,x,R,D,T,N,G,L,_,O,H,F,U,j,V,$,z,W,K,Y,Q,q;for(this.model.displayHeroId=e,this.model.displaySkinId=1;this.skinButtonContent.childrenCount>0;)g.MPool.recovery(this.skinButtonContent.children[0]);this.heroMessage.active=!0,this.details.active=!0;let X,J,Z=this.model.unlockHeros.find(t=>t.id==e);Z?(X=[...s.MConfig.TableHeroGrow.values()].find(t=>t.heroId==e&&t.heroLevel==Z.level),(J=[...s.MConfig.TableHeroGrow.values()].find(t=>t.heroId==e&&1==t.heroLevel)).skinIds.length>1?((null==Z?void 0:Z.skinId)&&(this.model.displaySkinId=Z.skinId),this.skinButtonContent.active=!0,this.loadSkinButton(1,0,J.skinIds,()=>{d.MEvent.emit(d.EMsg.SelectHeroSkin,this.model.displaySkinId)})):this.skinButtonContent.active=!1):(J=X=[...s.MConfig.TableHeroGrow.values()].find(t=>t.heroId==e&&1==t.heroLevel),this.skinButtonContent.active=!1),this.heroGrowInfo=X,this.baseHeroGrowInfo=J;let ee=Utils.enumValue(m,n.EGrade[J.heroGrade]);if(GA.isPlatform(GA.Platform.Kwaigame)&&(ee=Utils.enumValue(M,n.EGrade[J.heroGrade])),l.MBundle.load({bundle:l.EBundle.Dialog,path:ee,type:cc.SpriteFrame,onComplete:e=>{(null==this?void 0:this.heroGrade)&&(this.heroGrade.spriteFrame=e)}}),this.updateSkin(J.heroId,this.model.displaySkinId),l.MBundle.load({bundle:l.EBundle.Dialog,path:C["SkillIcon"+J.skillId],type:cc.SpriteFrame,onComplete:e=>{(null==this?void 0:this.skillIcon)&&(this.skillIcon.spriteFrame=e)}}),this.heroName.string=J.heroName,"cn"==s.MConfig.Language?this.heroLevel.string=`${X.heroLevel}\u7ea7`:"tc"==s.MConfig.Language?this.heroLevel.string=`${X.heroLevel}\u7d1a`:"en"!=s.MConfig.Language&&"pt"!=s.MConfig.Language&&"vi"!=s.MConfig.Language&&"id"!=s.MConfig.Language||(this.heroLevel.string=`LV.${X.heroLevel}`),Z){if(this.skillStrenger.node.active=!0,X.heroLevel<10){let n=[...s.MConfig.TableHeroGrow.values()].find(t=>t.heroId==e&&t.heroLevel==X.heroLevel+1),l=s.MConfig.TableI18n.get(105008);(null===(t=null==X?void 0:X.skillParam)||void 0===t?void 0:t.A)!=(null===(i=null==n?void 0:n.skillParam)||void 0===i?void 0:i.A)&&("cn"==s.MConfig.Language?this.skillStrenger.string=`(${l.cn} ${null===(o=null==X?void 0:X.skillParam)||void 0===o?void 0:o.A} >>> ${null===(a=null==n?void 0:n.skillParam)||void 0===a?void 0:a.A})`:"tc"==s.MConfig.Language?this.skillStrenger.string=`(${l.tc} ${null===(r=null==X?void 0:X.skillParam)||void 0===r?void 0:r.A} >>> ${null===(c=null==n?void 0:n.skillParam)||void 0===c?void 0:c.A})`:"pt"==s.MConfig.Language?this.skillStrenger.string=`(${l.pt} ${null===(h=null==X?void 0:X.skillParam)||void 0===h?void 0:h.A} >>> ${null===(p=null==n?void 0:n.skillParam)||void 0===p?void 0:p.A})`:"vi"==s.MConfig.Language?this.skillStrenger.string=`(${l.vi} ${null===(u=null==X?void 0:X.skillParam)||void 0===u?void 0:u.A} >>> ${null===(v=null==n?void 0:n.skillParam)||void 0===v?void 0:v.A})`:"id"==s.MConfig.Language?this.skillStrenger.string=`(${l.in} ${null===(f=null==X?void 0:X.skillParam)||void 0===f?void 0:f.A} >>> ${null===(y=null==n?void 0:n.skillParam)||void 0===y?void 0:y.A})`:this.skillStrenger.string=`(${l.en} ${null===(S=null==X?void 0:X.skillParam)||void 0===S?void 0:S.A} >>> ${null===(B=null==n?void 0:n.skillParam)||void 0===B?void 0:B.A})`),(null===(A=null==X?void 0:X.skillParam)||void 0===A?void 0:A.B)!=(null===(w=null==n?void 0:n.skillParam)||void 0===w?void 0:w.B)&&("cn"==s.MConfig.Language?this.skillStrenger.string=`(${l.cn} ${null===(b=null==X?void 0:X.skillParam)||void 0===b?void 0:b.B} >>> ${null===(k=null==n?void 0:n.skillParam)||void 0===k?void 0:k.B})`:"tc"==s.MConfig.Language?this.skillStrenger.string=`(${l.tc} ${null===(P=null==X?void 0:X.skillParam)||void 0===P?void 0:P.B} >>> ${null===(E=null==n?void 0:n.skillParam)||void 0===E?void 0:E.B})`:"pt"==s.MConfig.Language?this.skillStrenger.string=`(${l.pt} ${null===(I=null==X?void 0:X.skillParam)||void 0===I?void 0:I.B} >>> ${null===(x=null==n?void 0:n.skillParam)||void 0===x?void 0:x.B})`:"vi"==s.MConfig.Language?this.skillStrenger.string=`(${l.vi} ${null===(R=null==X?void 0:X.skillParam)||void 0===R?void 0:R.B} >>> ${null===(D=null==n?void 0:n.skillParam)||void 0===D?void 0:D.B})`:"id"==s.MConfig.Language?this.skillStrenger.string=`(${l.in} ${null===(T=null==X?void 0:X.skillParam)||void 0===T?void 0:T.B} >>> ${null===(N=null==n?void 0:n.skillParam)||void 0===N?void 0:N.B})`:this.skillStrenger.string=`(${l.en} ${null===(G=null==X?void 0:X.skillParam)||void 0===G?void 0:G.B} >>> ${null===(L=null==n?void 0:n.skillParam)||void 0===L?void 0:L.B})`),(null===(_=null==X?void 0:X.skillParam)||void 0===_?void 0:_.C)!=(null===(O=null==n?void 0:n.skillParam)||void 0===O?void 0:O.C)&&("cn"==s.MConfig.Language?this.skillStrenger.string=`(${l.cn} ${null===(H=null==X?void 0:X.skillParam)||void 0===H?void 0:H.C} >>> ${null===(F=null==n?void 0:n.skillParam)||void 0===F?void 0:F.C})`:"tc"==s.MConfig.Language?this.skillStrenger.string=`(${l.tc} ${null===(U=null==X?void 0:X.skillParam)||void 0===U?void 0:U.C} >>> ${null===(j=null==n?void 0:n.skillParam)||void 0===j?void 0:j.C})`:"pt"==s.MConfig.Language?this.skillStrenger.string=`(${l.pt} ${null===(V=null==X?void 0:X.skillParam)||void 0===V?void 0:V.C} >>> ${null===($=null==n?void 0:n.skillParam)||void 0===$?void 0:$.C})`:"vi"==s.MConfig.Language?this.skillStrenger.string=`(${l.vi} ${null===(z=null==X?void 0:X.skillParam)||void 0===z?void 0:z.C} >>> ${null===(W=null==n?void 0:n.skillParam)||void 0===W?void 0:W.C})`:"id"==s.MConfig.Language?this.skillStrenger.string=`(${l.in} ${null===(K=null==X?void 0:X.skillParam)||void 0===K?void 0:K.C} >>> ${null===(Y=null==n?void 0:n.skillParam)||void 0===Y?void 0:Y.C})`:this.skillStrenger.string=`(${l.en} ${null===(Q=null==X?void 0:X.skillParam)||void 0===Q?void 0:Q.C} >>> ${null===(q=null==n?void 0:n.skillParam)||void 0===q?void 0:q.C})`),this.ndUplevelCoin.active=!0,this.ndUplevelGemstone.active=!0,this.ndUplevelCoin.getComponentInChildren(cc.Label).string=GA.formatNumber(X.uplevelCoin),this.ndUplevelGemstone.getComponentInChildren(cc.Label).string=GA.formatNumber(X.uplevelGemstone),this.btnUplevel.node.active=!0,this.btnUnlock.node.active=!1,this.ndBtnLevelMax.active=!1}else{let e=s.MConfig.TableI18n.get(105010);"cn"==s.MConfig.Language?this.skillStrenger.string=e.cn:"tc"==s.MConfig.Language?this.skillStrenger.string=e.tc:"pt"==s.MConfig.Language?this.skillStrenger.string=e.pt:"vi"==s.MConfig.Language?this.skillStrenger.string=e.vi:"id"==s.MConfig.Language?this.skillStrenger.string=e.in:this.skillStrenger.string=e.en,this.ndUplevelCoin.active=!1,this.ndUplevelGemstone.active=!1,this.btnUplevel.node.active=!1,this.btnUnlock.node.active=!1,this.ndBtnLevelMax.active=!0}this.spHero.node.color=cc.Color.WHITE,this.activeGain.active=!1}else{let t=s.MConfig.TableI18n.get(105009);"cn"==s.MConfig.Language?this.skillDescribe.string=t.cn:"tc"==s.MConfig.Language?this.skillDescribe.string=t.tc:"pt"==s.MConfig.Language?this.skillDescribe.string=t.pt:"vi"==s.MConfig.Language?this.skillDescribe.string=t.vi:"id"==s.MConfig.Language?this.skillDescribe.string=t.in:this.skillDescribe.string=t.en,this.skillStrenger.node.active=!1,this.ndUplevelCoin.active=!1,this.ndUplevelGemstone.active=!1,this.btnUplevel.node.active=!1,this.ndBtnLevelMax.active=!1,this.model.checkPayMushroom(J.unlockPay)?(this.btnUnlock.interactable=!0,this.btnUnlock.node.getComponentInChildren(cc.RichText).string=`<color=#934519>${this.model.mushroom}/${GA.formatNumber(J.unlockPay)}</c>`):(this.btnUnlock.interactable=!1,this.btnUnlock.node.getComponentInChildren(cc.RichText).string=`<color=#FF0000>${this.model.mushroom}</c><color=#464646>/${GA.formatNumber(J.unlockPay)}</c>`),this.spHero.node.color=cc.Color.BLACK,this.model.checkIsFragmentUnlock(e)?(this.btnUnlock.node.active=!0,this.activeGain.active=!1):(this.btnUnlock.node.active=!1,this.activeGain.active=!0)}}loadSkinButton(e,t,i,o){t<i.length?g.MPool.load({bundle:l.EBundle.Dialog,path:"Hero/res/prefab/skinButtonItem",type:cc.Prefab,onComplete:a=>{a.setParent(this.skinButtonContent),a.getComponent(v.default).init(e,i[t]),this.loadSkinButton(++e,++t,i,o)}}):null==o||o()}onClickUplevel(){if(h.MModel.Account.checkPayCoin(this.heroGrowInfo.uplevelCoin)&&h.MModel.Account.checkPayGemstone(this.heroGrowInfo.uplevelGemstone))r.MAudio.playEffect(r.EAudio.HeroUplevel),h.MModel.Account.payCoin(this.heroGrowInfo.uplevelCoin),h.MModel.Account.payGemstone(this.heroGrowInfo.uplevelGemstone),this.model.uplevelHero(this.heroGrowInfo.heroId),cc.tween(this.skillStrenger.node).to(.1,{scale:1.25}).to(.1,{scale:1}).start(),cc.tween(this.spHero.node).to(.1,{scale:1.25}).to(.1,{scale:1}).start();else if(r.MAudio.playEffect(r.EAudio.Click),h.MModel.Account.checkPayCoin(this.heroGrowInfo.uplevelCoin)){if(!h.MModel.Account.checkPayGemstone(this.heroGrowInfo.uplevelGemstone)){let e=s.MConfig.TableI18n.get(201009);"cn"==s.MConfig.Language?p.MToast.showToast({title:e.cn}):"tc"==s.MConfig.Language?p.MToast.showToast({title:e.tc}):"pt"==s.MConfig.Language?p.MToast.showToast({title:e.pt}):"vi"==s.MConfig.Language?p.MToast.showToast({title:e.vi}):"id"==s.MConfig.Language?p.MToast.showToast({title:e.in}):p.MToast.showToast({title:e.en}),GA.sentLogs([{eventId:"\u5347\u7ea7\u82f1\u96c4\u65f6\u5b9d\u77f3\u4e0d\u8db3"}]),c.MDialog.showDialog(l.EDialog.FreeGemstone,{})}}else{let e=s.MConfig.TableI18n.get(201010);"cn"==s.MConfig.Language?p.MToast.showToast({title:e.cn}):"tc"==s.MConfig.Language?p.MToast.showToast({title:e.tc}):"pt"==s.MConfig.Language?p.MToast.showToast({title:e.pt}):"vi"==s.MConfig.Language?p.MToast.showToast({title:e.vi}):"id"==s.MConfig.Language?p.MToast.showToast({title:e.in}):p.MToast.showToast({title:e.en}),GA.sentLogs([{eventId:"\u5347\u7ea7\u82f1\u96c4\u65f6\u91d1\u5e01\u4e0d\u8db3"}]),c.MDialog.showDialog(l.EDialog.FreeCoin,{})}}onClickUnlock(){r.MAudio.playEffect(r.EAudio.Click),this.model.checkPayMushroom(this.baseHeroGrowInfo.unlockPay)&&(this.model.payMushroom(this.baseHeroGrowInfo.unlockPay),this.model.unlockHero(this.heroGrowInfo.heroId))}updateSkin(e,t){var i,o,a,n,r,c,d,g,p,u,v,m,M,C,y,S,B,A;let w="";if(1==t)this.skinLock.active=!1,this.skinButtonContent.active&&this.scheduleOnce(()=>{this.spHero.node.color=cc.Color.WHITE});else{w=Utils.prefixZero(t%e,2).toString();let i=h.MModel.Hero.unlockSkins.find(t=>t.heroId==e);i&&-1!=i.skinIds.indexOf(t)?(this.skinLock.active=!1,this.scheduleOnce(()=>{this.spHero.node.color=cc.Color.WHITE})):(this.skinLock.active=!0,this.scheduleOnce(()=>{this.spHero.node.color=cc.color(149,149,149)}))}l.MBundle.load({bundle:l.EBundle.Dialog,path:f["Hero"+e]+w,type:cc.SpriteFrame,onComplete:e=>{(null==this?void 0:this.spHero)&&(this.spHero.spriteFrame=e)}});let b=s.MConfig.TableSkill.get(this.baseHeroGrowInfo.skillId);if(this.skillName.string=b.name,this.model.checkHeroUnlock(this.baseHeroGrowInfo.heroId)){let t=`<color=#ffffff>${b.describe}</c>`,l=null===(o=null===(i=this.heroGrowInfo)||void 0===i?void 0:i.skillParam)||void 0===o?void 0:o.A,h=null===(n=null===(a=this.heroGrowInfo)||void 0===a?void 0:a.skillParam)||void 0===n?void 0:n.B,f=null===(c=null===(r=this.heroGrowInfo)||void 0===r?void 0:r.skillParam)||void 0===c?void 0:c.C;this.model.displaySkinId>1&&((null===(g=null===(d=this.heroGrowInfo)||void 0===d?void 0:d.skillParam)||void 0===g?void 0:g.A)&&(l=parseFloat((1.1*(null===(u=null===(p=this.heroGrowInfo)||void 0===p?void 0:p.skillParam)||void 0===u?void 0:u.A)).toFixed(1))),(null===(m=null===(v=this.heroGrowInfo)||void 0===v?void 0:v.skillParam)||void 0===m?void 0:m.B)&&(h=parseFloat((1.1*(null===(C=null===(M=this.heroGrowInfo)||void 0===M?void 0:M.skillParam)||void 0===C?void 0:C.B)).toFixed(1))),(null===(S=null===(y=this.heroGrowInfo)||void 0===y?void 0:y.skillParam)||void 0===S?void 0:S.C)&&(f=parseFloat((1.1*(null===(A=null===(B=this.heroGrowInfo)||void 0===B?void 0:B.skillParam)||void 0===A?void 0:A.C)).toFixed(1)))),"cn"==s.MConfig.Language||"tc"==s.MConfig.Language?t=(t=(t=t.replace("A",`</c><color=#00ff00>${l}</c><color=#ffffff>`)).replace("B",`</c><color=#00ff00>${h}</c><color=#ffffff>`)).replace("C",`</c><color=#00ff00>${f}</c><color=#ffffff>`):"en"!=s.MConfig.Language&&"pt"!=s.MConfig.Language&&"vi"!=s.MConfig.Language&&"id"!=s.MConfig.Language||(t=(t=(t=t.replace("ref1",`</c><color=#00ff00>${l}</c><color=#ffffff>`)).replace("ref2",`</c><color=#00ff00>${h}</c><color=#ffffff>`)).replace("ref3",`</c><color=#00ff00>${f}</c><color=#ffffff>`)),this.skillDescribe.string=t,"id"==s.MConfig.Language?this.skillDescribe.fontSize=7002==e||7007==e||7008==e?18:7012==e?16:20:"pt"==s.MConfig.Language?this.skillDescribe.fontSize=7002==e||7004==e||7005==e||7007==e?18:7012==e?15:20:"en"==s.MConfig.Language&&(this.skillDescribe.fontSize=7002==e?18:20)}}onClickClose(){r.MAudio.playEffect(r.EAudio.Click),this.destroyDialog()}onDisable(){d.MEvent.targetOff(this)}};o([S(cc.Node)],B.prototype,"top",void 0),o([S(cc.Label)],B.prototype,"lbCoin",void 0),o([S(cc.Label)],B.prototype,"lbGemstone",void 0),o([S(cc.Sprite)],B.prototype,"heroGrade",void 0),o([S(cc.Label)],B.prototype,"heroName",void 0),o([S(cc.Label)],B.prototype,"heroLevel",void 0),o([S(cc.Sprite)],B.prototype,"spHero",void 0),o([S(cc.Sprite)],B.prototype,"skillIcon",void 0),o([S(cc.Label)],B.prototype,"skillName",void 0),o([S(cc.RichText)],B.prototype,"skillDescribe",void 0),o([S(cc.Label)],B.prototype,"skillStrenger",void 0),o([S(cc.Node)],B.prototype,"ndUplevelCoin",void 0),o([S(cc.Node)],B.prototype,"ndUplevelGemstone",void 0),o([S(cc.Button)],B.prototype,"btnUnlock",void 0),o([S(cc.Button)],B.prototype,"btnUplevel",void 0),o([S(cc.Node)],B.prototype,"ndBtnLevelMax",void 0),o([S(cc.Node)],B.prototype,"heroContent",void 0),o([S(cc.Node)],B.prototype,"handGuide",void 0),o([S(cc.Node)],B.prototype,"heroMessage",void 0),o([S(cc.Node)],B.prototype,"details",void 0),o([S([cc.Node])],B.prototype,"ksMoveBtns",void 0),o([S(cc.Node)],B.prototype,"activeGain",void 0),o([S(cc.Node)],B.prototype,"skinLock",void 0),o([S(cc.Node)],B.prototype,"skinButtonContent",void 0),B=o([y],B),i.default=B,cc._RF.pop()},{"../../../Script/Base/BaseDialog":void 0,"../../../Script/Enum":void 0,"../../../Script/Manager/MAudio":void 0,"../../../Script/Manager/MBundle":void 0,"../../../Script/Manager/MConfig":void 0,"../../../Script/Manager/MDialog":void 0,"../../../Script/Manager/MEvent":void 0,"../../../Script/Manager/MModel":void 0,"../../../Script/Manager/MPool":void 0,"../../../Script/Manager/MToast":void 0,"./prefab/HeroCard":"HeroCard","./prefab/SkinButtonItem":"SkinButtonItem"}],DialogIfPause:[function(e,t,i){"use strict";cc._RF.push(t,"9a9fenP9Z9LnLCRyCCkXkGs","DialogIfPause");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../Script/Base/BaseDialog"),n=e("../../../Script/Manager/MAd"),r=e("../../../Script/Manager/MAudio"),l=e("../../../Script/Manager/MBundle"),s=e("../../../Script/Manager/MConfig"),c=e("../../../Script/Manager/MDialog"),d=e("../../../Script/Manager/MEvent"),h=e("../../../Script/Manager/MModel"),g=e("../../../Script/Manager/MSkill"),p=e("../../../Script/Temporary"),{ccclass:u,property:v}=cc._decorator;let m=class extends a.default{constructor(){super(...arguments),this.describe=null,this.star=null,this.AudioSwitchs=null,this.VibrateSwitchs=null,this.customerService=null}showDialog(){var e,t,i,o,a,n,r,l,c,d,g,p;super.showDialog();let u=[...s.MConfig.TableLevelTask.values()].find(e=>e.level==h.MModel.Battle.getUseLevel()),v=u.describe;"cn"==s.MConfig.Language||"tc"==s.MConfig.Language?v=(v=(v=v.replace("A",null===(t=null===(e=null==u?void 0:u.param)||void 0===e?void 0:e.A)||void 0===t?void 0:t.toString())).replace("B",null===(o=null===(i=null==u?void 0:u.param)||void 0===i?void 0:i.B)||void 0===o?void 0:o.toString())).replace("C",null===(n=null===(a=null==u?void 0:u.param)||void 0===a?void 0:a.C)||void 0===n?void 0:n.toString()):"en"!=s.MConfig.Language&&"pt"!=s.MConfig.Language&&"vi"!=s.MConfig.Language&&"id"!=s.MConfig.Language||(v=(v=(v=v.replace("ref1",null===(l=null===(r=null==u?void 0:u.param)||void 0===r?void 0:r.A)||void 0===l?void 0:l.toString())).replace("ref2",null===(d=null===(c=null==u?void 0:u.param)||void 0===c?void 0:c.B)||void 0===d?void 0:d.toString())).replace("ref3",null===(p=null===(g=null==u?void 0:u.param)||void 0===g?void 0:g.C)||void 0===p?void 0:p.toString())),this.describe.string=v;let m=h.MModel.Battle.ifLevelTasks.find(e=>e.level==h.MModel.Battle.ifUseLevel);switch((null==m?void 0:m.complete)?this.star.children[0].active=!0:this.star.children[0].active=!1,this.model=this.dialogOption.data,this.model.AudioSwitch){case"on":this.AudioSwitchs.children[0].active=!0,this.AudioSwitchs.children[1].active=!1;break;case"off":this.AudioSwitchs.children[0].active=!1,this.AudioSwitchs.children[1].active=!0}switch(this.model.VibrateSwitch){case"on":this.VibrateSwitchs.children[0].active=!0,this.VibrateSwitchs.children[1].active=!1;break;case"off":this.VibrateSwitchs.children[0].active=!1,this.VibrateSwitchs.children[1].active=!0}this.scheduleOnce(()=>{cc.game.pause()},.5),GA.isPlatform(GA.Platform.Android)&&GA.Info.distributionChannel==GA.DistributionChannel.OPPO?this.customerService.active=!0:this.customerService.active=!1}onClickOffAudio(){cc.game.resume(),this.scheduleOnce(()=>{r.MAudio.playEffect(r.EAudio.Click),this.AudioSwitchs.children[0].active=!1,this.AudioSwitchs.children[1].active=!0,this.model.AudioSwitch="off",r.MAudio.stopBG(),this.scheduleOnce(()=>{cc.game.pause()},.05)})}onClickOnAudio(){cc.game.resume(),this.scheduleOnce(()=>{r.MAudio.playEffect(r.EAudio.Click),this.AudioSwitchs.children[0].active=!0,this.AudioSwitchs.children[1].active=!1,this.model.AudioSwitch="on",r.MAudio.playBG(r.EAudio.BattleBGM,!0),this.scheduleOnce(()=>{cc.game.pause()},.05)})}onClickOffVibrate(){cc.game.resume(),this.scheduleOnce(()=>{r.MAudio.playEffect(r.EAudio.Click),this.VibrateSwitchs.children[0].active=!1,this.VibrateSwitchs.children[1].active=!0,this.model.VibrateSwitch="off",this.scheduleOnce(()=>{cc.game.pause()},.05)})}onClickOnVirbrate(){cc.game.resume(),this.scheduleOnce(()=>{r.MAudio.playEffect(r.EAudio.Click),this.VibrateSwitchs.children[0].active=!0,this.VibrateSwitchs.children[1].active=!1,this.model.VibrateSwitch="on",this.scheduleOnce(()=>{cc.game.pause()},.05)})}onClickReGame(){s.MConfig.Transsion?(p.Temporary.TranssionVideoCallBack=()=>{cc.game.resume(),d.MEvent.emit(d.EMsg.LoadLevel),this.destroyDialog(),d.MEvent.emit(d.EMsg.ShowGameBanner)},null===AppProxy||void 0===AppProxy||AppProxy.requestPayment("VideoToPay")):n.MAd.rewardOperation({tag:"ReGame",byVideo:GA.isNextRewardVideo("ReGame"),page:"\u6682\u505c\u754c\u9762",result:e=>{e.reward&&(cc.game.resume(),d.MEvent.emit(d.EMsg.LoadLevel),this.destroyDialog(),d.MEvent.emit(d.EMsg.ShowGameBanner))}})}onClickBackHome(){cc.game.resume(),r.MAudio.playEffect(r.EAudio.Click),d.MEvent.emit(d.EMsg.SpeedNormal),d.MEvent.emit(d.EMsg.ClearBattleNode),this.scheduleOnce(()=>{d.MEvent.emit(d.EMsg.ClearBattleData),c.MDialog.clear(),g.MSkill.clear(),l.MBundle.loadScene({bundle:l.EBundle.Hall,scene:l.EScene.HallScene,onBeforeLoadScene:()=>{r.MAudio.stopBG(),!GA.Info.isPreview&&GA.isPlatform([GA.Platform.WeChat,GA.Platform.QQ,GA.Platform.Kuaidianwan,GA.Platform.Android])&&GA.hideBanner(),s.MConfig.Config.CustomAd.BattleL&&d.MEvent.emit(d.EMsg.HideCustomAdL),s.MConfig.Config.CustomAd.BattleR&&d.MEvent.emit(d.EMsg.HideCustomAdR)},onLaunched:()=>{p.Temporary.currentScene=l.EScene.HallScene,GA.isPlatform([GA.Platform.QQ,GA.Platform.Vivo])&&s.MConfig.Config.SwitchInterstitialAd&&this.scheduleOnce(()=>{n.MAd.showInterstitialAd()},.1),window.GameAssistantWeb&&window.GameAssistantWeb.showFullScreenVideoAd(),d.MEvent.emit(d.EMsg.ShowBlindBoxGuide)}})})}onClickClose(){r.MAudio.playEffect(r.EAudio.Click),this.destroyDialog(),cc.game.resume(),d.MEvent.emit(d.EMsg.ShowGameBanner)}};o([v(cc.Label)],m.prototype,"describe",void 0),o([v(cc.Node)],m.prototype,"star",void 0),o([v(cc.Node)],m.prototype,"AudioSwitchs",void 0),o([v(cc.Node)],m.prototype,"VibrateSwitchs",void 0),o([v(cc.Node)],m.prototype,"customerService",void 0),m=o([u],m),i.default=m,cc._RF.pop()},{"../../../Script/Base/BaseDialog":void 0,"../../../Script/Manager/MAd":void 0,"../../../Script/Manager/MAudio":void 0,"../../../Script/Manager/MBundle":void 0,"../../../Script/Manager/MConfig":void 0,"../../../Script/Manager/MDialog":void 0,"../../../Script/Manager/MEvent":void 0,"../../../Script/Manager/MModel":void 0,"../../../Script/Manager/MSkill":void 0,"../../../Script/Temporary":void 0}],DialogLevelSelect:[function(e,t,i){"use strict";cc._RF.push(t,"f5f810crIdB34SRL7Wa6+YF","DialogLevelSelect");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../Script/Base/BaseDialog"),n=e("../../../Script/Enum"),r=e("../../../Script/Manager/MAudio"),l=e("../../../Script/Manager/MBundle"),s=e("../../../Script/Manager/MConfig"),c=e("../../../Script/Manager/MItem"),d=e("../../../Script/Manager/MModel"),h=e("../../../Script/Manager/MPool"),g=e("../../../Script/Manager/MTween"),p=e("./prefab/LevelSelectItem");var u;(function(e){e.Item10002="LevelSelect/res/texture/item/10002",e.Item10003="LevelSelect/res/texture/item/10003",e.Item10004="LevelSelect/res/texture/item/10004",e.Item10005="LevelSelect/res/texture/item/10005",e.Item10006="LevelSelect/res/texture/item/10006"})(u||(u={}));const{ccclass:v,property:m}=cc._decorator;let M=class extends a.default{constructor(){super(...arguments),this.chapter=-1,this.useChapter=-1,this.lbChapter=null,this.levelRange=null,this.ndProgress=null,this.lbProgress=null,this.light=null,this.boxClose=null,this.boxOpen=null,this.content=null,this.toggle=null,this.reward=null,this.levelHead=-1,this.levelTail=-1,this.loadMaxLevel=-1}showDialog(){super.showDialog(),this.chapter=this.dialogOption.data.chapter,this.useChapter=this.dialogOption.data.useChapter,this.levelHead=d.MModel.Battle.getChapterHeadLevel(this.chapter),this.levelTail=d.MModel.Battle.getChapterTailLevel(this.chapter),this.loadMaxLevel=Math.min(this.levelTail,d.MModel.Battle.ifLevel-1);let e=[...s.MConfig.TableChapterReward.values()].find(e=>e.chapter==this.useChapter);"cn"==s.MConfig.Language?(this.lbChapter.string=`\u7b2c${Utils.numberToChinese(this.chapter)}\u7ae0`,this.levelRange.string=`\u7b2c${this.levelHead}~${this.levelTail}\u5173`):"tc"==s.MConfig.Language?(this.lbChapter.string=`\u7b2c${Utils.numberToChinese(this.chapter)}\u7ae0`,this.levelRange.string=`\u7b2c${this.levelHead}~${this.levelTail}\u95dc`):"en"!=s.MConfig.Language&&"pt"!=s.MConfig.Language&&"vi"!=s.MConfig.Language&&"id"!=s.MConfig.Language||(this.lbChapter.string=`CHAPTER ${this.chapter}`,this.levelRange.string=`LEVEL ${this.levelHead}~${this.levelTail}`);let t=d.MModel.Battle.ifLevelTasks.filter(e=>1==e.complete&&e.level>=this.levelHead&&e.level<=this.levelTail).length;this.ndProgress.width=300*t/e.collectStar,this.lbProgress.string=`${t}/${e.collectStar}`;let i=d.MModel.Battle.ifChapters.find(e=>e.chapter==this.chapter);i?i.status==n.EReceiveStatus.UnReceive?(this.light.active=!0,this.boxClose.active=!0,this.boxOpen.active=!1,g.MTween.infiniteRotate(this.light),this.boxClose.once(cc.Node.EventType.TOUCH_START,()=>{c.MItem.getItem(e.rewards,1),this.light.active=!1,this.boxClose.active=!1,this.boxOpen.active=!0,d.MModel.Battle.receiveChapterRewrd(this.chapter)},this)):i.status==n.EReceiveStatus.Received&&(this.light.active=!1,this.boxClose.active=!1,this.boxOpen.active=!0):(this.light.active=!1,this.boxClose.active=!0,this.boxOpen.active=!1,this.boxClose.on(cc.Node.EventType.TOUCH_START,()=>{this.reward.active=!0},this),this.boxClose.on(cc.Node.EventType.TOUCH_END,()=>{this.reward.active=!1},this),this.boxClose.on(cc.Node.EventType.TOUCH_CANCEL,()=>{this.reward.active=!1},this)),this.loadReward(0,e.rewards),this.loadLevelSelectItem(this.levelHead)}loadReward(e,t){e<t.length&&l.MBundle.load({bundle:l.EBundle.Dialog,path:u["Item"+t[e].id],type:cc.SpriteFrame,onComplete:i=>{let o=new cc.Node;o.addComponent(cc.Sprite).spriteFrame=i,o.setParent(this.reward.getChildByName("content")),this.loadReward(++e,t)}})}loadLevelSelectItem(e){e<=this.loadMaxLevel&&h.MPool.load({bundle:l.EBundle.Dialog,path:"cn"==s.MConfig.Language||"tc"==s.MConfig.Language?"LevelSelect/res/prefab/levelSelectItem":"LevelSelect/res/prefab/enLevelSelectItem",type:cc.Prefab,onComplete:t=>{t.setParent(this.content),t.getComponent(p.default).init(e),this.loadLevelSelectItem(++e)}})}onToggleClick(){r.MAudio.playEffect(r.EAudio.Click),this.toggle.isChecked?this.content.children.forEach(e=>{var t;(null===(t=e.getComponent(p.default).levelTask)||void 0===t?void 0:t.complete)?e.active=!1:e.active=!0}):this.content.children.forEach(e=>{e.active=!0})}onClickClose(){r.MAudio.playEffect(r.EAudio.Click),this.destroyDialog()}};o([m(cc.Label)],M.prototype,"lbChapter",void 0),o([m(cc.Label)],M.prototype,"levelRange",void 0),o([m(cc.Node)],M.prototype,"ndProgress",void 0),o([m(cc.Label)],M.prototype,"lbProgress",void 0),o([m(cc.Node)],M.prototype,"light",void 0),o([m(cc.Node)],M.prototype,"boxClose",void 0),o([m(cc.Node)],M.prototype,"boxOpen",void 0),o([m(cc.Node)],M.prototype,"content",void 0),o([m(cc.Toggle)],M.prototype,"toggle",void 0),o([m(cc.Node)],M.prototype,"reward",void 0),M=o([v],M),i.default=M,cc._RF.pop()},{"../../../Script/Base/BaseDialog":void 0,"../../../Script/Enum":void 0,"../../../Script/Manager/MAudio":void 0,"../../../Script/Manager/MBundle":void 0,"../../../Script/Manager/MConfig":void 0,"../../../Script/Manager/MItem":void 0,"../../../Script/Manager/MModel":void 0,"../../../Script/Manager/MPool":void 0,"../../../Script/Manager/MTween":void 0,"./prefab/LevelSelectItem":"LevelSelectItem"}],DialogLevelTask:[function(e,t,i){"use strict";cc._RF.push(t,"cf441F6o0BCqbEiLFI0s8bb","DialogLevelTask");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../Script/Base/BaseDialog"),n=e("../../../Script/Enum"),r=e("../../../Script/Manager/MAudio"),l=e("../../../Script/Manager/MBundle"),s=e("../../../Script/Manager/MConfig"),c=e("../../../Script/Manager/MDialog"),d=e("../../../Script/Manager/MEvent"),h=e("../../../Script/Manager/MModel"),g=e("../../../Script/Manager/MPool"),p=e("../../../Script/Manager/MToast"),u=e("../../../Script/Temporary"),{ccclass:v,property:m}=cc._decorator;let M=class extends a.default{constructor(){super(...arguments),this.level=null,this.describe=null,this.star=null,this.strengthEnd=null,this.tip=null}showDialog(){var e,t,i,o,a,n,r,l,c,d,g,p;super.showDialog(),"cn"==s.MConfig.Language?this.level.string=`\u7b2c${h.MModel.Battle.ifUseLevel}\u5173`:"tc"==s.MConfig.Language?this.level.string=`\u7b2c${h.MModel.Battle.ifUseLevel}\u95dc`:"en"!=s.MConfig.Language&&"pt"!=s.MConfig.Language&&"vi"!=s.MConfig.Language&&"id"!=s.MConfig.Language||(this.level.string=`LEVEL ${h.MModel.Battle.ifUseLevel}`);let v=[...s.MConfig.TableLevelTask.values()].find(e=>e.level==h.MModel.Battle.getUseLevel()),m=null==v?void 0:v.describe;"cn"==s.MConfig.Language||"tc"==s.MConfig.Language?m=(m=(m=m.replace("A",null===(t=null===(e=null==v?void 0:v.param)||void 0===e?void 0:e.A)||void 0===t?void 0:t.toString())).replace("B",null===(o=null===(i=null==v?void 0:v.param)||void 0===i?void 0:i.B)||void 0===o?void 0:o.toString())).replace("C",null===(n=null===(a=null==v?void 0:v.param)||void 0===a?void 0:a.C)||void 0===n?void 0:n.toString()):"en"!=s.MConfig.Language&&"pt"!=s.MConfig.Language&&"vi"!=s.MConfig.Language&&"id"!=s.MConfig.Language||(m=(m=(m=m.replace("ref1",null===(l=null===(r=null==v?void 0:v.param)||void 0===r?void 0:r.A)||void 0===l?void 0:l.toString())).replace("ref2",null===(d=null===(c=null==v?void 0:v.param)||void 0===c?void 0:c.B)||void 0===d?void 0:d.toString())).replace("ref3",null===(p=null===(g=null==v?void 0:v.param)||void 0===g?void 0:g.C)||void 0===p?void 0:p.toString()),this.describe.fontSize=22,this.describe.lineHeight=28),this.describe.string=m;let M=h.MModel.Battle.ifLevelTasks.find(e=>e.level==h.MModel.Battle.ifUseLevel);(null==M?void 0:M.complete)?this.star.children[0].active=!0:this.star.children[0].active=!1,"cn"==s.MConfig.Language?this.tip.string=`\u5c0f\u63d0\u793a\uff1a${u.Temporary.cnTips[Math.floor(Math.random()*u.Temporary.cnTips.length)]}`:"tc"==s.MConfig.Language?this.tip.string=`\u5c0f\u63d0\u793a\uff1a${u.Temporary.tcTips[Math.floor(Math.random()*u.Temporary.cnTips.length)]}`:"en"!=s.MConfig.Language&&"pt"!=s.MConfig.Language&&"vi"!=s.MConfig.Language&&"id"!=s.MConfig.Language||(this.tip.string=`Tip:${u.Temporary.enTips[Math.floor(Math.random()*u.Temporary.cnTips.length)]}`)}onClickClose(){r.MAudio.playEffect(r.EAudio.Click),this.destroyDialog()}onClickStart(){if(r.MAudio.playEffect(r.EAudio.Click),h.MModel.Account.checkPayStrength(5)){let e=new cc.Node;e.setParent(this.node),e.setPosition(cc.v2()),e.setContentSize(cc.winSize),e.addComponent(cc.BlockInputEvents),g.MPool.load({bundle:l.EBundle.Hall,path:"res/prefab/strength",type:cc.Prefab,onComplete:e=>{let t=cc.Canvas.instance.node.getChildByName("top").getChildByName("strength").getChildByName("strengthStart");e.setParent(this.node),e.setPosition(this.node.convertToNodeSpaceAR(t.parent.convertToWorldSpaceAR(t.getPosition()))),e.zIndex=cc.macro.MAX_ZINDEX-11,cc.tween(e).to(1.5,{position:cc.v3(this.node.convertToNodeSpaceAR(this.strengthEnd.parent.convertToWorldSpaceAR(this.strengthEnd.getPosition())))},{easing:cc.easing.circOut}).call(()=>{h.MModel.Account.payStrength(5),h.MModel.Battle.gameEvent=n.EGameEvent.None,d.MEvent.emit(d.EMsg.TryPlayGame)}).start()}})}else if(s.MConfig.Transsion){let e=s.MConfig.TableI18n.get(201018);"cn"==s.MConfig.Language?p.MToast.showToast({title:e.cn}):"tc"==s.MConfig.Language?p.MToast.showToast({title:e.tc}):"pt"==s.MConfig.Language?p.MToast.showToast({title:e.pt}):"vi"==s.MConfig.Language?p.MToast.showToast({title:e.vi}):"id"==s.MConfig.Language?p.MToast.showToast({title:e.in}):p.MToast.showToast({title:e.en}),c.MDialog.showDialog(l.EDialog.Permanent,{})}else c.MDialog.showDialog(l.EDialog.FreeStrength,{})}};o([m(cc.Label)],M.prototype,"level",void 0),o([m(cc.Label)],M.prototype,"describe",void 0),o([m(cc.Node)],M.prototype,"star",void 0),o([m(cc.Node)],M.prototype,"strengthEnd",void 0),o([m(cc.Label)],M.prototype,"tip",void 0),M=o([v],M),i.default=M,cc._RF.pop()},{"../../../Script/Base/BaseDialog":void 0,"../../../Script/Enum":void 0,"../../../Script/Manager/MAudio":void 0,"../../../Script/Manager/MBundle":void 0,"../../../Script/Manager/MConfig":void 0,"../../../Script/Manager/MDialog":void 0,"../../../Script/Manager/MEvent":void 0,"../../../Script/Manager/MModel":void 0,"../../../Script/Manager/MPool":void 0,"../../../Script/Manager/MToast":void 0,"../../../Script/Temporary":void 0}],DialogMothersDay:[function(e,t,i){"use strict";cc._RF.push(t,"5eab3A66ilDLJBfcCZGlNHT","DialogMothersDay");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../Script/Base/BaseDialog"),n=e("../../../Script/Enum"),r=e("../../../Script/Manager/MAudio"),l=e("../../../Script/Manager/MBundle"),s=e("../../../Script/Manager/MConfig"),c=e("../../../Script/Manager/MDialog"),d=e("../../../Script/Manager/MEvent"),h=e("../../../Script/Manager/MItem"),g=e("../../../Script/Manager/MModel"),p=e("../../../Script/Manager/MPool"),u=e("../../../Script/Manager/MToast"),v=e("../../../Script/Manager/MTween"),{ccclass:m,property:M}=cc._decorator;var f;(function(e){e.Item10002="MothersDay/res/texture/item/10002",e.Item10003="MothersDay/res/texture/item/10003",e.Item10004="MothersDay/res/texture/item/10004",e.Item10005="MothersDay/res/texture/item/10005",e.Item10006="MothersDay/res/texture/item/10006",e.Item10007="MothersDay/res/texture/item/10007"})(f||(f={}));let C=class extends a.default{constructor(){super(...arguments),this.title_cn=null,this.title_tc=null,this.title_en=null,this.title_pt=null,this.title_id=null,this.title_vi=null,this.notice=null,this.reward1=null,this.reward2=null,this.reward3=null,this.progressFill=null,this.strengthEnd=null,this.editboxLevel=null}showDialog(){super.showDialog();let e=s.MConfig.TableI18n.get(121004);"cn"==s.MConfig.Language?(this.title_cn.active=!0,this.title_tc.active=!1,this.title_en.active=!1,this.title_pt.active=!1,this.title_id.active=!1,this.title_vi.active=!1,this.notice.string=e.cn):"tc"==s.MConfig.Language?(this.title_cn.active=!1,this.title_tc.active=!0,this.title_en.active=!1,this.title_pt.active=!1,this.title_id.active=!1,this.title_vi.active=!1,this.notice.string=e.tc):"id"==s.MConfig.Language?(this.title_cn.active=!1,this.title_tc.active=!1,this.title_en.active=!1,this.title_pt.active=!1,this.title_id.active=!0,this.title_vi.active=!1,this.notice.string=e.in):"pt"==s.MConfig.Language?(this.title_cn.active=!1,this.title_tc.active=!1,this.title_en.active=!1,this.title_pt.active=!0,this.title_id.active=!1,this.title_vi.active=!1,this.notice.string=e.pt):"vi"==s.MConfig.Language?(this.title_cn.active=!1,this.title_tc.active=!1,this.title_en.active=!1,this.title_pt.active=!1,this.title_id.active=!1,this.title_vi.active=!0,this.notice.string=e.vi):(this.title_cn.active=!1,this.title_tc.active=!1,this.title_en.active=!0,this.title_pt.active=!1,this.title_id.active=!1,this.title_vi.active=!1,this.notice.string=e.en),this.reward1.getChildByName("level").getComponent(cc.Label).string=`${g.MModel.Battle.completeMothersDayLevelCount}/${s.MConfig.Activity.reward1.level}`,this.reward2.getChildByName("level").getComponent(cc.Label).string=`${g.MModel.Battle.completeMothersDayLevelCount}/${s.MConfig.Activity.reward2.level}`,this.reward3.getChildByName("level").getComponent(cc.Label).string=`${g.MModel.Battle.completeMothersDayLevelCount}/${s.MConfig.Activity.reward3.level}`,this.reward1.x=441*s.MConfig.Activity.reward1.level/s.MConfig.LocalConfig.MothersDayMaxLevel,this.reward2.x=441*s.MConfig.Activity.reward2.level/s.MConfig.LocalConfig.MothersDayMaxLevel,this.reward3.x=441*s.MConfig.Activity.reward3.level/s.MConfig.LocalConfig.MothersDayMaxLevel;let t=()=>{this.reward1.getChildByName("close").active=!1,this.reward1.getChildByName("open").active=!0,this.reward1.getChildByName("unReach").active=!0,this.reward1.getChildByName("unReceive").active=!1,cc.Tween.stopAllByTarget(this.reward1),this.reward1.scale=1};g.MModel.MothersDay.reward1Status==n.EReceiveStatus.UnReach?((()=>{this.reward1.getChildByName("close").active=!0,this.reward1.getChildByName("open").active=!1,this.reward1.getChildByName("unReach").active=!0,this.reward1.getChildByName("unReceive").active=!1,cc.Tween.stopAllByTarget(this.reward1),this.reward1.scale=1})(),this.reward1.on(cc.Node.EventType.TOUCH_START,()=>{this.reward1.getChildByName("reward").active=!0},this),this.reward1.on(cc.Node.EventType.TOUCH_END,()=>{this.reward1.getChildByName("reward").active=!1},this),this.reward1.on(cc.Node.EventType.TOUCH_CANCEL,()=>{this.reward1.getChildByName("reward").active=!1},this)):g.MModel.MothersDay.reward1Status==n.EReceiveStatus.UnReceive?(this.reward1.getChildByName("unReach").active=!1,this.reward1.getChildByName("unReceive").active=!0,v.MTween.jelly(this.reward1),this.reward1.once(cc.Node.EventType.TOUCH_START,()=>{g.MModel.MothersDay.reward1Status=n.EReceiveStatus.Received,h.MItem.getItem(s.MConfig.Activity.reward1.items,1),t(),d.MEvent.emit(d.EMsg.ReceivedActivityReward),GA.sentLogs([{eventId:"\u83b7\u5f97\u5723\u8bde\u8282\u5956\u52b1",detail:JSON.stringify({reward:"\u5956\u52b11"})}])},this)):g.MModel.MothersDay.reward1Status==n.EReceiveStatus.Received&&t();let i=()=>{this.reward2.getChildByName("unReach").active=!0,this.reward2.getChildByName("unReceive").active=!1,cc.Tween.stopAllByTarget(this.reward2),this.reward2.scale=1};g.MModel.MothersDay.reward2Status==n.EReceiveStatus.UnReach||g.MModel.MothersDay.reward2Status==n.EReceiveStatus.Received?i():g.MModel.MothersDay.reward2Status==n.EReceiveStatus.UnReceive&&(this.reward2.getChildByName("unReach").active=!1,this.reward2.getChildByName("unReceive").active=!0,v.MTween.jelly(this.reward2),this.reward2.once(cc.Node.EventType.TOUCH_START,()=>{g.MModel.MothersDay.reward2Status=n.EReceiveStatus.Received,c.MDialog.showDialog(l.EDialog.BlindBoxPrize,{data:{item:s.MConfig.Activity.reward2.items[0],source:n.ERewardSource.MothersDay}}),i(),d.MEvent.emit(d.EMsg.ReceivedActivityReward),GA.sentLogs([{eventId:"\u83b7\u5f97\u5723\u8bde\u8282\u5956\u52b1",detail:JSON.stringify({reward:"\u5956\u52b12"})}])},this));let o=()=>{this.reward3.getChildByName("close").active=!1,this.reward3.getChildByName("open").active=!0,this.reward3.getChildByName("unReach").active=!0,this.reward3.getChildByName("unReceive").active=!1,cc.Tween.stopAllByTarget(this.reward3),this.reward3.scale=1};g.MModel.MothersDay.reward3Status==n.EReceiveStatus.UnReach?((()=>{this.reward3.getChildByName("close").active=!0,this.reward3.getChildByName("open").active=!1,this.reward3.getChildByName("unReach").active=!0,this.reward3.getChildByName("unReceive").active=!1,cc.Tween.stopAllByTarget(this.reward3),this.reward3.scale=1})(),this.reward3.on(cc.Node.EventType.TOUCH_START,()=>{this.reward3.getChildByName("reward").active=!0},this),this.reward3.on(cc.Node.EventType.TOUCH_END,()=>{this.reward3.getChildByName("reward").active=!1},this),this.reward3.on(cc.Node.EventType.TOUCH_CANCEL,()=>{this.reward3.getChildByName("reward").active=!1},this)):g.MModel.MothersDay.reward3Status==n.EReceiveStatus.UnReceive?(this.reward3.getChildByName("unReach").active=!1,this.reward3.getChildByName("unReceive").active=!0,v.MTween.jelly(this.reward3),this.reward3.once(cc.Node.EventType.TOUCH_START,()=>{g.MModel.MothersDay.reward3Status=n.EReceiveStatus.Received,h.MItem.getItem(s.MConfig.Activity.reward3.items,1),o(),d.MEvent.emit(d.EMsg.ReceivedActivityReward),GA.sentLogs([{eventId:"\u83b7\u5f97\u5723\u8bde\u8282\u5956\u52b1",detail:JSON.stringify({reward:"\u5956\u52b13"})}])},this)):g.MModel.MothersDay.reward3Status==n.EReceiveStatus.Received&&o(),this.loadReward(0,s.MConfig.Activity.reward1.items,this.reward1.getChildByName("reward").getChildByName("content")),this.loadReward(0,s.MConfig.Activity.reward3.items,this.reward3.getChildByName("reward").getChildByName("content")),this.progressFill.width=Math.max(441*g.MModel.Battle.completeMothersDayLevelCount/s.MConfig.LocalConfig.MothersDayMaxLevel,.1)}onEnable(){s.MConfig.Debug?this.editboxLevel.node.active=!0:this.editboxLevel.node.active=!1}loadReward(e,t,i){e<t.length&&l.MBundle.load({bundle:l.EBundle.Dialog,path:f["Item"+t[e].id],type:cc.SpriteFrame,onComplete:o=>{let a=new cc.Node;a.addComponent(cc.Sprite).spriteFrame=o,a.setParent(i),this.loadReward(++e,t,i)}})}onClickStart(){if(r.MAudio.playEffect(r.EAudio.Click),g.MModel.Account.checkPayStrength(5)){let e=new cc.Node;e.setParent(this.node),e.setPosition(cc.v2()),e.setContentSize(cc.winSize),e.addComponent(cc.BlockInputEvents),p.MPool.load({bundle:l.EBundle.Hall,path:"res/prefab/strength",type:cc.Prefab,onComplete:e=>{let t=cc.Canvas.instance.node.getChildByName("top").getChildByName("strength").getChildByName("strengthStart");e.setParent(this.node),e.setPosition(this.node.convertToNodeSpaceAR(t.parent.convertToWorldSpaceAR(t.getPosition()))),e.zIndex=cc.macro.MAX_ZINDEX-11,cc.tween(e).to(1.5,{position:cc.v3(this.node.convertToNodeSpaceAR(this.strengthEnd.parent.convertToWorldSpaceAR(this.strengthEnd.getPosition())))},{easing:cc.easing.circOut}).call(()=>{g.MModel.Account.payStrength(5),g.MModel.Battle.gameEvent=n.EGameEvent.MothersDay,d.MEvent.emit(d.EMsg.TryPlayGame)}).start()}})}else if(s.MConfig.Transsion){let e=s.MConfig.TableI18n.get(201018);"cn"==s.MConfig.Language?u.MToast.showToast({title:e.cn}):"tc"==s.MConfig.Language?u.MToast.showToast({title:e.tc}):"pt"==s.MConfig.Language?u.MToast.showToast({title:e.pt}):"vi"==s.MConfig.Language?u.MToast.showToast({title:e.vi}):"id"==s.MConfig.Language?u.MToast.showToast({title:e.in}):u.MToast.showToast({title:e.en}),c.MDialog.showDialog(l.EDialog.Permanent,{})}else c.MDialog.showDialog(l.EDialog.FreeStrength,{})}onClickClose(){r.MAudio.playEffect(r.EAudio.Click),this.destroyDialog()}onClickExplain(){r.MAudio.playEffect(r.EAudio.Click),c.MDialog.showDialog(l.EDialog.ActivityExplain,{})}onEditBox(){parseInt(this.editboxLevel.string)&&(g.MModel.Battle.mothersDayLevel=parseInt(this.editboxLevel.string))}};o([M(cc.Node)],C.prototype,"title_cn",void 0),o([M(cc.Node)],C.prototype,"title_tc",void 0),o([M(cc.Node)],C.prototype,"title_en",void 0),o([M(cc.Node)],C.prototype,"title_pt",void 0),o([M(cc.Node)],C.prototype,"title_id",void 0),o([M(cc.Node)],C.prototype,"title_vi",void 0),o([M(cc.Label)],C.prototype,"notice",void 0),o([M(cc.Node)],C.prototype,"reward1",void 0),o([M(cc.Node)],C.prototype,"reward2",void 0),o([M(cc.Node)],C.prototype,"reward3",void 0),o([M(cc.Node)],C.prototype,"progressFill",void 0),o([M(cc.Node)],C.prototype,"strengthEnd",void 0),o([M(cc.EditBox)],C.prototype,"editboxLevel",void 0),C=o([m],C),i.default=C,cc._RF.pop()},{"../../../Script/Base/BaseDialog":void 0,"../../../Script/Enum":void 0,"../../../Script/Manager/MAudio":void 0,"../../../Script/Manager/MBundle":void 0,"../../../Script/Manager/MConfig":void 0,"../../../Script/Manager/MDialog":void 0,"../../../Script/Manager/MEvent":void 0,"../../../Script/Manager/MItem":void 0,"../../../Script/Manager/MModel":void 0,"../../../Script/Manager/MPool":void 0,"../../../Script/Manager/MToast":void 0,"../../../Script/Manager/MTween":void 0}],DialogNewYear:[function(e,t,i){"use strict";cc._RF.push(t,"feac6a7SfZCTJakKL3kcFWT","DialogNewYear");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../Script/Base/BaseDialog"),n=e("../../../Script/Enum"),r=e("../../../Script/Manager/MAudio"),l=e("../../../Script/Manager/MBundle"),s=e("../../../Script/Manager/MConfig"),c=e("../../../Script/Manager/MDialog"),d=e("../../../Script/Manager/MEvent"),h=e("../../../Script/Manager/MItem"),g=e("../../../Script/Manager/MModel"),p=e("../../../Script/Manager/MPool"),u=e("../../../Script/Manager/MToast"),v=e("../../../Script/Manager/MTween"),{ccclass:m,property:M}=cc._decorator;var f;(function(e){e.Item10002="NewYear/res/texture/item/10002",e.Item10003="NewYear/res/texture/item/10003",e.Item10004="NewYear/res/texture/item/10004",e.Item10005="NewYear/res/texture/item/10005",e.Item10006="NewYear/res/texture/item/10006",e.Item10007="NewYear/res/texture/item/10007"})(f||(f={}));let C=class extends a.default{constructor(){super(...arguments),this.title_cn=null,this.title_tc=null,this.title_en=null,this.title_pt=null,this.title_id=null,this.title_vi=null,this.notice=null,this.reward1=null,this.reward2=null,this.reward3=null,this.progressFill=null,this.strengthEnd=null,this.editboxLevel=null}showDialog(){super.showDialog();let e=s.MConfig.TableI18n.get(121004);"cn"==s.MConfig.Language?(this.title_cn.active=!0,this.title_tc.active=!1,this.title_en.active=!1,this.title_pt.active=!1,this.title_id.active=!1,this.title_vi.active=!1,this.notice.string=e.cn):"tc"==s.MConfig.Language?(this.title_cn.active=!1,this.title_tc.active=!0,this.title_en.active=!1,this.title_pt.active=!1,this.title_id.active=!1,this.title_vi.active=!1,this.notice.string=e.tc):"id"==s.MConfig.Language?(this.title_cn.active=!1,this.title_tc.active=!1,this.title_en.active=!1,this.title_pt.active=!1,this.title_id.active=!0,this.title_vi.active=!1,this.notice.string=e.in):"pt"==s.MConfig.Language?(this.title_cn.active=!1,this.title_tc.active=!1,this.title_en.active=!1,this.title_pt.active=!0,this.title_id.active=!1,this.title_vi.active=!1,this.notice.string=e.pt):"vi"==s.MConfig.Language?(this.title_cn.active=!1,this.title_tc.active=!1,this.title_en.active=!1,this.title_pt.active=!1,this.title_id.active=!1,this.title_vi.active=!0,this.notice.string=e.vi):(this.title_cn.active=!1,this.title_tc.active=!1,this.title_en.active=!0,this.title_pt.active=!1,this.title_id.active=!1,this.title_vi.active=!1,this.notice.string=e.en),this.reward1.getChildByName("level").getComponent(cc.Label).string=`${g.MModel.Battle.completeNewYearLevelCount}/${s.MConfig.Activity.reward1.level}`,this.reward2.getChildByName("level").getComponent(cc.Label).string=`${g.MModel.Battle.completeNewYearLevelCount}/${s.MConfig.Activity.reward2.level}`,this.reward3.getChildByName("level").getComponent(cc.Label).string=`${g.MModel.Battle.completeNewYearLevelCount}/${s.MConfig.Activity.reward3.level}`,this.reward1.x=441*s.MConfig.Activity.reward1.level/s.MConfig.LocalConfig.NewYearMaxLevel,this.reward2.x=441*s.MConfig.Activity.reward2.level/s.MConfig.LocalConfig.NewYearMaxLevel,this.reward3.x=441*s.MConfig.Activity.reward3.level/s.MConfig.LocalConfig.NewYearMaxLevel;let t=()=>{this.reward1.getChildByName("close").active=!1,this.reward1.getChildByName("open").active=!0,this.reward1.getChildByName("unReach").active=!0,this.reward1.getChildByName("unReceive").active=!1,cc.Tween.stopAllByTarget(this.reward1),this.reward1.scale=1};g.MModel.NewYear.reward1Status==n.EReceiveStatus.UnReach?((()=>{this.reward1.getChildByName("close").active=!0,this.reward1.getChildByName("open").active=!1,this.reward1.getChildByName("unReach").active=!0,this.reward1.getChildByName("unReceive").active=!1,cc.Tween.stopAllByTarget(this.reward1),this.reward1.scale=1})(),this.reward1.on(cc.Node.EventType.TOUCH_START,()=>{this.reward1.getChildByName("reward").active=!0},this),this.reward1.on(cc.Node.EventType.TOUCH_END,()=>{this.reward1.getChildByName("reward").active=!1},this),this.reward1.on(cc.Node.EventType.TOUCH_CANCEL,()=>{this.reward1.getChildByName("reward").active=!1},this)):g.MModel.NewYear.reward1Status==n.EReceiveStatus.UnReceive?(this.reward1.getChildByName("unReach").active=!1,this.reward1.getChildByName("unReceive").active=!0,v.MTween.jelly(this.reward1),this.reward1.once(cc.Node.EventType.TOUCH_START,()=>{g.MModel.NewYear.reward1Status=n.EReceiveStatus.Received,h.MItem.getItem(s.MConfig.Activity.reward1.items,1),t(),d.MEvent.emit(d.EMsg.ReceivedActivityReward),GA.sentLogs([{eventId:"\u83b7\u5f97\u5723\u8bde\u8282\u5956\u52b1",detail:JSON.stringify({reward:"\u5956\u52b11"})}])},this)):g.MModel.NewYear.reward1Status==n.EReceiveStatus.Received&&t();let i=()=>{this.reward2.getChildByName("unReach").active=!0,this.reward2.getChildByName("unReceive").active=!1,cc.Tween.stopAllByTarget(this.reward2),this.reward2.scale=1};g.MModel.NewYear.reward2Status==n.EReceiveStatus.UnReach||g.MModel.NewYear.reward2Status==n.EReceiveStatus.Received?i():g.MModel.NewYear.reward2Status==n.EReceiveStatus.UnReceive&&(this.reward2.getChildByName("unReach").active=!1,this.reward2.getChildByName("unReceive").active=!0,v.MTween.jelly(this.reward2),this.reward2.once(cc.Node.EventType.TOUCH_START,()=>{g.MModel.NewYear.reward2Status=n.EReceiveStatus.Received,c.MDialog.showDialog(l.EDialog.BlindBoxPrize,{data:{item:s.MConfig.Activity.reward2.items[0],source:n.ERewardSource.NewYear}}),i(),d.MEvent.emit(d.EMsg.ReceivedActivityReward),GA.sentLogs([{eventId:"\u83b7\u5f97\u5723\u8bde\u8282\u5956\u52b1",detail:JSON.stringify({reward:"\u5956\u52b12"})}])},this));let o=()=>{this.reward3.getChildByName("close").active=!1,this.reward3.getChildByName("open").active=!0,this.reward3.getChildByName("unReach").active=!0,this.reward3.getChildByName("unReceive").active=!1,cc.Tween.stopAllByTarget(this.reward3),this.reward3.scale=1};g.MModel.NewYear.reward3Status==n.EReceiveStatus.UnReach?((()=>{this.reward3.getChildByName("close").active=!0,this.reward3.getChildByName("open").active=!1,this.reward3.getChildByName("unReach").active=!0,this.reward3.getChildByName("unReceive").active=!1,cc.Tween.stopAllByTarget(this.reward3),this.reward3.scale=1})(),this.reward3.on(cc.Node.EventType.TOUCH_START,()=>{this.reward3.getChildByName("reward").active=!0},this),this.reward3.on(cc.Node.EventType.TOUCH_END,()=>{this.reward3.getChildByName("reward").active=!1},this),this.reward3.on(cc.Node.EventType.TOUCH_CANCEL,()=>{this.reward3.getChildByName("reward").active=!1},this)):g.MModel.NewYear.reward3Status==n.EReceiveStatus.UnReceive?(this.reward3.getChildByName("unReach").active=!1,this.reward3.getChildByName("unReceive").active=!0,v.MTween.jelly(this.reward3),this.reward3.once(cc.Node.EventType.TOUCH_START,()=>{g.MModel.NewYear.reward3Status=n.EReceiveStatus.Received,h.MItem.getItem(s.MConfig.Activity.reward3.items,1),o(),d.MEvent.emit(d.EMsg.ReceivedActivityReward),GA.sentLogs([{eventId:"\u83b7\u5f97\u5723\u8bde\u8282\u5956\u52b1",detail:JSON.stringify({reward:"\u5956\u52b13"})}])},this)):g.MModel.NewYear.reward3Status==n.EReceiveStatus.Received&&o(),this.loadReward(0,s.MConfig.Activity.reward1.items,this.reward1.getChildByName("reward").getChildByName("content")),this.loadReward(0,s.MConfig.Activity.reward3.items,this.reward3.getChildByName("reward").getChildByName("content")),this.progressFill.width=Math.max(441*g.MModel.Battle.completeNewYearLevelCount/s.MConfig.LocalConfig.NewYearMaxLevel,.1)}onEnable(){s.MConfig.Debug?this.editboxLevel.node.active=!0:this.editboxLevel.node.active=!1}loadReward(e,t,i){e<t.length&&l.MBundle.load({bundle:l.EBundle.Dialog,path:f["Item"+t[e].id],type:cc.SpriteFrame,onComplete:o=>{let a=new cc.Node;a.addComponent(cc.Sprite).spriteFrame=o,a.setParent(i),this.loadReward(++e,t,i)}})}onClickStart(){if(r.MAudio.playEffect(r.EAudio.Click),g.MModel.Account.checkPayStrength(5)){let e=new cc.Node;e.setParent(this.node),e.setPosition(cc.v2()),e.setContentSize(cc.winSize),e.addComponent(cc.BlockInputEvents),p.MPool.load({bundle:l.EBundle.Hall,path:"res/prefab/strength",type:cc.Prefab,onComplete:e=>{let t=cc.Canvas.instance.node.getChildByName("top").getChildByName("strength").getChildByName("strengthStart");e.setParent(this.node),e.setPosition(this.node.convertToNodeSpaceAR(t.parent.convertToWorldSpaceAR(t.getPosition()))),e.zIndex=cc.macro.MAX_ZINDEX-11,cc.tween(e).to(1.5,{position:cc.v3(this.node.convertToNodeSpaceAR(this.strengthEnd.parent.convertToWorldSpaceAR(this.strengthEnd.getPosition())))},{easing:cc.easing.circOut}).call(()=>{g.MModel.Account.payStrength(5),g.MModel.Battle.gameEvent=n.EGameEvent.NewYear,d.MEvent.emit(d.EMsg.TryPlayGame)}).start()}})}else if(s.MConfig.Transsion){let e=s.MConfig.TableI18n.get(201018);"cn"==s.MConfig.Language?u.MToast.showToast({title:e.cn}):"tc"==s.MConfig.Language?u.MToast.showToast({title:e.tc}):"pt"==s.MConfig.Language?u.MToast.showToast({title:e.pt}):"vi"==s.MConfig.Language?u.MToast.showToast({title:e.vi}):"id"==s.MConfig.Language?u.MToast.showToast({title:e.in}):u.MToast.showToast({title:e.en}),c.MDialog.showDialog(l.EDialog.Permanent,{})}else c.MDialog.showDialog(l.EDialog.FreeStrength,{})}onClickClose(){r.MAudio.playEffect(r.EAudio.Click),this.destroyDialog()}onClickExplain(){r.MAudio.playEffect(r.EAudio.Click),c.MDialog.showDialog(l.EDialog.ActivityExplain,{})}onEditBox(){parseInt(this.editboxLevel.string)&&(g.MModel.Battle.newYearLevel=parseInt(this.editboxLevel.string))}};o([M(cc.Node)],C.prototype,"title_cn",void 0),o([M(cc.Node)],C.prototype,"title_tc",void 0),o([M(cc.Node)],C.prototype,"title_en",void 0),o([M(cc.Node)],C.prototype,"title_pt",void 0),o([M(cc.Node)],C.prototype,"title_id",void 0),o([M(cc.Node)],C.prototype,"title_vi",void 0),o([M(cc.Label)],C.prototype,"notice",void 0),o([M(cc.Node)],C.prototype,"reward1",void 0),o([M(cc.Node)],C.prototype,"reward2",void 0),o([M(cc.Node)],C.prototype,"reward3",void 0),o([M(cc.Node)],C.prototype,"progressFill",void 0),o([M(cc.Node)],C.prototype,"strengthEnd",void 0),o([M(cc.EditBox)],C.prototype,"editboxLevel",void 0),C=o([m],C),i.default=C,cc._RF.pop()},{"../../../Script/Base/BaseDialog":void 0,"../../../Script/Enum":void 0,"../../../Script/Manager/MAudio":void 0,"../../../Script/Manager/MBundle":void 0,"../../../Script/Manager/MConfig":void 0,"../../../Script/Manager/MDialog":void 0,"../../../Script/Manager/MEvent":void 0,"../../../Script/Manager/MItem":void 0,"../../../Script/Manager/MModel":void 0,"../../../Script/Manager/MPool":void 0,"../../../Script/Manager/MToast":void 0,"../../../Script/Manager/MTween":void 0}],DialogNewbieTask:[function(e,t,i){"use strict";cc._RF.push(t,"13679sc8BxBSazwARSW+76/","DialogNewbieTask");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../Script/Base/BaseDialog"),n=e("../../../Script/Enum"),r=e("../../../Script/Interface/ITask"),l=e("../../../Script/Manager/MAudio"),s=e("../../../Script/Manager/MBundle"),c=e("../../../Script/Manager/MConfig"),d=e("../../../Script/Manager/MEvent"),h=e("../../../Script/Manager/MPool"),g=e("./prefab/NewbieTaskBoxItem"),p=e("./prefab/NewbieTaskItem"),{ccclass:u,property:v}=cc._decorator;let m=class extends a.default{constructor(){super(...arguments),this.totalIntegral=0,this.medal=null,this.boxs=[],this.achieveProgress=null,this.lbAchieve=null,this.newbieTaskContent=null,this.toggleContainer=null,this.locks=null,this.lbNewbieTask=null}onEnable(){d.MEvent.on(d.EMsg.ReceiveNewbieTask,e=>{h.MPool.load({bundle:s.EBundle.Dialog,path:"NewbieTask/res/prefab/medal",type:cc.Prefab,onComplete:t=>{let i=this.node.convertToNodeSpaceAR(e);t.setParent(this.node),t.setPosition(i);let o=this.node.parent.convertToNodeSpaceAR(this.medal.parent.convertToWorldSpaceAR(this.medal.getPosition()));cc.tween(t).to(i.sub(o).mag()/500,{position:cc.v3(o)},{easing:cc.easing.circOut}).call(()=>{h.MPool.recovery(t),this.updateNewbieTaskBox()}).start()}})},this),d.MEvent.on([d.EMsg.ReceiveNewbieTask,d.EMsg.ReceiveNewbieTaskBox],()=>{this.updateSign()},this),this.schedule(()=>{this.model.surplusDuration()>0?"cn"==c.MConfig.Language?this.lbNewbieTask.string="\u5269\u4f59\u65f6\u95f4\uff1a"+Utils.getTimeDHMS(this.model.surplusDuration()):"tc"==c.MConfig.Language?this.lbNewbieTask.string="\u5269\u9918\u6642\u9593\uff1a"+Utils.getTimeDHMS(this.model.surplusDuration()):"vi"==c.MConfig.Language?this.lbNewbieTask.string="C\xf2n th\u1eddi gian\uff1a"+Utils.getTimeDHMS(this.model.surplusDuration()):"id"==c.MConfig.Language?this.lbNewbieTask.string="Waktu tersisa\uff1a"+Utils.getTimeDHMS(this.model.surplusDuration()):"pt"==c.MConfig.Language?this.lbNewbieTask.string="Tempo restante\uff1a"+Utils.getTimeDHMS(this.model.surplusDuration()):this.lbNewbieTask.string="Time remaining\uff1a"+Utils.getTimeDHMS(this.model.surplusDuration()):this.destroyDialog()},1,cc.macro.REPEAT_FOREVER,.01)}showDialog(){super.showDialog(),this.model=this.dialogOption.data,this.locks.children.forEach((e,t)=>{t<this.model.day?e.active=!1:e.active=!0}),this.toggleContainer.toggleItems[this.model.day-1].check();let e=[...c.MConfig.TableNewbieTask.values()].filter(e=>e.tag==r.ETaskTag.NewbieTaskBox);console.log("taskInfos:",e),this.totalIntegral=Math.max.apply(Math,e.map(e=>e.param.ref1)),console.log("this.totalIntegral:",this.totalIntegral);let t=this.model.getTasks({tag:r.ETaskTag.NewbieTaskBox});console.log(t),t.forEach((e,t)=>{this.boxs[t].x=372*e.count/this.totalIntegral,e.count/this.totalIntegral>=1&&(this.boxs[t].x+=42),this.boxs[t].getComponent(g.default).init(e)}),this.updateNewbieTaskBox(),this.updateSign()}updateSign(){this.toggleContainer.toggleItems.forEach((e,t)=>{if(t<this.model.day){let i=this.model.tasks.find(e=>e.receiveStatus==n.EReceiveStatus.UnReceive&&e.day==t+1);e.node.getChildByName("sign").active=!!i}else e.node.getChildByName("sign").active=!1})}toggleCheckEvent(){let e=1;this.toggleContainer.toggleItems[0].isChecked?e=1:this.toggleContainer.toggleItems[1].isChecked?e=2:this.toggleContainer.toggleItems[2].isChecked?e=3:this.toggleContainer.toggleItems[3].isChecked?e=4:this.toggleContainer.toggleItems[4].isChecked?e=5:this.toggleContainer.toggleItems[5].isChecked&&(e=6);let t=this.model.getTasks({tag:r.ETaskTag.NewbieTask,day:e,sort:!0});for(console.log(t);this.newbieTaskContent.childrenCount>0;)h.MPool.recovery(this.newbieTaskContent.children[0]);this.scheduleOnce(()=>{this.loadDailyTask(0,t)}),this.toggleContainer.toggleItems.forEach(e=>{e.isChecked?e.interactable=!1:e.interactable=!0})}updateNewbieTaskBox(){let e=0;this.model.tasks.forEach(t=>{if(t.tag==r.ETaskTag.NewbieTask&&t.receiveStatus==n.EReceiveStatus.Received){let i=c.MConfig.TableNewbieTask.get(t.id);e+=i.integral}}),this.achieveProgress.width=Math.max(.01,372*Math.min(e/this.totalIntegral,1)),this.lbAchieve.string=e.toString()}loadDailyTask(e,t){e<t.length&&h.MPool.load({bundle:s.EBundle.Dialog,path:"NewbieTask/res/prefab/newbieTaskItem",type:cc.Prefab,onComplete:i=>{i.setParent(this.newbieTaskContent),i.getComponent(p.default).init(t[e]),this.loadDailyTask(++e,t)}})}onClickClose(){l.MAudio.playEffect(l.EAudio.Click),this.destroyDialog()}onDisable(){d.MEvent.targetOff(this),this.unscheduleAllCallbacks()}};o([v(cc.Node)],m.prototype,"medal",void 0),o([v([cc.Node])],m.prototype,"boxs",void 0),o([v(cc.Node)],m.prototype,"achieveProgress",void 0),o([v(cc.Label)],m.prototype,"lbAchieve",void 0),o([v(cc.Node)],m.prototype,"newbieTaskContent",void 0),o([v(cc.ToggleContainer)],m.prototype,"toggleContainer",void 0),o([v(cc.Node)],m.prototype,"locks",void 0),o([v(cc.Label)],m.prototype,"lbNewbieTask",void 0),m=o([u],m),i.default=m,cc._RF.pop()},{"../../../Script/Base/BaseDialog":void 0,"../../../Script/Enum":void 0,"../../../Script/Interface/ITask":void 0,"../../../Script/Manager/MAudio":void 0,"../../../Script/Manager/MBundle":void 0,"../../../Script/Manager/MConfig":void 0,"../../../Script/Manager/MEvent":void 0,"../../../Script/Manager/MPool":void 0,"./prefab/NewbieTaskBoxItem":"NewbieTaskBoxItem","./prefab/NewbieTaskItem":"NewbieTaskItem"}],DialogOverBox:[function(e,t,i){"use strict";cc._RF.push(t,"27544Mq3r9GVoqb2mxrECKd","DialogOverBox");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../Script/Base/BaseDialog"),n=e("../../../Script/Enum"),r=e("../../../Script/Manager/MAd"),l=e("../../../Script/Manager/MAudio"),s=e("../../../Script/Manager/MBundle"),c=e("../../../Script/Manager/MConfig"),d=e("../../../Script/Manager/MData"),h=e("../../../Script/Manager/MDialog"),g=e("../../../Script/Manager/MEvent"),p=e("../../../Script/Manager/MItem"),u=e("../../../Script/Manager/MModel"),v=e("../../../Script/Manager/MPool"),m=e("../../../Script/Manager/MSkill"),M=e("../../../Script/Temporary"),f=e("./prefab/OverBoxItem"),{ccclass:C,property:y}=cc._decorator;let S=class extends a.default{constructor(){super(...arguments),this.boxSkeleton=null,this.content=null,this.extra=null,this.navigateAd=null,this.ndBtnNavigateAdChangePos=null,this.ndBtnNormal=null,this.platformOther=null,this.platformByteDance=null,this.passExp=null,this.ndBtnGainAll=null,this.btnX="",this.containKey=!1}onEnable(){GA.isPlatform([GA.Platform.ByteDance,GA.Platform.Kwaigame])?(this.platformByteDance.active=!0,this.platformOther.active=!1):(this.platformByteDance.active=!1,this.platformOther.active=!0),g.MEvent.on(g.EMsg.GetOverBox3x,()=>{this.gainAll(3)},this)}start(){if(super.start(),c.MConfig.Transsion){let e=this.ndBtnGainAll.getChildByName("115001");this.ndBtnGainAll.getChildByName("rsv").active=!1,e.x=0,e.getComponent(cc.Label).string="3x"}}showDialog(){super.showDialog(),GA.sentLogs([{eventId:"\u8fdb\u5165\u989d\u5916\u5956\u52b1\u754c\u9762"}]),this.extra.active=!1,this.box=this.dialogOption.data;let e="",t=100*Math.random(),i=new Date,o=!1;if(new Date(c.MConfig.Activity.startTime[0],c.MConfig.Activity.startTime[1]-1,c.MConfig.Activity.startTime[2]).getTime()<=i.getTime()&&new Date(c.MConfig.Activity.endTime[0],c.MConfig.Activity.endTime[1]-1,c.MConfig.Activity.endTime[2]+1).getTime()>=i.getTime()?(this.passExp.node.active=!0,o=!0):(this.passExp.node.active=!1,o=!1),this.box==n.EBox.Normal){if(t<c.MConfig.Config.NormalKeyChance?this.containKey=!0:this.containKey=!1,e="OverBox/res/spine/normal/skeleton","inland"==c.MConfig.Region?this.loadOverBoxItem(0,c.MConfig.Config.NormalBoxRewards):"overseas"==c.MConfig.Region&&this.loadOverBoxItem(0,c.MConfig.Config.EnNormalBoxRewards),o){let e=[];u.MModel.Battle.gameEvent==n.EGameEvent.None?e=[5,6,7]:u.MModel.Battle.gameEvent==n.EGameEvent.NewYear&&(e=[7,8,9]);let t=e[Math.floor(Math.random()*e.length)];u.MModel.SummerFunPass.exp+=t,"cn"==c.MConfig.Language?this.passExp.string="\u901a\u884c\u8bc1\u7ecf\u9a8c +"+t:"tc"==c.MConfig.Language?this.passExp.string="\u901a\u884c\u8b49\u7d93\u9a57 +"+t:"pt"==c.MConfig.Language?this.passExp.string="Passar experi\xeancia +"+t:"vi"==c.MConfig.Language?this.passExp.string="Kinh nghi\u1ec7m truy\u1ec1n +"+t:"id"==c.MConfig.Language?this.passExp.string="Pass pengalaman +"+t:this.passExp.string="Pass experience +"+t,d.MData.save()}}else if(this.box==n.EBox.Rare&&(t<c.MConfig.Config.RareKeyChance?this.containKey=!0:this.containKey=!1,e="OverBox/res/spine/rare/skeleton","inland"==c.MConfig.Region?this.loadOverBoxItem(0,c.MConfig.Config.RareBoxRewards):"overseas"==c.MConfig.Region&&this.loadOverBoxItem(0,c.MConfig.Config.EnRareBoxRewards),o)){let e=[];u.MModel.Battle.gameEvent==n.EGameEvent.None?e=[8,9,10]:u.MModel.Battle.gameEvent==n.EGameEvent.NewYear&&(e=[10,11,12]);let t=e[Math.floor(Math.random()*e.length)];u.MModel.SummerFunPass.exp+=t,"cn"==c.MConfig.Language?this.passExp.string="\u901a\u884c\u8bc1\u7ecf\u9a8c +"+t:"tc"==c.MConfig.Language?this.passExp.string="\u901a\u884c\u8b49\u7d93\u9a57 +"+t:"pt"==c.MConfig.Language?this.passExp.string="Passar experi\xeancia +"+t:"vi"==c.MConfig.Language?this.passExp.string="Kinh nghi\u1ec7m truy\u1ec1n +"+t:"id"==c.MConfig.Language?this.passExp.string="Pass pengalaman +"+t:this.passExp.string="Pass experience +"+t,d.MData.save()}s.MBundle.load({bundle:s.EBundle.Dialog,path:e,type:sp.SkeletonData,onComplete:e=>{this.boxSkeleton.skeletonData=e,cc.tween(this.boxSkeleton.node).set({position:cc.v3(0,0)}).to(.3,{position:cc.v3(0,360)}).delay(.5).call(()=>{this.extra.active=!0}).start(),l.MAudio.playEffect(l.EAudio.OpenBox),this.boxSkeleton.setAnimation(0,"kaiqi",!1),this.boxSkeleton.setCompleteListener(()=>{this.boxSkeleton.setCompleteListener(null),this.boxSkeleton.setAnimation(0,"xunhuan",!0)})}}),GA.isPlatform([GA.Platform.WeChat,GA.Platform.QQ])?(this.ndBtnNormal.getComponent(cc.Sprite).enabled=!0,this.ndBtnNormal.children[0].color=cc.color(139,59,22)):(this.ndBtnNormal.getComponent(cc.Sprite).enabled=!1,this.ndBtnNormal.children[0].color=cc.color(255,255,255)),GA.Info.underCheck||!(GA.isPlatform([GA.Platform.OPPO,GA.Platform.Vivo])||GA.isPlatform(GA.Platform.Android)&&GA.Info.distributionChannel==GA.DistributionChannel.OPPO)||c.MConfig.BlackCity?this.navigateAd.active=!1:"l"==Utils.screenSize()?(this.ndBtnNormal.getComponent(cc.Widget).isAbsoluteBottom=!0,this.navigateAd.active=!0,this.ndBtnNormal.active=!1,this.ndBtnNavigateAdChangePos.active=!1,g.MEvent.on(g.EmsgNavigate.Error,()=>{this.ndBtnNavigateAdChangePos.active=!0,this.ndBtnNavigateAdChangePos.x=0,this.ndBtnNormal.getComponent(cc.Widget).bottom=276,this.ndBtnNormal.active=!1,this.scheduleOnce(()=>{this.ndBtnNormal.active=!0})},this),g.MEvent.on(g.EmsgNavigate.GoLook,e=>{this.ndBtnNormal.getComponent(cc.Widget).bottom=10,this.ndBtnNormal.active=!1,this.scheduleOnce(()=>{this.ndBtnNormal.active=!0}),"right"==e?(this.btnX="left",this.ndBtnNavigateAdChangePos.x=-150):"left"==e&&(this.btnX="right",this.ndBtnNavigateAdChangePos.x=150)},this),g.MEvent.on(g.EmsgNavigate.Center,()=>{this.ndBtnNavigateAdChangePos.x=0,this.ndBtnNormal.getComponent(cc.Widget).bottom=276,this.ndBtnNormal.active=!1,this.scheduleOnce(()=>{this.ndBtnNormal.active=!0})},this),this.scheduleOnce(()=>{this.ndBtnNavigateAdChangePos.active=!0,this.ndBtnNormal.active=!0,g.MEvent.emit(g.EmsgNavigate.Extra,this.btnX)},c.MConfig.Config.GoLookSideDelayShow)):(this.navigateAd.active=!1,this.ndBtnNavigateAdChangePos.active=!0,this.ndBtnNavigateAdChangePos.x=0,r.MAd.showGameBannerAd())}loadOverBoxItem(e,t){if(e<t.length){let i=t[e];v.MPool.load({bundle:s.EBundle.Dialog,path:"OverBox/res/prefab/overBoxItem",type:cc.Prefab,onComplete:o=>{o.setParent(this.content),e>3?(o.getComponent(f.default).init(i,!0),o.active=!0):(o.getComponent(f.default).init(i,!1),3==e?this.containKey?o.active=!0:o.active=!1:o.active=!0),this.loadOverBoxItem(++e,t)}})}}onClickGainAll(){l.MAudio.playEffect(l.EAudio.Click),c.MConfig.Transsion?null===AppProxy||void 0===AppProxy||AppProxy.requestPayment(c.MConfig.PurchaseGoods.overbox3x.productId):r.MAd.rewardOperation({tag:"OverBox",byVideo:GA.isNextRewardVideo("OverBox"),page:"\u7ed3\u7b97\u5b9d\u7bb1",result:e=>{e.reward&&this.gainAll()}})}gainAll(e){let t=[];this.box==n.EBox.Normal?"inland"==c.MConfig.Region?t=c.MConfig.Config.NormalBoxRewards:"overseas"==c.MConfig.Region&&(t=c.MConfig.Config.EnNormalBoxRewards):this.box==n.EBox.Rare&&("inland"==c.MConfig.Region?t=c.MConfig.Config.RareBoxRewards:"overseas"==c.MConfig.Region&&(t=c.MConfig.Config.EnRareBoxRewards));let i=[];for(let o=0;o<t.length;o++)3==o?this.containKey&&i.push(t[o]):i.push(t[o]);g.MEvent.emit(g.EMsg.ClearBattleData),h.MDialog.clear(),m.MSkill.clear(),s.MBundle.loadScene({bundle:s.EBundle.Hall,scene:s.EScene.HallScene,onBeforeLoadScene:()=>{l.MAudio.stopBG(),!GA.Info.isPreview&&GA.isPlatform([GA.Platform.WeChat,GA.Platform.QQ,GA.Platform.Kuaidianwan,GA.Platform.Android])&&GA.hideBanner(),c.MConfig.Config.CustomAd.BattleL&&g.MEvent.emit(g.EMsg.HideCustomAdL),c.MConfig.Config.CustomAd.BattleR&&g.MEvent.emit(g.EMsg.HideCustomAdR)},onLaunched:()=>{M.Temporary.currentScene=s.EScene.HallScene,this.scheduleOnce(()=>{p.MItem.getItem(i,e)}),GA.isPlatform([GA.Platform.QQ,GA.Platform.Vivo])&&c.MConfig.Config.SwitchInterstitialAd&&this.scheduleOnce(()=>{r.MAd.showInterstitialAd()},.1),g.MEvent.emit(g.EMsg.ShowBlindBoxGuide)}})}onClickNormalReceive(){l.MAudio.playEffect(l.EAudio.Click);let e=[];this.box==n.EBox.Normal?"inland"==c.MConfig.Region?e=c.MConfig.Config.NormalBoxRewards:"overseas"==c.MConfig.Region&&(e=c.MConfig.Config.EnNormalBoxRewards):this.box==n.EBox.Rare&&("inland"==c.MConfig.Region?e=c.MConfig.Config.RareBoxRewards:"overseas"==c.MConfig.Region&&(e=c.MConfig.Config.EnRareBoxRewards));let t=[];for(let i=0;i<e.length;i++)i<=3&&(3==i?this.containKey&&t.push(e[i]):t.push(e[i]));g.MEvent.emit(g.EMsg.ClearBattleData),h.MDialog.clear(),m.MSkill.clear(),s.MBundle.loadScene({bundle:s.EBundle.Hall,scene:s.EScene.HallScene,onBeforeLoadScene:()=>{l.MAudio.stopBG(),!GA.Info.isPreview&&GA.isPlatform([GA.Platform.WeChat,GA.Platform.QQ,GA.Platform.Kuaidianwan,GA.Platform.Android])&&GA.hideBanner(),c.MConfig.Config.CustomAd.BattleL&&g.MEvent.emit(g.EMsg.HideCustomAdL),c.MConfig.Config.CustomAd.BattleR&&g.MEvent.emit(g.EMsg.HideCustomAdR)},onLaunched:()=>{M.Temporary.currentScene=s.EScene.HallScene,this.scheduleOnce(()=>{p.MItem.getItem(t)}),GA.isPlatform([GA.Platform.QQ,GA.Platform.Vivo])&&c.MConfig.Config.SwitchInterstitialAd&&this.scheduleOnce(()=>{r.MAd.showInterstitialAd()},.1),window.GameAssistantWeb&&window.GameAssistantWeb.showFullScreenVideoAd(),g.MEvent.emit(g.EMsg.ShowBlindBoxGuide)}})}onDisable(){this.unscheduleAllCallbacks(),g.MEvent.targetOff(this),"l"==Utils.screenSize()||!(GA.isPlatform([GA.Platform.OPPO,GA.Platform.Vivo])||GA.isPlatform(GA.Platform.Android)&&GA.Info.distributionChannel==GA.DistributionChannel.OPPO)||GA.Info.underCheck||c.MConfig.BlackCity||r.MAd.hideGameBannerAd()}};o([y(sp.Skeleton)],S.prototype,"boxSkeleton",void 0),o([y(cc.Node)],S.prototype,"content",void 0),o([y(cc.Node)],S.prototype,"extra",void 0),o([y(cc.Node)],S.prototype,"navigateAd",void 0),o([y(cc.Node)],S.prototype,"ndBtnNavigateAdChangePos",void 0),o([y(cc.Node)],S.prototype,"ndBtnNormal",void 0),o([y(cc.Node)],S.prototype,"platformOther",void 0),o([y(cc.Node)],S.prototype,"platformByteDance",void 0),o([y(cc.Label)],S.prototype,"passExp",void 0),o([y(cc.Node)],S.prototype,"ndBtnGainAll",void 0),S=o([C],S),i.default=S,cc._RF.pop()},{"../../../Script/Base/BaseDialog":void 0,"../../../Script/Enum":void 0,"../../../Script/Manager/MAd":void 0,"../../../Script/Manager/MAudio":void 0,"../../../Script/Manager/MBundle":void 0,"../../../Script/Manager/MConfig":void 0,"../../../Script/Manager/MData":void 0,"../../../Script/Manager/MDialog":void 0,"../../../Script/Manager/MEvent":void 0,"../../../Script/Manager/MItem":void 0,"../../../Script/Manager/MModel":void 0,"../../../Script/Manager/MPool":void 0,"../../../Script/Manager/MSkill":void 0,"../../../Script/Temporary":void 0,"./prefab/OverBoxItem":"OverBoxItem"}],DialogOver:[function(e,t,i){"use strict";cc._RF.push(t,"f0945ufIGRHs6qmDnggY+BF","DialogOver");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../Script/Base/BaseDialog"),n=e("../../../Script/Enum"),r=e("../../../Script/Manager/MAd"),l=e("../../../Script/Manager/MAudio"),s=e("../../../Script/Manager/MBundle"),c=e("../../../Script/Manager/MConfig"),d=e("../../../Script/Manager/MDialog"),h=e("../../../Script/Manager/MEvent"),g=e("../../../Script/Manager/MModel"),p=e("../../../Script/Manager/MSkill"),u=e("../../../Script/Manager/MToast"),v=e("../../../Script/Temporary"),{ccclass:m,property:M}=cc._decorator;let f=class extends a.default{constructor(){super(...arguments),this.win=null,this.lose=null,this.winSkeleton=null,this.loseSeleton=null,this.ndBtnNormals=[],this.navigateAd=null,this.otherPlatforms=[],this.byteDancePlatforms=[],this.ndBtnRareBoxs=[],this.lefts=[],this.rights=[],this.ifStar=null}showDialog(){super.showDialog(),g.MModel.Common.freeRareBoxCount<c.MConfig.Config.FreeRareBoxCount?this.ndBtnRareBoxs.forEach(e=>{e.getComponent(cc.Sprite).enabled=!1,e.getChildByName("free").active=!0}):this.ndBtnRareBoxs.forEach(e=>{e.getComponent(cc.Sprite).enabled=!0,e.getChildByName("free").active=!1}),GA.isPlatform([GA.Platform.ByteDance])&&"novel_fm"!=c.MConfig.appName&&"novelapp"!=c.MConfig.appName&&"reading"!=c.MConfig.appName?(this.otherPlatforms.forEach(e=>{e.active=!1}),this.byteDancePlatforms.forEach(e=>{e.active=!0}),GA.PA.getGameRecorderManager().stop()):GA.isPlatform([GA.Platform.Kwaigame])?(v.Temporary.recordingScreenFunc?(h.MEvent.on(h.EMsg.GameRecorderSuccess,()=>{this.otherPlatforms.forEach(e=>{e.active=!1}),this.byteDancePlatforms.forEach(e=>{e.active=!0})},this),h.MEvent.on(h.EMsg.GameRecorderFail,()=>{this.otherPlatforms.forEach(e=>{e.active=!1}),this.byteDancePlatforms.forEach(e=>{e.active=!0}),this.lefts.forEach(e=>{e.x=0}),this.rights.forEach(e=>{e.active=!1})},this)):(this.otherPlatforms.forEach(e=>{e.active=!1}),this.byteDancePlatforms.forEach(e=>{e.active=!0}),this.lefts.forEach(e=>{e.x=0}),this.rights.forEach(e=>{e.active=!1})),GA.PA.getGameRecorder().stop()):(this.otherPlatforms.forEach(e=>{e.active=!0}),this.byteDancePlatforms.forEach(e=>{e.active=!1})),GA.sentLogs([{eventId:"\u8fdb\u5165\u5b9d\u7bb1\u9886\u53d6\u754c\u9762"}]),h.MEvent.emit(h.EMsg.SpeedNormal),this.battleStatus=this.dialogOption.data,this.battleStatus==n.EBattleStatus.Win?(l.MAudio.playEffect(l.EAudio.Win),g.MModel.Battle.passLevel(),this.win.active=!0,this.lose.active=!1,s.MBundle.load({bundle:s.EBundle.Dialog,path:"Over/res/spine/win/skeleton",type:sp.SkeletonData,onComplete:e=>{this.winSkeleton.skeletonData=e;let t="",i="";"cn"==c.MConfig.Language?g.MModel.Battle.gameEvent==n.EGameEvent.None?g.MModel.Battle.gameModel==n.EGameModel.Normal?(t="z_guan1",i="z_guan2"):g.MModel.Battle.gameModel==n.EGameModel.Infernal&&(t="z_xin1",i="z_xin2"):g.MModel.Battle.gameEvent!=n.EGameEvent.Halloween&&g.MModel.Battle.gameEvent!=n.EGameEvent.Thanksgiving&&g.MModel.Battle.gameEvent!=n.EGameEvent.Christmas&&g.MModel.Battle.gameEvent!=n.EGameEvent.NewYear&&g.MModel.Battle.gameEvent!=n.EGameEvent.MothersDay||(t="z_guan1",i="z_guan2"):"en"==c.MConfig.Language||"pt"==c.MConfig.Language||"vi"==c.MConfig.Language||"id"==c.MConfig.Language?g.MModel.Battle.gameEvent==n.EGameEvent.None?g.MModel.Battle.gameModel==n.EGameModel.Normal?(t="y_guan1",i="y_guan2"):g.MModel.Battle.gameModel==n.EGameModel.Infernal&&(t="y_xin1",i="y_xin2"):g.MModel.Battle.gameEvent!=n.EGameEvent.Halloween&&g.MModel.Battle.gameEvent!=n.EGameEvent.Thanksgiving&&g.MModel.Battle.gameEvent!=n.EGameEvent.Christmas&&g.MModel.Battle.gameEvent!=n.EGameEvent.NewYear&&g.MModel.Battle.gameEvent!=n.EGameEvent.MothersDay||(t="y_guan1",i="y_guan2"):"tc"==c.MConfig.Language&&(g.MModel.Battle.gameEvent==n.EGameEvent.None?g.MModel.Battle.gameModel==n.EGameModel.Normal?(t="f_guan1",i="f_guan2"):g.MModel.Battle.gameModel==n.EGameModel.Infernal&&(t="f_xin1",i="f_xin2"):g.MModel.Battle.gameEvent!=n.EGameEvent.Halloween&&g.MModel.Battle.gameEvent!=n.EGameEvent.Thanksgiving&&g.MModel.Battle.gameEvent!=n.EGameEvent.Christmas&&g.MModel.Battle.gameEvent!=n.EGameEvent.NewYear&&g.MModel.Battle.gameEvent!=n.EGameEvent.MothersDay||(t="f_guan1",i="f_guan2")),this.winSkeleton.setAnimation(0,t,!1),this.winSkeleton.setCompleteListener(()=>{this.winSkeleton.setCompleteListener(null),this.winSkeleton.setAnimation(0,i,!0)}),g.MModel.Battle.gameModel==n.EGameModel.Infernal&&v.Temporary.completeTask?(this.ifStar.active=!0,cc.tween(this.ifStar).set({scale:5}).to(.5,{scale:.8}).start()):this.ifStar.active=!1}}),GA.isPlatform([GA.Platform.QQ])&&(v.Temporary.reachOverCount++,v.Temporary.reachOverCount>=3&&!g.MModel.UserData.saveAppToDesktop&&window.qq.saveAppToDesktop({success:()=>{g.MModel.UserData.saveAppToDesktop=!0,console.log("\u70b9\u51fb\u540c\u610f\u4fdd\u5b58\u684c\u9762\uff01")},fail:()=>{console.log("\u70b9\u51fb\u4e0d\u540c\u610f\u4fdd\u5b58\u684c\u9762\uff01")}}))):this.battleStatus==n.EBattleStatus.Lose&&(l.MAudio.playEffect(l.EAudio.Fail),this.win.active=!1,this.lose.active=!0,s.MBundle.load({bundle:s.EBundle.Dialog,path:"Over/res/spine/lose/skeleton",type:sp.SkeletonData,onComplete:e=>{this.loseSeleton.skeletonData=e;let t="",i="";"cn"==c.MConfig.Language?(t="zhong_1",i="zhong_2"):"en"==c.MConfig.Language||"pt"==c.MConfig.Language||"vi"==c.MConfig.Language||"id"==c.MConfig.Language?(t="ying_1",i="ying_2"):"tc"==c.MConfig.Language&&(t="fan_1",i="fan_2"),this.loseSeleton.setAnimation(0,t,!1),this.loseSeleton.setCompleteListener(()=>{this.loseSeleton.setCompleteListener(null),this.loseSeleton.setAnimation(0,i,!0)})}})),GA.isPlatform([GA.Platform.OPPO,GA.Platform.Vivo])||GA.isPlatform(GA.Platform.Android)&&GA.Info.distributionChannel==GA.DistributionChannel.OPPO?"l"==Utils.screenSize()?(this.navigateAd.active=!0,this.ndBtnNormals.forEach(e=>{e.getComponent(cc.Widget).bottom=8}),this.ndBtnNormals.forEach(e=>{e.active=!1}),this.scheduleOnce(()=>{this.ndBtnNormals.forEach(e=>{e.active=!0})}),h.MEvent.on(h.EmsgNavigate.Error,()=>{this.ndBtnNormals.forEach(e=>{e.getComponent(cc.Widget).bottom=276}),this.ndBtnNormals.forEach(e=>{e.active=!1}),this.scheduleOnce(()=>{this.ndBtnNormals.forEach(e=>{e.active=!0})})},this),h.MEvent.on(h.EmsgNavigate.Center,()=>{this.ndBtnNormals.forEach(e=>{e.getComponent(cc.Widget).bottom=276}),this.ndBtnNormals.forEach(e=>{e.active=!1}),this.scheduleOnce(()=>{this.ndBtnNormals.forEach(e=>{e.active=!0})})},this)):(this.navigateAd.active=!1,this.ndBtnNormals.forEach(e=>{e.getComponent(cc.Widget).bottom=276}),r.MAd.showGameBannerAd()):(this.navigateAd.active=!1,this.ndBtnNormals.forEach(e=>{e.getComponent(cc.Widget).bottom=276})),GA.isPlatform([GA.Platform.WeChat,GA.Platform.QQ])?(this.ndBtnNormals.forEach(e=>{e.active=!1,e.getComponent(cc.Sprite).enabled=!0,e.children[0].color=cc.color(139,59,22)}),this.scheduleOnce(()=>{this.ndBtnNormals.forEach(e=>{e.active=!0})},c.MConfig.Config.BtnDelayShow)):this.ndBtnNormals.forEach(e=>{e.getComponent(cc.Sprite).enabled=!1,e.children[0].color=cc.color(255,255,255)}),GA.isPlatform(GA.Platform.QQ)&&c.MConfig.Config.SwitchAppBoxAd&&this.scheduleOnce(()=>{r.MAd.showAppBoxAd()},1)}start(){super.start(),""!=v.Temporary.screenshot&&(GA.isPlatform([GA.Platform.ByteDance])&&"novel_fm"!=c.MConfig.appName&&"novelapp"!=c.MConfig.appName&&"reading"!=c.MConfig.appName||GA.isPlatform([GA.Platform.Kwaigame])&&v.Temporary.recordingScreenFunc)&&d.MDialog.showDialog(s.EDialog.GameRecorder,{})}onClickReceiveRareBox(){l.MAudio.playEffect(l.EAudio.Click),g.MModel.Common.freeRareBoxCount<c.MConfig.Config.FreeRareBoxCount?(g.MModel.Common.freeRareBoxCount++,h.MEvent.emit(h.EMsg.ClearBattleData),d.MDialog.showDialog(s.EDialog.OverBox,{data:n.EBox.Rare}),this.destroyDialog()):c.MConfig.Transsion?(v.Temporary.TranssionVideoCallBack=()=>{h.MEvent.emit(h.EMsg.ClearBattleData),d.MDialog.showDialog(s.EDialog.OverBox,{data:n.EBox.Rare}),this.destroyDialog()},null===AppProxy||void 0===AppProxy||AppProxy.requestPayment("VideoToPay")):r.MAd.rewardOperation({tag:"RareBox",byVideo:GA.isNextRewardVideo("RareBox"),page:"\u7ed3\u7b97\u754c\u9762",result:e=>{e.reward&&(h.MEvent.emit(h.EMsg.ClearBattleData),d.MDialog.showDialog(s.EDialog.OverBox,{data:n.EBox.Rare}),this.destroyDialog())}})}onClickReceiveNormalBox(){if(l.MAudio.playEffect(l.EAudio.Click),h.MEvent.emit(h.EMsg.ClearBattleData),d.MDialog.showDialog(s.EDialog.OverBox,{data:n.EBox.Normal}),this.destroyDialog(),c.MConfig.AppProxyConfig.SwitchPTBXFsvAd){let e=(new Date).getTime();!GA.Info.isPreview&&GA.isPlatform([GA.Platform.Android,GA.Platform.iOS,GA.Platform.WeiYouH5])&&g.MModel.Common.gameDuration>(g.MModel.UserData.newUser?c.MConfig.AppProxyConfig.NewPlayerFsvAdPd:c.MConfig.AppProxyConfig.OldPlayerFsvAdPd)&&e-v.Temporary.LastShowFullScreenVideoAdTime>1e3*c.MConfig.AppProxyConfig.FsvAdRatio&&e-v.Temporary.closeVideoTime>c.MConfig.AppProxyConfig.AfterVideoAdFsvRatio&&(console.log("\u5f39\u5168\u5c4f\u89c6\u9891\u5e7f\u544a\uff01"),v.Temporary.LastShowFullScreenVideoAdTime=e,GA.isPlatform(GA.Platform.WeiYouH5)?window.MiniGameAds.isInterstitialReady()?MiniGameAds.showInterstitial().then(()=>{console.info("====> show interstitial success")}).catch(e=>{console.error("====> show interstitial error: "+e.message)}):console.info("====> interstitial not ready"):GA.showFullScreenVideoAd())}}onClickTryAgain(){if(l.MAudio.playEffect(l.EAudio.Click),g.MModel.Account.checkPayStrength(5))g.MModel.Account.payStrength(5),this.destroyDialog(),h.MEvent.emit(h.EMsg.LoadLevel),h.MEvent.emit(h.EMsg.ShowGameBanner);else if(c.MConfig.Transsion){let e=c.MConfig.TableI18n.get(201018);"cn"==c.MConfig.Language?u.MToast.showToast({title:e.cn}):"tc"==c.MConfig.Language?u.MToast.showToast({title:e.tc}):"pt"==c.MConfig.Language?u.MToast.showToast({title:e.pt}):"vi"==c.MConfig.Language?u.MToast.showToast({title:e.vi}):"id"==c.MConfig.Language?u.MToast.showToast({title:e.in}):u.MToast.showToast({title:e.en}),d.MDialog.showDialog(s.EDialog.Permanent,{})}else d.MDialog.showDialog(s.EDialog.FreeStrength,{})}onClickBackHome(){l.MAudio.playEffect(l.EAudio.Click),h.MEvent.emit(h.EMsg.ClearBattleData),d.MDialog.clear(),p.MSkill.clear(),s.MBundle.loadScene({bundle:s.EBundle.Hall,scene:s.EScene.HallScene,onBeforeLoadScene:()=>{l.MAudio.stopBG(),!GA.Info.isPreview&&GA.isPlatform([GA.Platform.WeChat,GA.Platform.QQ,GA.Platform.Kuaidianwan,GA.Platform.Android])&&GA.hideBanner(),c.MConfig.Config.CustomAd.BattleL&&h.MEvent.emit(h.EMsg.HideCustomAdL),c.MConfig.Config.CustomAd.BattleR&&h.MEvent.emit(h.EMsg.HideCustomAdR)},onLaunched:()=>{v.Temporary.currentScene=s.EScene.HallScene,this.scheduleOnce(()=>{if(GA.isPlatform([GA.Platform.QQ,GA.Platform.Vivo])&&c.MConfig.Config.SwitchInterstitialAd&&r.MAd.showInterstitialAd(),c.MConfig.AppProxyConfig.SwitchFHSYFsvAd){let e=(new Date).getTime();!GA.Info.isPreview&&GA.isPlatform([GA.Platform.Android,GA.Platform.iOS,GA.Platform.WeiYouH5])&&g.MModel.Common.gameDuration>(g.MModel.UserData.newUser?c.MConfig.AppProxyConfig.NewPlayerFsvAdPd:c.MConfig.AppProxyConfig.OldPlayerFsvAdPd)&&e-v.Temporary.LastShowFullScreenVideoAdTime>1e3*c.MConfig.AppProxyConfig.FsvAdRatio&&e-v.Temporary.closeVideoTime>c.MConfig.AppProxyConfig.AfterVideoAdFsvRatio&&(console.log("\u5f39\u5168\u5c4f\u89c6\u9891\u5e7f\u544a\uff01"),v.Temporary.LastShowFullScreenVideoAdTime=e,GA.isPlatform(GA.Platform.WeiYouH5)?window.MiniGameAds.isInterstitialReady()?MiniGameAds.showInterstitial().then(()=>{console.info("====> show interstitial success")}).catch(e=>{console.error("====> show interstitial error: "+e.message)}):console.info("====> interstitial not ready"):GA.showFullScreenVideoAd())}},.1),window.GameAssistantWeb&&window.GameAssistantWeb.showFullScreenVideoAd(),h.MEvent.emit(h.EMsg.ShowBlindBoxGuide)}})}onClickShareAppMessage(){if(GA.isPlatform(GA.Platform.ByteDance)){let e=["\u8fd9\u4e00\u5173\u592a\u96be\u4e86\uff0c\u4e0d\u8fc7\u6211\u8fd8\u662f\u4e00\u6b21\u901a\u8fc7\uff0c\u54c7\u54c8\u54c8\u54c8~","\u6311\u62183333\u5173\uff0c\u8d62\u8611\u83c7\u51b2\u7a81\u60ca\u559c\u5927\u793c\uff01","\u542c\u8bf4\u7b2c2222\u5173\u4ee5\u540e\uff0c\u4f1a\u6709\u795e\u79d8\u5f69\u86cb\u51fa\u73b0\uff01"],t=["\u8fd9\u4e00\u5173\u6709\u70b9\u96be\uff0c\u8981\u600e\u4e48\u8fc7\u554a\uff1f","\u563f\uff0c\u5144\u5f1f\u3002\u8fd9\u5c40\u6e38\u620f\u6709\u70b9\u96be\uff0c\u4f60\u8981\u4e0d\u8981\u6765\u6311\u6218\u4e00\u4e0b\uff1f","\u5404\u4f4d\u5927\u795e\uff0c\u8fd9\u5173\u592a\u96be\u4e86\uff0c\u4f60\u77e5\u9053\u600e\u4e48\u901a\u5173\u5417\uff1f"];GA.PA.shareAppMessage({channel:"video",title:"\u8611\u83c7\u51b2\u7a81",desc:v.Temporary.battleStatus==n.EBattleStatus.Win?e[Math.floor(Math.random()*e.length)]:t[Math.floor(Math.random()*t.length)],imageUrl:"",templateId:"6ghrjbg2op038lh64f",query:"",extra:{videoPath:v.Temporary.clipVideoPath,videoTopics:["\u8611\u83c7\u51b2\u7a81"],withVideoId:!0},success(e){console.log("\u5206\u4eab\u89c6\u9891\u6210\u529f:",e)},fail(e){"shareAppMessage:cancel"==e.errMsg||"shareAppMessage:fail video duration is too short"==e.errMsg&&GA.PA.showToast({title:"\u62b1\u6b49,\u5f55\u5c4f\u65f6\u95f4\u592a\u77ed\uff01",icon:"none"}),console.log("\u5206\u4eab\u89c6\u9891\u5931\u8d25:",e)}})}else GA.isPlatform(GA.Platform.Kwaigame)&&GA.PA.getGameRecorder().publishVideo({video:v.Temporary.videoID,mouldId:"2300001332",callback:e=>{null==e||null==e?console.log("\u5206\u4eab\u5f55\u5c4f\u6210\u529f"):console.log("\u5206\u4eab\u5f55\u5c4f\u5931\u8d25: "+JSON.stringify(e))}})}onDisable(){this.unscheduleAllCallbacks(),h.MEvent.targetOff(this),"l"==Utils.screenSize()||!(GA.isPlatform([GA.Platform.OPPO,GA.Platform.Vivo])||GA.isPlatform(GA.Platform.Android)&&GA.Info.distributionChannel==GA.DistributionChannel.OPPO)||GA.Info.underCheck||c.MConfig.BlackCity||r.MAd.hideGameBannerAd()}};o([M(cc.Node)],f.prototype,"win",void 0),o([M(cc.Node)],f.prototype,"lose",void 0),o([M(sp.Skeleton)],f.prototype,"winSkeleton",void 0),o([M(sp.Skeleton)],f.prototype,"loseSeleton",void 0),o([M([cc.Node])],f.prototype,"ndBtnNormals",void 0),o([M(cc.Node)],f.prototype,"navigateAd",void 0),o([M([cc.Node])],f.prototype,"otherPlatforms",void 0),o([M([cc.Node])],f.prototype,"byteDancePlatforms",void 0),o([M([cc.Node])],f.prototype,"ndBtnRareBoxs",void 0),o([M([cc.Node])],f.prototype,"lefts",void 0),o([M([cc.Node])],f.prototype,"rights",void 0),o([M(cc.Node)],f.prototype,"ifStar",void 0),f=o([m],f),i.default=f,cc._RF.pop()},{"../../../Script/Base/BaseDialog":void 0,"../../../Script/Enum":void 0,"../../../Script/Manager/MAd":void 0,"../../../Script/Manager/MAudio":void 0,"../../../Script/Manager/MBundle":void 0,"../../../Script/Manager/MConfig":void 0,"../../../Script/Manager/MDialog":void 0,"../../../Script/Manager/MEvent":void 0,"../../../Script/Manager/MModel":void 0,"../../../Script/Manager/MSkill":void 0,"../../../Script/Manager/MToast":void 0,"../../../Script/Temporary":void 0}],DialogPass:[function(e,t,i){"use strict";cc._RF.push(t,"6ad572w23VGFLVfuZYjh3hq","DialogPass");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../Script/Base/BaseDialog"),n=e("../../../Script/Manager/MAudio"),r=e("../../../Script/Manager/MBundle"),l=e("../../../Script/Manager/MConfig"),s=e("../../../Script/Manager/MDialog"),c=e("../../../Script/Manager/MEvent"),d=e("./prefab/PassItem"),{ccclass:h,property:g}=cc._decorator;let p=class extends a.default{constructor(){super(...arguments),this.ndBtnBack=null,this.notice=null,this.content=null,this.topProgress=null,this.lbExp=null,this.normalContent=null,this.specialContent=null,this.progress=null}showDialog(){super.showDialog();let e=l.MConfig.TableI18n.get(121004);"cn"==l.MConfig.Language?this.notice.string=e.cn:"tc"==l.MConfig.Language?this.notice.string=e.tc:"pt"==l.MConfig.Language?this.notice.string=e.pt:"vi"==l.MConfig.Language?this.notice.string=e.vi:"id"==l.MConfig.Language?this.notice.string=e.in:this.notice.string=e.en,!GA.Info.isPreview&&GA.isPlatform([GA.Platform.WeChat,GA.Platform.QQ,GA.Platform.Kuaidianwan,GA.Platform.Android])&&GA.hideBanner(),c.MEvent.emit(c.EMsg.HideCustomAdL),this.model=this.dialogOption.data;let t=[...l.MConfig.TablePass.values()];this.loadNomralItem(0,t),this.loadSpecialItem(0,t),this.loadProgressPoint(0,t),this.model.exp>0?this.topProgress.children[0].active=!0:this.topProgress.children[0].active=!1,this.lbExp.string="x"+this.model.exp.toString(),this.content.height=224*t.length,this.progress.height=224*(t.length-.5);let i=this.progress.getChildByName("fill"),o=-1;if(t.forEach((e,t)=>{-1==o&&e.exp>=this.model.exp&&(o=t)}),-1!=o){let e=o-.5,a=0,n=0;a=0==o?0:t[o-1].exp,n=t[o].exp,i.height=224*e+224*Math.min((this.model.exp-a)/(n-a),1),console.log("expIndex:",o),console.log("currHead:",a),console.log("currTail:",n)}else i.height=224*(t.length-.5)}onEnable(){let e=GA.PA.getSystemInfoSync();if("l"==Utils.screenSize()){let t=GA.PA.getMenuButtonBoundingClientRect();(null==t?void 0:t.top)?this.ndBtnBack.getComponent(cc.Widget).top=t.top*e.designPixelRatio:this.ndBtnBack.getComponent(cc.Widget).top=45}}loadNomralItem(e,t){var i;if(e<t.length)if(t[e].normal){let o="",a=null===(i=t[e-1])||void 0===i?void 0:i.normal;o=0!=e?a?"Pass/res/prefab/normalSmallItem":"Pass/res/prefab/normalBigItem":"Pass/res/prefab/normalSmallItem",r.MBundle.load({bundle:r.EBundle.Dialog,path:o,type:cc.Prefab,onComplete:i=>{let o=cc.instantiate(i);o.setParent(this.normalContent),o.getComponent(d.default).init(t[e].id,"Normal",t[e].normal),this.loadNomralItem(++e,t)}})}else this.loadNomralItem(++e,t)}loadSpecialItem(e,t){var i;if(e<t.length)if(t[e].special){let o="",a=null===(i=t[e-1])||void 0===i?void 0:i.special;o=0!=e?a?"Pass/res/prefab/specialSmallItem":"Pass/res/prefab/specialBigItem":"Pass/res/prefab/specialSmallItem",r.MBundle.load({bundle:r.EBundle.Dialog,path:o,type:cc.Prefab,onComplete:i=>{let o=cc.instantiate(i);o.setParent(this.specialContent),o.getComponent(d.default).init(t[e].id,"Special",t[e].special),this.loadSpecialItem(++e,t)}})}else this.loadSpecialItem(++e,t)}loadProgressPoint(e,t){e<t.length&&r.MBundle.load({bundle:r.EBundle.Dialog,path:"Pass/res/prefab/progressPoint",type:cc.Prefab,onComplete:i=>{let o=cc.instantiate(i);o.setParent(this.progress),o.y=224*-(e+.5),this.model.exp>=t[e].exp?o.getChildByName("reach").active=!0:(o.getChildByName("exp").getComponent(cc.Label).string=t[e].exp.toString(),o.getChildByName("reach").active=!1),this.loadProgressPoint(++e,t)}})}onClickClose(){n.MAudio.playEffect(n.EAudio.Click),this.destroyDialog()}onClickExplain(){n.MAudio.playEffect(n.EAudio.Click),s.MDialog.showDialog(r.EDialog.ActivityExplain,{})}};o([g(cc.Node)],p.prototype,"ndBtnBack",void 0),o([g(cc.Label)],p.prototype,"notice",void 0),o([g(cc.Node)],p.prototype,"content",void 0),o([g(cc.Node)],p.prototype,"topProgress",void 0),o([g(cc.Label)],p.prototype,"lbExp",void 0),o([g(cc.Node)],p.prototype,"normalContent",void 0),o([g(cc.Node)],p.prototype,"specialContent",void 0),o([g(cc.Node)],p.prototype,"progress",void 0),p=o([h],p),i.default=p,cc._RF.pop()},{"../../../Script/Base/BaseDialog":void 0,"../../../Script/Manager/MAudio":void 0,"../../../Script/Manager/MBundle":void 0,"../../../Script/Manager/MConfig":void 0,"../../../Script/Manager/MDialog":void 0,"../../../Script/Manager/MEvent":void 0,"./prefab/PassItem":"PassItem"}],DialogPause:[function(e,t,i){"use strict";cc._RF.push(t,"500ccrJzlZBEZHvn10RIccr","DialogPause");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../Script/Base/BaseDialog"),n=e("../../../Script/Manager/MAd"),r=e("../../../Script/Manager/MAudio"),l=e("../../../Script/Manager/MBundle"),s=e("../../../Script/Manager/MConfig"),c=e("../../../Script/Manager/MDialog"),d=e("../../../Script/Manager/MEvent"),h=e("../../../Script/Manager/MSkill"),g=e("../../../Script/Temporary"),{ccclass:p,property:u}=cc._decorator;let v=class extends a.default{constructor(){super(...arguments),this.AudioSwitchs=null,this.VibrateSwitchs=null,this.customerService=null}showDialog(){switch(super.showDialog(),this.model=this.dialogOption.data,this.model.AudioSwitch){case"on":this.AudioSwitchs.children[0].active=!0,this.AudioSwitchs.children[1].active=!1;break;case"off":this.AudioSwitchs.children[0].active=!1,this.AudioSwitchs.children[1].active=!0}switch(this.model.VibrateSwitch){case"on":this.VibrateSwitchs.children[0].active=!0,this.VibrateSwitchs.children[1].active=!1;break;case"off":this.VibrateSwitchs.children[0].active=!1,this.VibrateSwitchs.children[1].active=!0}this.scheduleOnce(()=>{cc.game.pause()},.5),GA.isPlatform(GA.Platform.Android)&&GA.Info.distributionChannel==GA.DistributionChannel.OPPO?this.customerService.active=!0:this.customerService.active=!1}onClickOffAudio(){cc.game.resume(),this.scheduleOnce(()=>{r.MAudio.playEffect(r.EAudio.Click),this.AudioSwitchs.children[0].active=!1,this.AudioSwitchs.children[1].active=!0,this.model.AudioSwitch="off",r.MAudio.stopBG(),this.scheduleOnce(()=>{cc.game.pause()},.05)})}onClickOnAudio(){cc.game.resume(),this.scheduleOnce(()=>{r.MAudio.playEffect(r.EAudio.Click),this.AudioSwitchs.children[0].active=!0,this.AudioSwitchs.children[1].active=!1,this.model.AudioSwitch="on",r.MAudio.playBG(r.EAudio.BattleBGM,!0),this.scheduleOnce(()=>{cc.game.pause()},.05)})}onClickOffVibrate(){cc.game.resume(),this.scheduleOnce(()=>{r.MAudio.playEffect(r.EAudio.Click),this.VibrateSwitchs.children[0].active=!1,this.VibrateSwitchs.children[1].active=!0,this.model.VibrateSwitch="off",this.scheduleOnce(()=>{cc.game.pause()},.05)})}onClickOnVirbrate(){cc.game.resume(),this.scheduleOnce(()=>{r.MAudio.playEffect(r.EAudio.Click),this.VibrateSwitchs.children[0].active=!0,this.VibrateSwitchs.children[1].active=!1,this.model.VibrateSwitch="on",this.scheduleOnce(()=>{cc.game.pause()},.05)})}onClickReGame(){s.MConfig.Transsion?(g.Temporary.TranssionVideoCallBack=()=>{cc.game.resume(),d.MEvent.emit(d.EMsg.LoadLevel),this.destroyDialog(),d.MEvent.emit(d.EMsg.ShowGameBanner)},null===AppProxy||void 0===AppProxy||AppProxy.requestPayment("VideoToPay")):n.MAd.rewardOperation({tag:"ReGame",byVideo:GA.isNextRewardVideo("ReGame"),page:"\u6682\u505c\u754c\u9762",result:e=>{e.reward&&(cc.game.resume(),d.MEvent.emit(d.EMsg.LoadLevel),this.destroyDialog(),d.MEvent.emit(d.EMsg.ShowGameBanner))}})}onClickBackHome(){cc.game.resume(),r.MAudio.playEffect(r.EAudio.Click),d.MEvent.emit(d.EMsg.SpeedNormal),d.MEvent.emit(d.EMsg.ClearBattleNode),this.scheduleOnce(()=>{d.MEvent.emit(d.EMsg.ClearBattleData),c.MDialog.clear(),h.MSkill.clear(),l.MBundle.loadScene({bundle:l.EBundle.Hall,scene:l.EScene.HallScene,onBeforeLoadScene:()=>{r.MAudio.stopBG(),!GA.Info.isPreview&&GA.isPlatform([GA.Platform.WeChat,GA.Platform.QQ,GA.Platform.Kuaidianwan,GA.Platform.Android])&&GA.hideBanner(),s.MConfig.Config.CustomAd.BattleL&&d.MEvent.emit(d.EMsg.HideCustomAdL),s.MConfig.Config.CustomAd.BattleR&&d.MEvent.emit(d.EMsg.HideCustomAdR)},onLaunched:()=>{g.Temporary.currentScene=l.EScene.HallScene,GA.isPlatform([GA.Platform.QQ,GA.Platform.Vivo])&&s.MConfig.Config.SwitchInterstitialAd&&this.scheduleOnce(()=>{n.MAd.showInterstitialAd()},.1),window.GameAssistantWeb&&window.GameAssistantWeb.showFullScreenVideoAd(),d.MEvent.emit(d.EMsg.ShowBlindBoxGuide)}})})}onClickClose(){r.MAudio.playEffect(r.EAudio.Click),this.destroyDialog(),cc.game.resume(),d.MEvent.emit(d.EMsg.ShowGameBanner)}};o([u(cc.Node)],v.prototype,"AudioSwitchs",void 0),o([u(cc.Node)],v.prototype,"VibrateSwitchs",void 0),o([u(cc.Node)],v.prototype,"customerService",void 0),v=o([p],v),i.default=v,cc._RF.pop()},{"../../../Script/Base/BaseDialog":void 0,"../../../Script/Manager/MAd":void 0,"../../../Script/Manager/MAudio":void 0,"../../../Script/Manager/MBundle":void 0,"../../../Script/Manager/MConfig":void 0,"../../../Script/Manager/MDialog":void 0,"../../../Script/Manager/MEvent":void 0,"../../../Script/Manager/MSkill":void 0,"../../../Script/Temporary":void 0}],DialogPermanent:[function(e,t,i){"use strict";cc._RF.push(t,"e279a/B3ylBgKgsoOyADoMA","DialogPermanent");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../Script/Base/BaseDialog"),n=e("../../../Script/Manager/MAudio"),r=e("../../../Script/Manager/MBundle"),l=e("../../../Script/Manager/MConfig"),s=e("./prefab/GiftItem"),{ccclass:c,property:d}=cc._decorator;let h=class extends a.default{constructor(){super(...arguments),this.content=null}showDialog(){super.showDialog(),this.loadGift(l.MConfig.AppProxyConfig.NewPermanent_1,l.MConfig.PurchaseGoods.newpermanent_1,!0,()=>{this.loadGift(l.MConfig.AppProxyConfig.NewPermanent_2,l.MConfig.PurchaseGoods.newpermanent_2,!1,()=>{this.loadGift(l.MConfig.AppProxyConfig.NewPermanent_3,l.MConfig.PurchaseGoods.newpermanent_3,!1)})})}loadGift(e,t,i,o){r.MBundle.load({bundle:r.EBundle.Dialog,path:"Permanent/res/preafab/giftItem",type:cc.Prefab,onComplete:a=>{let n=cc.instantiate(a);n.setParent(this.content),n.getComponent(s.default).init(e,t,i),null==o||o()}})}onClickClose(){n.MAudio.playEffect(n.EAudio.Click),this.destroyDialog()}};o([d(cc.Node)],h.prototype,"content",void 0),h=o([c],h),i.default=h,cc._RF.pop()},{"../../../Script/Base/BaseDialog":void 0,"../../../Script/Manager/MAudio":void 0,"../../../Script/Manager/MBundle":void 0,"../../../Script/Manager/MConfig":void 0,"./prefab/GiftItem":"GiftItem"}],DialogRank:[function(e,t,i){"use strict";cc._RF.push(t,"aa693vfGplNH787ZOrW2BNe","DialogRank");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../Script/Base/BaseDialog"),n=e("../../../Script/Manager/MAudio"),r=e("../../../Script/Manager/MModel"),l=e("../../../Script/Manager/MRank"),s=e("./prefab/RankItem"),{ccclass:c,property:d}=cc._decorator;let h=class extends a.default{constructor(){super(...arguments),this.title=null,this.ndBtnNormal=null,this.ndBtnInfernal=null,this.view=null,this.content=null,this.selfRankItem=null,this.rankItem=null,this.rankItem1=null,this.rankItem2=null,this.rankItem3=null,this.ndBtnRank=null,this.spacingY=5,this.rankList=[],this.rowItemCounts=0,this.items=[],this.topMax=20,this.bottomMax=0,this.lastListY=0,this.itemHeight=0,this.contentInitialY=0,this.rankType="Level",this.nickNameList=[],this.loaded=!1}showDialog(){super.showDialog(),!GA.Info.isPreview&&GA.isPlatform([GA.Platform.WeChat,GA.Platform.QQ,GA.Platform.Kuaidianwan,GA.Platform.Android])&&GA.hideBanner(),this.contentInitialY=this.content.y,this.setNormalSelect(),this.scheduleOnce(()=>{"l"==Utils.screenSize()&&(this.title.y-=56)})}onEnable(){let e=GA.PA.getSystemInfoSync(),t=GA.PA.getMenuButtonBoundingClientRect();(null==t?void 0:t.top)?this.ndBtnRank.getComponent(cc.Widget).top=t.top*e.designPixelRatio:this.ndBtnRank.getComponent(cc.Widget).top=45}initRank(e){if(!e)return;this.rankList=e;let t=0,i=cc.instantiate(this.rankItem);i.active=!0,t=i.height,this.itemHeight=t,this.rowItemCounts=Math.ceil(this.view.height/(t+this.spacingY));for(let o=0;o<this.rowItemCounts+5&&void 0!==this.rankList[o];++o)i.getComponent(s.default).init({type:this.rankType,rank:o+1,score:this.rankList[o].score,openId:this.rankList[o].openid,nickName:this.nickNameList[o]}),this.items.push(i),this.items[o].__itemID=o,this.content.addChild(i),i.x=0,i.y=-(t/2+o*(t+this.spacingY)),o<this.rowItemCounts+6&&((i=cc.instantiate(this.rankItem)).active=!0);this.content.height=20+this.rankList.length*t+this.rankList.length*this.spacingY,this.topMax=5*t+4*this.spacingY,this.bottomMax=-(this.view.height+this.topMax),this.lastListY=this.content.y}update(){let e=this.content.y>this.lastListY,t=this.items.length,i=this.rankList.length;for(let o in this.items){let a=this.items[o],n=this.content.convertToWorldSpaceAR(a.position);if(n.y-=this.view.height/2,n=this.view.convertToNodeSpaceAR(n),e){if(n.y>this.topMax){let e=a.__itemID+t;if(e>=i)return;a.__itemID=e,a.y=a.y-t*this.itemHeight-t*this.spacingY,a.getComponent(s.default).init({type:this.rankType,rank:a.__itemID+1,score:this.rankList[a.__itemID].score,openId:this.rankList[a.__itemID].openid,nickName:this.nickNameList[a.__itemID]})}}else if(n.y<this.bottomMax){let e=a.__itemID-t;if(e<0)return;a.__itemID=e,a.y=a.y+t*this.itemHeight+t*this.spacingY,a.getComponent(s.default).init({type:this.rankType,rank:a.__itemID+1,score:this.rankList[a.__itemID].score,openId:this.rankList[a.__itemID].openid,nickName:this.nickNameList[a.__itemID]})}}this.lastListY=this.content.y}setNormalSelect(){this.loaded=!1,this.clear(),this.scheduleOnce(()=>{this.rankType="Level",this.ndBtnNormal.getComponent(cc.Button).interactable=!1,this.ndBtnNormal.getChildByName("unSelect").active=!1,this.ndBtnNormal.getChildByName("select").active=!0,this.ndBtnInfernal.getComponent(cc.Button).interactable=!0,this.ndBtnInfernal.getChildByName("unSelect").active=!0,this.ndBtnInfernal.getChildByName("select").active=!1,l.MRank.reqRank(r.MModel.Battle.level,e=>{let t=[];e.rankList.forEach(e=>{t.push(e.openid)}),l.MRank.getNickNameList(t,t=>{this.nickNameList=t,this.initRank(e.rankList),e.rankList[0]&&this.rankItem1.init({type:this.rankType,rank:1,score:e.rankList[0].score,openId:e.rankList[0].openid,nickName:t[0]}),e.rankList[1]&&this.rankItem2.init({type:this.rankType,rank:2,score:e.rankList[1].score,openId:e.rankList[1].openid,nickName:t[1]}),e.rankList[2]&&this.rankItem3.init({type:this.rankType,rank:3,score:e.rankList[2].score,openId:e.rankList[2].openid,nickName:t[2]}),this.loaded=!0}),this.selfRankItem.getComponent(s.default).init({type:this.rankType,rank:e.userRank.rank,score:e.userRank.score,openId:GA.Info.openId})})})}setInfernalSelect(){this.loaded=!1,this.clear(),this.scheduleOnce(()=>{this.rankType="Star",this.ndBtnNormal.getComponent(cc.Button).interactable=!0,this.ndBtnNormal.getChildByName("unSelect").active=!0,this.ndBtnNormal.getChildByName("select").active=!1,this.ndBtnInfernal.getComponent(cc.Button).interactable=!1,this.ndBtnInfernal.getChildByName("unSelect").active=!1,this.ndBtnInfernal.getChildByName("select").active=!0,l.MRank.reqMatchRank(e=>{let t=[];e.rankList.forEach(e=>{t.push(e.openid)}),l.MRank.getNickNameList(t,t=>{this.nickNameList=t,this.initRank(e.rankList),e.rankList[0]&&this.rankItem1.init({type:this.rankType,rank:1,score:e.rankList[0].score,openId:e.rankList[0].openid,nickName:t[0]}),e.rankList[1]&&this.rankItem2.init({type:this.rankType,rank:2,score:e.rankList[1].score,openId:e.rankList[1].openid,nickName:t[1]}),e.rankList[2]&&this.rankItem3.init({type:this.rankType,rank:3,score:e.rankList[2].score,openId:e.rankList[2].openid,nickName:t[2]}),this.loaded=!0}),this.selfRankItem.getComponent(s.default).init({type:this.rankType,rank:e.matchUserRank.rank,score:e.matchUserRank.score,openId:GA.Info.openId})})})}onClickNormal(){n.MAudio.playEffect(n.EAudio.Click),this.loaded&&this.setNormalSelect()}onClickInfernal(){n.MAudio.playEffect(n.EAudio.Click),this.loaded&&this.setInfernalSelect()}onClickClose(){n.MAudio.playEffect(n.EAudio.Click),this.destroyDialog()}clear(){this.clearData(),this.clearContent()}clearData(){this.rankList=[],this.rowItemCounts=0,this.items=[],this.topMax=0,this.bottomMax=0,this.lastListY=0,this.itemHeight=0,this.nickNameList=[]}clearContent(){this.content.destroyAllChildren()}};o([d(cc.Node)],h.prototype,"title",void 0),o([d(cc.Node)],h.prototype,"ndBtnNormal",void 0),o([d(cc.Node)],h.prototype,"ndBtnInfernal",void 0),o([d(cc.Node)],h.prototype,"view",void 0),o([d(cc.Node)],h.prototype,"content",void 0),o([d(cc.Node)],h.prototype,"selfRankItem",void 0),o([d(cc.Prefab)],h.prototype,"rankItem",void 0),o([d(s.default)],h.prototype,"rankItem1",void 0),o([d(s.default)],h.prototype,"rankItem2",void 0),o([d(s.default)],h.prototype,"rankItem3",void 0),o([d(cc.Node)],h.prototype,"ndBtnRank",void 0),h=o([c],h),i.default=h,cc._RF.pop()},{"../../../Script/Base/BaseDialog":void 0,"../../../Script/Manager/MAudio":void 0,"../../../Script/Manager/MModel":void 0,"../../../Script/Manager/MRank":void 0,"./prefab/RankItem":"RankItem"}],DialogSetting:[function(e,t,i){"use strict";cc._RF.push(t,"a70f8DvMKRAUIpOMvYFI/3B","DialogSetting");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../Script/Base/BaseDialog"),n=e("../../../Script/Enum"),r=e("../../../Script/Manager/MAudio"),l=e("../../../Script/Manager/MBundle"),s=e("../../../Script/Manager/MConfig"),c=e("../../../Script/Manager/MDialog"),d=e("../../../Script/Manager/MEvent"),h=e("../../../Script/Manager/MModel"),g=e("../../../Script/Manager/MToast"),p=e("../../../Script/Temporary"),{ccclass:u,property:v}=cc._decorator;let m=class extends a.default{constructor(){super(...arguments),this.AudioSwitchs=null,this.VibrateSwitchs=null,this.btnDataupload=null,this.btnDatadownload=null,this.btnRestorepurchase=null,this.btnGooglelogin=null,this.editBox=null,this.inland=null,this.overseas=null,this.exchangeCode=null,this.version=null,this.ndBtnDeleteUser=null}showDialog(){switch(super.showDialog(),GA.isPlatform(GA.Platform.WeiYouH5)?(this.inland.active=!1,this.overseas.active=!1,this.AudioSwitchs.setPosition(cc.v2(60,44)),this.VibrateSwitchs.setPosition(cc.v2(60,-50)),this.version.node.active=!1):"inland"==s.MConfig.Region?(this.inland.active=!0,this.overseas.active=!1,this.AudioSwitchs.setPosition(cc.v2(60,44)),this.VibrateSwitchs.setPosition(cc.v2(60,-50))):"overseas"==s.MConfig.Region&&(this.inland.active=!1,this.overseas.active=!0,this.AudioSwitchs.setPosition(cc.v2(-88,104)),this.VibrateSwitchs.setPosition(cc.v2(214,104))),this.model=this.dialogOption.data,this.model.AudioSwitch){case"on":this.AudioSwitchs.children[0].active=!0,this.AudioSwitchs.children[1].active=!1;break;case"off":this.AudioSwitchs.children[0].active=!1,this.AudioSwitchs.children[1].active=!0}switch(this.model.VibrateSwitch){case"on":this.VibrateSwitchs.children[0].active=!0,this.VibrateSwitchs.children[1].active=!1;break;case"off":this.VibrateSwitchs.children[0].active=!1,this.VibrateSwitchs.children[1].active=!0}(GA.isPlatform(GA.Platform.iOS)||"android_mgct_abroad_weiyou"==GA.Info.appId)&&(this.btnDataupload.node.active=!1,this.btnDatadownload.node.active=!1,this.btnRestorepurchase.node.active=!1,this.btnGooglelogin.node.active=!1),"android_mgct_taptap"==GA.Info.appId?this.exchangeCode.active=!0:this.exchangeCode.active=!1,cc.loader.loadRes("hotupdate/version",(e,t)=>{e||(this.version.string=JSON.parse(t._nativeAsset).version)}),GA.isPlatform(GA.Platform.Android)&&GA.isDistributionChannel(GA.DistributionChannel.XiaoMi)?this.ndBtnDeleteUser.active=!0:this.ndBtnDeleteUser.active=!1}onEnable(){h.MModel.Common.GooleLogined?(this.btnDataupload.interactable=!0,this.btnDatadownload.interactable=!0,this.btnRestorepurchase.interactable=!0,this.btnGooglelogin.interactable=!1):(this.btnDataupload.interactable=!1,this.btnDatadownload.interactable=!1,this.btnRestorepurchase.interactable=!1,this.btnGooglelogin.interactable=!0),d.MEvent.on(d.EMsg.Goole_SIGN_IN,()=>{console.log("\u8bbe\u7f6e\u754c\u9762\u6536\u5230\u3010\u767b\u5f55\u3011\u6d88\u606f\uff01"),this.btnDataupload.interactable=!0,this.btnDatadownload.interactable=!0,this.btnRestorepurchase.interactable=!0,this.btnGooglelogin.interactable=!1},this),d.MEvent.on(d.EMsg.Goole_SIGN_OUT,()=>{console.log("\u8bbe\u7f6e\u754c\u9762\u6536\u5230\u3010\u9000\u51fa\u3011\u6d88\u606f\uff01"),this.btnDataupload.interactable=!1,this.btnDatadownload.interactable=!1,this.btnRestorepurchase.interactable=!1,this.btnGooglelogin.interactable=!0},this)}onClickOffAudio(){cc.game.resume(),this.scheduleOnce(()=>{r.MAudio.playEffect(r.EAudio.Click),this.AudioSwitchs.children[0].active=!1,this.AudioSwitchs.children[1].active=!0,this.model.AudioSwitch="off",r.MAudio.stopBG(),this.scheduleOnce(()=>{cc.game.pause()},.05)})}onClickOnAudio(){cc.game.resume(),this.scheduleOnce(()=>{r.MAudio.playEffect(r.EAudio.Click),this.AudioSwitchs.children[0].active=!0,this.AudioSwitchs.children[1].active=!1,this.model.AudioSwitch="on",r.MAudio.playBG(r.EAudio.BattleBGM,!0),this.scheduleOnce(()=>{cc.game.pause()},.05)})}onClickOffVibrate(){cc.game.resume(),this.scheduleOnce(()=>{r.MAudio.playEffect(r.EAudio.Click),this.VibrateSwitchs.children[0].active=!1,this.VibrateSwitchs.children[1].active=!0,this.model.VibrateSwitch="off",this.scheduleOnce(()=>{cc.game.pause()},.05)})}onClickOnVirbrate(){cc.game.resume(),this.scheduleOnce(()=>{r.MAudio.playEffect(r.EAudio.Click),this.VibrateSwitchs.children[0].active=!0,this.VibrateSwitchs.children[1].active=!1,this.model.VibrateSwitch="on",this.scheduleOnce(()=>{cc.game.pause()},.05)})}onClickClose(){r.MAudio.playEffect(r.EAudio.Click),this.destroyDialog(),cc.game.resume(),d.MEvent.emit(d.EMsg.ShowGameBanner)}onClickDataupload(){r.MAudio.playEffect(r.EAudio.Click),h.MModel.UserData.newUser=!1,h.MModel.UserData.quitTime=(new Date).getTime(),null===AppProxy||void 0===AppProxy||AppProxy.saveFile(JSON.stringify(h.MModel.getData()))}onClickDatadownload(){r.MAudio.playEffect(r.EAudio.Click),null===AppProxy||void 0===AppProxy||AppProxy.loadSavefile(),this.destroyDialog()}onClickRestorepurchase(){r.MAudio.playEffect(r.EAudio.Click),null===AppProxy||void 0===AppProxy||AppProxy.restoreNonConsumablePurchase()}onClickGooglelogin(){r.MAudio.playEffect(r.EAudio.Click),null===AppProxy||void 0===AppProxy||AppProxy.signInGoogle()}onClickGooleSignOut(){r.MAudio.playEffect(r.EAudio.Click),null===AppProxy||void 0===AppProxy||AppProxy.signOutGoogle()}onClickYinitiaokuan(){c.MDialog.showDialog(l.EDialog.Clause,{data:"\u9690\u79c1\u6761\u6b3e"})}onClickYonghuxieyi(){c.MDialog.showDialog(l.EDialog.Clause,{data:"\u7528\u6237\u534f\u8bae"})}onClickShilingtixing(){c.MDialog.showDialog(l.EDialog.Clause,{data:"\u9002\u9f84\u63d0\u9192"})}onClickExchange(){r.MAudio.playEffect(r.EAudio.Click),""==this.editBox.string?g.MToast.showToast({title:"\u8bf7\u8f93\u5165\u5151\u6362\u7801"}):GA.request({url:Urls.url_checkExchangeCode,data:{userId:GA.Info.uid,giftCode:this.editBox.string},method:"POST",success:e=>{0==e.data.code?GA.request({url:Urls.url_exchangeCode,data:{userId:GA.Info.uid,giftCode:this.editBox.string},method:"POST",success:e=>{var t;if(0==e.data.code){let e=null===(t=[...s.MConfig.TableExchangeCode.values()].find(e=>e.code==this.editBox.string))||void 0===t?void 0:t.reward;e?(p.Temporary.RewardDoubleHide=!0,c.MDialog.showDialog(l.EDialog.BlindBoxPrize,{data:{item:e,source:n.ERewardSource.ExchangeCode}})):g.MToast.showToast({title:"\u6ca1\u6709\u627e\u5230\u5bf9\u5e94\u7684\u5956\u54c1"})}}}):21==e.data.code?g.MToast.showToast({title:"\u65e0\u6548\u5151\u6362\u7801"}):20==e.data.code?g.MToast.showToast({title:"\u5151\u6362\u7801\u5df2\u4f7f\u7528"}):1118==e.data.code&&g.MToast.showToast({title:"\u5151\u6362\u7801\u5df2\u5931\u6548"})}})}onClickDeleteUser(){r.MAudio.playEffect(r.EAudio.Click),c.MDialog.showDialog(l.EDialog.DeleteUser,{})}onDisable(){d.MEvent.targetOff(this)}};o([v(cc.Node)],m.prototype,"AudioSwitchs",void 0),o([v(cc.Node)],m.prototype,"VibrateSwitchs",void 0),o([v(cc.Button)],m.prototype,"btnDataupload",void 0),o([v(cc.Button)],m.prototype,"btnDatadownload",void 0),o([v(cc.Button)],m.prototype,"btnRestorepurchase",void 0),o([v(cc.Button)],m.prototype,"btnGooglelogin",void 0),o([v(cc.EditBox)],m.prototype,"editBox",void 0),o([v(cc.Node)],m.prototype,"inland",void 0),o([v(cc.Node)],m.prototype,"overseas",void 0),o([v(cc.Node)],m.prototype,"exchangeCode",void 0),o([v(cc.Label)],m.prototype,"version",void 0),o([v(cc.Node)],m.prototype,"ndBtnDeleteUser",void 0),m=o([u],m),i.default=m,cc._RF.pop()},{"../../../Script/Base/BaseDialog":void 0,"../../../Script/Enum":void 0,"../../../Script/Manager/MAudio":void 0,"../../../Script/Manager/MBundle":void 0,"../../../Script/Manager/MConfig":void 0,"../../../Script/Manager/MDialog":void 0,"../../../Script/Manager/MEvent":void 0,"../../../Script/Manager/MModel":void 0,"../../../Script/Manager/MToast":void 0,"../../../Script/Temporary":void 0}],DialogSignIn:[function(e,t,i){"use strict";cc._RF.push(t,"781f1ZQOyFJipB36yFn2XG3","DialogSignIn");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../Script/Base/BaseDialog"),n=e("../../../Script/Manager/MAd"),r=e("../../../Script/Manager/MAudio"),l=e("../../../Script/Manager/MConfig"),s=e("../../../Script/Manager/MModel"),c=e("../../../Script/Temporary"),d=e("./prefab/Day"),{ccclass:h,property:g}=cc._decorator;let p=class extends a.default{constructor(){super(...arguments),this.days=null,this.ndBtnRsvReceive=null,this.ndBtnNormalReceive=null,this.ndBtnReceived=null}showDialog(){super.showDialog(),this.model=this.dialogOption.data,this.model.dayInfos().forEach((e,t)=>{this.days.children[t].getComponent(d.default).init(this.model.day,this.model.isSignIned,e)}),this.model.isSignIned?(this.ndBtnRsvReceive.active=!1,this.ndBtnNormalReceive.active=!1,this.ndBtnReceived.active=!0):(this.ndBtnReceived.active=!1,this.model.day<=l.MConfig.Config.FreeSignInCount?(this.ndBtnRsvReceive.active=!1,this.ndBtnNormalReceive.active=!0):(this.ndBtnRsvReceive.active=!0,this.ndBtnNormalReceive.active=!1))}onClickRsvReceive(){r.MAudio.playEffect(r.EAudio.Click),GA.sentLogs([{eventId:"\u7b7e\u5230:\u70b9\u51fb\u9886\u53d6\u6309\u94ae"}]),l.MConfig.Transsion?(c.Temporary.TranssionVideoCallBack=()=>{this.ndBtnRsvReceive.active=!1,this.ndBtnNormalReceive.active=!1,this.ndBtnReceived.active=!0,s.MModel.SignIn.signin()},null===AppProxy||void 0===AppProxy||AppProxy.requestPayment("VideoToPay")):n.MAd.rewardOperation({tag:"SignIn",byVideo:GA.isNextRewardVideo("SignIn"),page:"\u7b7e\u5230\u754c\u9762",result:e=>{e.reward&&(this.ndBtnRsvReceive.active=!1,this.ndBtnNormalReceive.active=!1,this.ndBtnReceived.active=!0,s.MModel.SignIn.signin())}})}onClickNormalReceive(){r.MAudio.playEffect(r.EAudio.Click),GA.sentLogs([{eventId:"\u7b7e\u5230:\u70b9\u51fb\u9886\u53d6\u6309\u94ae"}]),this.ndBtnRsvReceive.active=!1,this.ndBtnNormalReceive.active=!1,this.ndBtnReceived.active=!0,s.MModel.SignIn.signin()}onClickClose(){r.MAudio.playEffect(r.EAudio.Click),this.destroyDialog()}};o([g(cc.Node)],p.prototype,"days",void 0),o([g(cc.Node)],p.prototype,"ndBtnRsvReceive",void 0),o([g(cc.Node)],p.prototype,"ndBtnNormalReceive",void 0),o([g(cc.Node)],p.prototype,"ndBtnReceived",void 0),p=o([h],p),i.default=p,cc._RF.pop()},{"../../../Script/Base/BaseDialog":void 0,"../../../Script/Manager/MAd":void 0,"../../../Script/Manager/MAudio":void 0,"../../../Script/Manager/MConfig":void 0,"../../../Script/Manager/MModel":void 0,"../../../Script/Temporary":void 0,"./prefab/Day":"Day"}],DialogStore:[function(e,t,i){"use strict";cc._RF.push(t,"2e859l6/O5N7YZrjxNKFpcp","DialogStore");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../Script/Base/BaseDialog"),n=e("../../../Script/Enum"),r=e("../../../Script/Manager/MAudio"),l=e("../../../Script/Manager/MBundle"),s=e("../../../Script/Manager/MConfig"),c=e("../../../Script/Manager/MModel"),d=e("./prefab/PurchaseDiamondItem"),h=e("./prefab/StoreGoodsItem"),g="Store/res/prefab/goodsItem",{ccclass:p,property:u}=cc._decorator;let v=class extends a.default{constructor(){super(...arguments),this.toggleContainer=null,this.coinContent=null,this.strengthContent=null,this.gemstoneContent=null,this.keyContent=null,this.diamondContent=null,this.coinInited=!1,this.strengthInited=!1,this.gemstoneInited=!1,this.keyInited=!1}showDialog(){var e,t,i;super.showDialog();let o=null!==(i=null===(t=null===(e=null==this?void 0:this.dialogOption)||void 0===e?void 0:e.data)||void 0===t?void 0:t.toggleIndex)&&void 0!==i?i:0;this.toggleContainer.toggleItems[o].check(),this.onCheckToggle(),this.loadDiamond(0,[...s.MConfig.TablePurchaseDiamond.values()])}onCheckToggle(){if(this.toggleContainer.toggleItems[0].isChecked){if(r.MAudio.playEffect(r.EAudio.Click),!this.coinInited){this.coinInited=!0;let e=[...s.MConfig.TableStoreGoods.values()].filter(e=>e.type==n.EGoods.Coin);this.loadCoin(0,e)}}else if(this.toggleContainer.toggleItems[1].isChecked){if(r.MAudio.playEffect(r.EAudio.Click),!this.strengthInited){this.strengthInited=!0;let e=[...s.MConfig.TableStoreGoods.values()].filter(e=>e.type==n.EGoods.Strength);this.loadStrength(0,e)}}else if(this.toggleContainer.toggleItems[2].isChecked){if(r.MAudio.playEffect(r.EAudio.Click),!this.gemstoneInited){this.gemstoneInited=!0;let e=[...s.MConfig.TableStoreGoods.values()].filter(e=>e.type==n.EGoods.Gemstone);this.loadGemstone(0,e)}}else if(this.toggleContainer.toggleItems[3].isChecked&&(r.MAudio.playEffect(r.EAudio.Click),!this.keyInited)){this.keyInited=!0;let e=[...s.MConfig.TableStoreGoods.values()].filter(e=>e.type==n.EGoods.Key);this.loadKey(0,e)}}loadCoin(e,t){e<t.length&&l.MBundle.load({bundle:l.EBundle.Dialog,path:g,type:cc.Prefab,onComplete:i=>{let o=cc.instantiate(i);o.setParent(this.coinContent),0==e?o.getComponent(h.default).initCoin(t[e],!0):o.getComponent(h.default).initCoin(t[e]),this.loadCoin(++e,t)}})}loadStrength(e,t){e<t.length&&l.MBundle.load({bundle:l.EBundle.Dialog,path:g,type:cc.Prefab,onComplete:i=>{let o=cc.instantiate(i);o.setParent(this.strengthContent),0==e?o.getComponent(h.default).initStrength(t[e],!0):o.getComponent(h.default).initStrength(t[e]),this.loadStrength(++e,t)}})}loadGemstone(e,t){e<t.length&&l.MBundle.load({bundle:l.EBundle.Dialog,path:g,type:cc.Prefab,onComplete:i=>{let o=cc.instantiate(i);o.setParent(this.gemstoneContent),0==e?o.getComponent(h.default).initGemstone(t[e],!0):o.getComponent(h.default).initGemstone(t[e]),this.loadGemstone(++e,t)}})}loadKey(e,t){e<t.length&&l.MBundle.load({bundle:l.EBundle.Dialog,path:g,type:cc.Prefab,onComplete:i=>{let o=cc.instantiate(i);o.setParent(this.keyContent),o.getComponent(h.default).initKey(t[e]),this.loadKey(++e,t)}})}loadDiamond(e,t){e<t.length&&(0==e&&c.MModel.Common.receiveFreeDiamondCount>=s.MConfig.AppProxyConfig.RsvDiamond.DailyFreeDiamondTimes?this.loadDiamond(++e,t):l.MBundle.load({bundle:l.EBundle.Dialog,path:"Store/res/prefab/diamondItem",type:cc.Prefab,onComplete:i=>{let o=cc.instantiate(i);o.setParent(this.diamondContent),o.getComponent(d.default).init(t[e]),this.loadDiamond(++e,t)}}))}onClickClose(){r.MAudio.playEffect(r.EAudio.Click),this.destroyDialog()}};o([u(cc.ToggleContainer)],v.prototype,"toggleContainer",void 0),o([u(cc.Node)],v.prototype,"coinContent",void 0),o([u(cc.Node)],v.prototype,"strengthContent",void 0),o([u(cc.Node)],v.prototype,"gemstoneContent",void 0),o([u(cc.Node)],v.prototype,"keyContent",void 0),o([u(cc.Node)],v.prototype,"diamondContent",void 0),v=o([p],v),i.default=v,cc._RF.pop()},{"../../../Script/Base/BaseDialog":void 0,"../../../Script/Enum":void 0,"../../../Script/Manager/MAudio":void 0,"../../../Script/Manager/MBundle":void 0,"../../../Script/Manager/MConfig":void 0,"../../../Script/Manager/MModel":void 0,"./prefab/PurchaseDiamondItem":"PurchaseDiamondItem","./prefab/StoreGoodsItem":"StoreGoodsItem"}],DialogTask:[function(e,t,i){"use strict";cc._RF.push(t,"e27c7qhP0hD8Iluqa+aowdn","DialogTask");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../Script/Base/BaseDialog"),n=e("../../../Script/Enum"),r=e("../../../Script/Interface/ITask"),l=e("../../../Script/Manager/MAudio"),s=e("../../../Script/Manager/MBundle"),c=e("../../../Script/Manager/MEvent"),d=e("./prefab/TaskItem"),{ccclass:h,property:g}=cc._decorator;let p=class extends a.default{constructor(){super(...arguments),this.dailyTaskContent=null,this.achievementTaskContent=null,this.toggleContainer=null,this.dailyTaskDot=null,this.achieveTaskDot=null,this.dailyTaskInited=!1,this.achievementTaskInited=!1}showDialog(){super.showDialog(),this.task=this.dialogOption.data,this.toggleContainer.toggleItems[0].check(),this.onCheckToggle()}onEnable(){this.dailyTaskInited=!1,this.achievementTaskInited=!1,c.MEvent.on(c.EMsg.TaskChange,()=>{this.updateBtnTaskStatus()},this)}start(){super.start(),this.updateBtnTaskStatus()}updateBtnTaskStatus(){this.task.tasks.find(e=>e.tag==r.ETaskTag.Daily&&e.receiveStatus==n.EReceiveStatus.UnReceive)?this.dailyTaskDot.active=!0:this.dailyTaskDot.active=!1,this.task.tasks.find(e=>e.tag==r.ETaskTag.Achievement&&e.receiveStatus==n.EReceiveStatus.UnReceive)?this.achieveTaskDot.active=!0:this.achieveTaskDot.active=!1}onCheckToggle(){let e=[];this.toggleContainer.toggleItems[0].isChecked?(l.MAudio.playEffect(l.EAudio.Click),this.dailyTaskInited||(this.dailyTaskInited=!0,e=this.task.getTasks(r.ETaskTag.Daily),this.loadDailyTask(0,e))):this.toggleContainer.toggleItems[1].isChecked&&(l.MAudio.playEffect(l.EAudio.Click),this.achievementTaskInited||(this.achievementTaskInited=!0,e=this.task.getTasks(r.ETaskTag.Achievement),this.loadAchievementTask(0,e)))}loadDailyTask(e,t){e<t.length&&s.MBundle.load({bundle:s.EBundle.Dialog,path:"Task/res/prefab/taskItem",type:cc.Prefab,onComplete:i=>{let o=cc.instantiate(i);o.setParent(this.dailyTaskContent),o.getComponent(d.default).init(t[e]),this.loadDailyTask(++e,t)}})}loadAchievementTask(e,t){e<t.length&&s.MBundle.load({bundle:s.EBundle.Dialog,path:"Task/res/prefab/taskItem",type:cc.Prefab,onComplete:i=>{let o=cc.instantiate(i);o.setParent(this.achievementTaskContent),o.getComponent(d.default).init(t[e]),e++,this.loadAchievementTask(e,t)}})}onClickClose(){l.MAudio.playEffect(l.EAudio.Click),this.destroyDialog()}onDisable(){c.MEvent.targetOff(this)}};o([g(cc.Node)],p.prototype,"dailyTaskContent",void 0),o([g(cc.Node)],p.prototype,"achievementTaskContent",void 0),o([g(cc.ToggleContainer)],p.prototype,"toggleContainer",void 0),o([g(cc.Node)],p.prototype,"dailyTaskDot",void 0),o([g(cc.Node)],p.prototype,"achieveTaskDot",void 0),p=o([h],p),i.default=p,cc._RF.pop()},{"../../../Script/Base/BaseDialog":void 0,"../../../Script/Enum":void 0,"../../../Script/Interface/ITask":void 0,"../../../Script/Manager/MAudio":void 0,"../../../Script/Manager/MBundle":void 0,"../../../Script/Manager/MEvent":void 0,"./prefab/TaskItem":"TaskItem"}],DialogTimeLimit:[function(e,t,i){"use strict";cc._RF.push(t,"e1852M3expMMZyTmE0Dxq+W","DialogTimeLimit");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../Script/Base/BaseDialog"),n=e("../../../Script/Manager/MAudio"),r=e("../../../Script/Manager/MBundle"),l=e("../../../Script/Manager/MConfig"),s=e("../../../Script/Manager/MEvent"),c=e("../../../Script/Manager/MIP"),d=e("../../../Script/Manager/MModel"),h=e("./prefab/TimeLimitItem"),{ccclass:g,property:p}=cc._decorator;let u=class extends a.default{constructor(){super(...arguments),this.titleCn=null,this.titleTc=null,this.titleEn=null,this.titlePt=null,this.titleVi=null,this.titleId=null,this.rewardContent=null,this.price=null,this.more=null,this.countdown=null}showDialog(){super.showDialog(),"cn"==l.MConfig.Language?(this.titleCn.active=!0,this.titleTc.active=!1,this.titleEn.active=!1,this.titlePt.active=!1,this.titleVi.active=!1,this.titleId.active=!1):"tc"==l.MConfig.Language?(this.titleCn.active=!1,this.titleTc.active=!0,this.titleEn.active=!1,this.titlePt.active=!1,this.titleVi.active=!1,this.titleId.active=!1):"pt"==l.MConfig.Language?(this.titleCn.active=!1,this.titleTc.active=!1,this.titleEn.active=!1,this.titlePt.active=!0,this.titleVi.active=!1,this.titleId.active=!1):"vi"==l.MConfig.Language?(this.titleCn.active=!1,this.titleTc.active=!1,this.titleEn.active=!1,this.titlePt.active=!1,this.titleVi.active=!0,this.titleId.active=!1):"id"==l.MConfig.Language?(this.titleCn.active=!1,this.titleTc.active=!1,this.titleEn.active=!1,this.titlePt.active=!1,this.titleVi.active=!1,this.titleId.active=!0):(this.titleCn.active=!1,this.titleTc.active=!1,this.titleEn.active=!0,this.titlePt.active=!1,this.titleVi.active=!1,this.titleId.active=!1);let e=[];for(const t in l.MConfig.AppProxyConfig.NewTimeLimit)"coin"!=t&&"gemstone"!=t&&"strength"!=t&&"diamond"!=t&&"mushroom"!=t&&"key"!=t||e.push({k:t,v:l.MConfig.AppProxyConfig.NewTimeLimit[t]});this.price.string=l.MConfig.PurchaseGoods.newtimelimit.price,this.more.string=`${100*l.MConfig.AppProxyConfig.NewTimeLimit.more}%`,this.loadItem(0,e)}onEnable(){s.MEvent.on(s.EMsg.GetTimeLimitReward,()=>{this.destroyDialog()},this)}update(){let e=(new Date).getTime(),t=Math.ceil(172800-(e-d.MModel.Gift.timeLimitStartTime)/1e3%172800);this.countdown.string=Utils.getTimeHMS(t)}loadItem(e,t){e<t.length&&r.MBundle.load({bundle:r.EBundle.Dialog,path:"TimeLimit/res/prefab/timeLimitItem",type:cc.Prefab,onComplete:i=>{let o=cc.instantiate(i);o.setParent(this.rewardContent),o.getComponent(h.default).init(t[e]),this.loadItem(++e,t)}})}onClickClose(){n.MAudio.playEffect(n.EAudio.Click),this.destroyDialog()}onClickBuy(){n.MAudio.playEffect(n.EAudio.Click),l.MConfig.Hago?c.MIP.createTransaction({gameItemId:l.MConfig.PurchaseGoods.newtimelimit.gameItemId,callback:e=>{window.hg.requestPayment({item_id:l.MConfig.PurchaseGoods.newtimelimit.price_amount_micros,transaction_id:e.orderId,subject:l.MConfig.PurchaseGoods.newtimelimit.name,success:()=>{console.log("requestPaymentSuccess:",GA.Info.openId),c.MIP.getRewardByGameItemId(e.gameItemId),c.MIP.getPayResult({amount:5,receive:!1})},fail:e=>{console.log("res:",e),console.log(e.errMsg,e.errCode)}})}}):null===AppProxy||void 0===AppProxy||AppProxy.requestPayment(l.MConfig.PurchaseGoods.newtimelimit.productId)}onDisable(){s.MEvent.targetOff(this)}};o([p(cc.Node)],u.prototype,"titleCn",void 0),o([p(cc.Node)],u.prototype,"titleTc",void 0),o([p(cc.Node)],u.prototype,"titleEn",void 0),o([p(cc.Node)],u.prototype,"titlePt",void 0),o([p(cc.Node)],u.prototype,"titleVi",void 0),o([p(cc.Node)],u.prototype,"titleId",void 0),o([p(cc.Node)],u.prototype,"rewardContent",void 0),o([p(cc.Label)],u.prototype,"price",void 0),o([p(cc.Label)],u.prototype,"more",void 0),o([p(cc.Label)],u.prototype,"countdown",void 0),u=o([g],u),i.default=u,cc._RF.pop()},{"../../../Script/Base/BaseDialog":void 0,"../../../Script/Manager/MAudio":void 0,"../../../Script/Manager/MBundle":void 0,"../../../Script/Manager/MConfig":void 0,"../../../Script/Manager/MEvent":void 0,"../../../Script/Manager/MIP":void 0,"../../../Script/Manager/MModel":void 0,"./prefab/TimeLimitItem":"TimeLimitItem"}],DialogTrialSkill:[function(e,t,i){"use strict";cc._RF.push(t,"ab5e3KLYlVDcJWRHV5zfPIc","DialogTrialSkill");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../Script/Base/BaseDialog"),n=e("../../../Script/Manager/MAd"),r=e("../../../Script/Manager/MAudio"),l=e("../../../Script/Manager/MBundle"),s=e("../../../Script/Manager/MConfig"),c=e("../../../Script/Manager/MPool"),d=e("../../../Script/Manager/MSkill"),h=e("../../../Script/Temporary"),g=e("./prefab/TrialSkillItem"),{ccclass:p,property:u}=cc._decorator;let v=class extends a.default{constructor(){super(...arguments),this.content=null,this.tip=null,this.skills=[]}showDialog(){super.showDialog(),this.callback=this.dialogOption.data;let e=[...s.MConfig.TableSkill.values()],t=[];t.push(this.getSkill(e)),t.push(this.getSkill(e)),t.push(this.getSkill(e)),this.skills=t,this.loadSkill(0,t),"cn"==s.MConfig.Language?this.tip.string=`\u5c0f\u63d0\u793a\uff1a${h.Temporary.cnTips[Math.floor(Math.random()*h.Temporary.cnTips.length)]}`:"tc"==s.MConfig.Language?this.tip.string=`\u5c0f\u63d0\u793a\uff1a${h.Temporary.tcTips[Math.floor(Math.random()*h.Temporary.cnTips.length)]}`:"en"!=s.MConfig.Language&&"pt"!=s.MConfig.Language&&"vi"!=s.MConfig.Language&&"id"!=s.MConfig.Language||(this.tip.string=`Tip:${h.Temporary.enTips[Math.floor(Math.random()*h.Temporary.cnTips.length)]}`)}loadSkill(e,t){e<t.length&&c.MPool.load({bundle:l.EBundle.Dialog,path:"TrialSkill/res/prefab/trialSkillItem",type:cc.Prefab,onComplete:i=>{i.setParent(this.content),i.getComponent(g.default).init(t[e],this.callback),this.scheduleOnce(()=>{this.loadSkill(++e,t)},.1)}})}getSkill(e){let t,i=0;for(let n=0;n<e.length;n++)e[n].id>=6001&&e[n].id<=6099&&(i+=e[n].weight);let o=Math.floor(Math.random()*i),a=0;for(let n=0;n<e.length;n++)if(e[n].id>=6001&&e[n].id<=6099&&o<=(a+=e[n].weight)){t=e[n],e.splice(n,1);break}return t}onClickGainAllSkill(){r.MAudio.playEffect(r.EAudio.Click),GA.sentLogs([{eventId:"\u6280\u80fd\u9009\u62e9:\u70b9\u51fb\u5168\u90e8\u6280\u80fd"}]),n.MAd.rewardOperation({tag:"GainAllSkill",byVideo:GA.isNextRewardVideo("GainAllSkill"),page:"\u6280\u80fd\u8bd5\u7528\u754c\u9762",result:e=>{e.reward&&(d.MSkill.addSkill(this.skills),this.callback())}})}onClickChangeBatchSkill(){r.MAudio.playEffect(r.EAudio.Click),s.MConfig.Transsion?(h.Temporary.TranssionVideoCallBack=()=>{for(;this.content.childrenCount>0;)c.MPool.recovery(this.content.children[0]);let e=[...s.MConfig.TableSkill.values()],t=[];t.push(this.getSkill(e)),t.push(this.getSkill(e)),t.push(this.getSkill(e)),this.checkContainSeniorSkill(t),this.skills=t,this.loadSkill(0,t)},null===AppProxy||void 0===AppProxy||AppProxy.requestPayment("VideoToPay")):n.MAd.rewardOperation({tag:"ChangeBatchSkill",byVideo:GA.isNextRewardVideo("ChangeBatchSkill"),page:"\u6280\u80fd\u8bd5\u7528\u754c\u9762",result:e=>{if(e.reward){for(;this.content.childrenCount>0;)c.MPool.recovery(this.content.children[0]);let e=[...s.MConfig.TableSkill.values()],t=[];t.push(this.getSkill(e)),t.push(this.getSkill(e)),t.push(this.getSkill(e)),this.checkContainSeniorSkill(t),this.skills=t,this.loadSkill(0,t)}}})}checkContainSeniorSkill(e){if(!e.find(e=>5==e.grade)){let t=[...s.MConfig.TableSkill.values()].filter(e=>5==e.grade);e[Math.floor(Math.random()*e.length)]=t[Math.floor(Math.random()*t.length)]}}onDisable(){this.unscheduleAllCallbacks(),GA.isPlatform(GA.Platform.Android)&&GA.Info.distributionChannel==GA.DistributionChannel.XiaoMi&&GA.hideNativeAd()}};o([u(cc.Node)],v.prototype,"content",void 0),o([u(cc.Label)],v.prototype,"tip",void 0),v=o([p],v),i.default=v,cc._RF.pop()},{"../../../Script/Base/BaseDialog":void 0,"../../../Script/Manager/MAd":void 0,"../../../Script/Manager/MAudio":void 0,"../../../Script/Manager/MBundle":void 0,"../../../Script/Manager/MConfig":void 0,"../../../Script/Manager/MPool":void 0,"../../../Script/Manager/MSkill":void 0,"../../../Script/Temporary":void 0,"./prefab/TrialSkillItem":"TrialSkillItem"}],DialogYinsizhengce:[function(e,t,i){"use strict";cc._RF.push(t,"7be5a0LrlBJkrzC3j7tj24d","DialogYinsizhengce");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../Script/Base/BaseDialog"),n=e("../../../Script/Manager/MAudio"),{ccclass:r,property:l}=cc._decorator;let s=class extends a.default{onClickClose(){n.MAudio.playEffect(n.EAudio.Click),this.destroyDialog()}};s=o([r],s),i.default=s,cc._RF.pop()},{"../../../Script/Base/BaseDialog":void 0,"../../../Script/Manager/MAudio":void 0}],DialogYonghuxieyi:[function(e,t,i){"use strict";cc._RF.push(t,"31821TPt9NIrqH1iGMlld/C","DialogYonghuxieyi");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../Script/Base/BaseDialog"),n=e("../../../Script/Manager/MAudio"),{ccclass:r,property:l}=cc._decorator;let s=class extends a.default{onClickClose(){n.MAudio.playEffect(n.EAudio.Click),this.destroyDialog()}};s=o([r],s),i.default=s,cc._RF.pop()},{"../../../Script/Base/BaseDialog":void 0,"../../../Script/Manager/MAudio":void 0}],FirstImpulseItem:[function(e,t,i){"use strict";cc._RF.push(t,"54687T6K85F2px56vgj/Mzm","FirstImpulseItem");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../../Script/Manager/MBundle"),{ccclass:n,property:r}=cc._decorator;var l;(function(e){e.coin="FirstImpulse/res/texture/item/coin",e.diamond="FirstImpulse/res/texture/item/diamond",e.gemstone="FirstImpulse/res/texture/item/gemstone",e.key="FirstImpulse/res/texture/item/key",e.strength="FirstImpulse/res/texture/item/strength",e.mushroom="FirstImpulse/res/texture/item/mushroom"})(l||(l={}));let s=class extends cc.Component{constructor(){super(...arguments),this.icon=null,this.reward=null}init(e){a.MBundle.load({bundle:a.EBundle.Dialog,path:l[e.k],type:cc.SpriteFrame,onComplete:e=>{(null==this?void 0:this.icon)&&(this.icon.spriteFrame=e)}}),this.reward.string=`*${GA.formatNumber(e.v)}`}};o([r(cc.Sprite)],s.prototype,"icon",void 0),o([r(cc.Label)],s.prototype,"reward",void 0),s=o([n],s),i.default=s,cc._RF.pop()},{"../../../../Script/Manager/MBundle":void 0}],GetBlindBoxRewardTip:[function(e,t,i){"use strict";cc._RF.push(t,"371f9cWMUxExZSf9MaGMA3K","GetBlindBoxRewardTip");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../../Script/Manager/MConfig"),n=e("../../../../Script/Manager/MModel"),r=e("../../../../Script/Manager/MPool"),{ccclass:l,property:s}=cc._decorator;let c=class extends cc.Component{constructor(){super(...arguments),this.tip=null,this.head=null}init(e,t){let i=a.MConfig.TableItem.get(e.item.id);n.MModel.Hero.checkIsHero(e.item.id)?this.tip.string=`\u606d\u559c <color=#0fffff>${e.robot.nickname}</color> \u83b7\u5f97 <color=#FAF050>${i.name}</color>`:this.tip.string=`\u606d\u559c <color=#0fffff>${e.robot.nickname}</color> \u83b7\u5f97 <color=#FAF050>${i.name} x${e.item.amount}</color>`,cc.assetManager.loadRemote(e.robot.icon,{ext:".png",cacheEnabled:!1},(e,t)=>{e||(null==this?void 0:this.head)&&(this.head.spriteFrame=new cc.SpriteFrame(t))}),this.node.setPosition(cc.v2(cc.winSize.width/2+this.node.width/2,t)),cc.tween(this.node).to(10,{position:cc.v3(-cc.winSize.width/2-this.node.width/2,t)}).call(()=>{r.MPool.recovery(this.node)}).start()}};o([s(cc.RichText)],c.prototype,"tip",void 0),o([s(cc.Sprite)],c.prototype,"head",void 0),c=o([l],c),i.default=c,cc._RF.pop()},{"../../../../Script/Manager/MConfig":void 0,"../../../../Script/Manager/MModel":void 0,"../../../../Script/Manager/MPool":void 0}],GiftItem:[function(e,t,i){"use strict";cc._RF.push(t,"f6bdaBmPtpOXJnlwCCdGzR8","GiftItem");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../../Script/Manager/MBundle"),n=e("../../../../Script/Manager/MConfig"),r=e("../../../../Script/Manager/MIP"),l=e("./PermanentItem"),{ccclass:s,property:c}=cc._decorator;let d=class extends cc.Component{constructor(){super(...arguments),this.content=null,this.hot=null,this.originalPrice=null,this.currentPrice=null,this.discount=null}init(e,t,i){this.gift=e,this.purchaseGoods=t,this.currentPrice.string=t.price;let o="";if(-1!=t.price.indexOf("$")?o="$":-1!=t.price.indexOf("\xa5")?o="\xa5":-1!=t.price.indexOf("SAR")?o="SAR":-1!=t.price.indexOf("IQD")?o="IQD":-1!=t.price.indexOf("TND")?o="TND":-1!=t.price.indexOf("XOF")?o="XOF":-1!=t.price.indexOf("MAD")?o="MAD":-1!=t.price.indexOf("KES")?o="KES":-1!=t.price.indexOf("ZAR")?o="ZAR":-1!=t.price.indexOf("VND")?o="VND":-1!=t.price.indexOf("PKR")?o="PKR":-1!=t.price.indexOf("NGN")?o="NGN":-1!=t.price.indexOf("IDR")?o="IDR":-1!=t.price.indexOf("BDT")?o="BDT":this.originalPrice.string=t.price,o)if("\xa5"==o||"$"==o){let i=parseFloat(t.price.split(o)[1]);this.originalPrice.string=`${t.price.split(o)[0]}${o}${(i/(1-e.discount)).toFixed(2)}`}else{let i=parseFloat(t.price.split(o)[0]);this.originalPrice.string=`${t.price.split(o)[1]}${(i/(1-e.discount)).toFixed(2)}${o}`}else this.originalPrice.string=t.price;this.discount.string=`${100*e.discount}%OFF`,this.hot.active=i;let a=[];for(const n in e)"coin"!=n&&"gemstone"!=n&&"strength"!=n&&"diamond"!=n&&"mushroom"!=n&&"key"!=n||a.push({k:n,v:e[n]});this.loadPermanent(0,a)}loadPermanent(e,t){e<t.length&&a.MBundle.load({bundle:a.EBundle.Dialog,path:"Permanent/res/preafab/permanentItem",type:cc.Prefab,onComplete:i=>{let o=cc.instantiate(i);o.setParent(this.content),o.getComponent(l.default).init({icon:this.getIcon(t[e].k),v:t[e].v}),this.loadPermanent(++e,t)}})}getIcon(e){switch(e){case"coin":return this.gift.coinIcon;case"gemstone":return this.gift.gemstoneIcon;case"strength":return this.gift.strengthIcon;case"diamond":return this.gift.diamondIcon;case"mushroom":return this.gift.mushroomIcon;case"key":return this.gift.keyIcon}}onClickBuy(){n.MConfig.Hago?r.MIP.createTransaction({gameItemId:this.purchaseGoods.gameItemId,callback:e=>{window.hg.requestPayment({item_id:this.purchaseGoods.price_amount_micros,transaction_id:e.orderId,subject:this.purchaseGoods.name,success:()=>{console.log("requestPaymentSuccess:",GA.Info.openId),r.MIP.getRewardByGameItemId(e.gameItemId),r.MIP.getPayResult({amount:5,receive:!1})},fail:e=>{console.log(e.errMsg,e.errCode)}})}}):null===AppProxy||void 0===AppProxy||AppProxy.requestPayment(this.purchaseGoods.productId)}};o([c(cc.Node)],d.prototype,"content",void 0),o([c(cc.Node)],d.prototype,"hot",void 0),o([c(cc.Label)],d.prototype,"originalPrice",void 0),o([c(cc.Label)],d.prototype,"currentPrice",void 0),o([c(cc.Label)],d.prototype,"discount",void 0),d=o([s],d),i.default=d,cc._RF.pop()},{"../../../../Script/Manager/MBundle":void 0,"../../../../Script/Manager/MConfig":void 0,"../../../../Script/Manager/MIP":void 0,"./PermanentItem":"PermanentItem"}],HeroCard:[function(e,t,i){"use strict";cc._RF.push(t,"9087eHTfh9Kdb+TIQynOxyt","HeroCard");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../../Script/Enum"),n=e("../../../../Script/Manager/MAudio"),r=e("../../../../Script/Manager/MBundle"),l=e("../../../../Script/Manager/MConfig"),s=e("../../../../Script/Manager/MDialog"),c=e("../../../../Script/Manager/MEvent"),d=e("../../../../Script/Manager/MI18n"),h=e("../../../../Script/Manager/MModel");var g,p,u;(function(e){e.White="Hero/res/texture/autoatlas/grade/d",e.Green="Hero/res/texture/autoatlas/grade/c",e.Blue="Hero/res/texture/autoatlas/grade/b",e.Purple="Hero/res/texture/autoatlas/grade/a",e.Orange="Hero/res/texture/autoatlas/grade/s"})(g||(g={})),function(e){e.White="Hero/res/texture/autoatlas/cnGrade/d2",e.Green="Hero/res/texture/autoatlas/cnGrade/c2",e.Blue="Hero/res/texture/autoatlas/cnGrade/b2",e.Purple="Hero/res/texture/autoatlas/cnGrade/a2",e.Orange="Hero/res/texture/autoatlas/cnGrade/s2"}(p||(p={})),function(e){e.Hero7001="Hero/res/texture/autoatlas/hero/7001",e.Hero7002="Hero/res/texture/autoatlas/hero/7002",e.Hero7003="Hero/res/texture/autoatlas/hero/7003",e.Hero7004="Hero/res/texture/autoatlas/hero/7004",e.Hero7005="Hero/res/texture/autoatlas/hero/7005",e.Hero7006="Hero/res/texture/autoatlas/hero/7006",e.Hero7007="Hero/res/texture/autoatlas/hero/7007",e.Hero7008="Hero/res/texture/autoatlas/hero/7008",e.Hero7009="Hero/res/texture/autoatlas/hero/7009",e.Hero7010="Hero/res/texture/autoatlas/hero/7010",e.Hero7011="Hero/res/texture/autoatlas/hero/7011",e.Hero7012="Hero/res/texture/autoatlas/hero/7012",e.Hero7013="Hero/res/texture/autoatlas/hero/7013",e.Hero7014="Hero/res/texture/autoatlas/hero/7014",e.Hero7015="Hero/res/texture/autoatlas/hero/7015",e.Hero7016="Hero/res/texture/autoatlas/hero/7016",e.Hero7017="Hero/res/texture/autoatlas/hero/7017"}(u||(u={}));const{ccclass:v,property:m}=cc._decorator;let M=class extends cc.Component{constructor(){super(...arguments),this.spGrade=null,this.bg=null,this.card=null,this.spHero=null,this.ndBtnReplace=null,this.ndBtnInUse=null,this.ndBtnUnlock=null,this.ndBtnMaterialLack=null,this.languageLbs=[],this.status=""}onEnable(){c.MEvent.on(c.EMsg.HeroCardReset,e=>{var t;(null===(t=this.hero)||void 0===t?void 0:t.id)!=e&&"select"==this.status&&this.onResetCard()},this),c.MEvent.on(c.EMsg.UnlockHero,e=>{var t;(null===(t=this.hero)||void 0===t?void 0:t.id)==e&&this.onUnlockHero(e)},this),c.MEvent.on(c.EMsg.ClickHero,e=>{var t;(null===(t=this.hero)||void 0===t?void 0:t.id)==e&&this.onClickCard()},this),c.MEvent.on(c.EMsg.ReplaceHero,e=>{var t;(null===(t=this.hero)||void 0===t?void 0:t.id)==e.id&&(this.onReplaceHero(),this.updateInfo())},this),c.MEvent.on(c.EMsg.UplevelHero,e=>{var t;(null===(t=this.hero)||void 0===t?void 0:t.id)==e&&(this.hero.level=h.MModel.Hero.unlockHeros.find(t=>t.id==e).level)},this),c.MEvent.on(c.EMsg.UseHeroSkin,()=>{var e;(null===(e=this.hero)||void 0===e?void 0:e.id)==h.MModel.Hero.currentHero.id&&this.updateInfo()},this),this.node.on(cc.Node.EventType.TOUCH_END,()=>{var e,t;"select"!=this.status&&(c.MEvent.emit(c.EMsg.HeroCardReset,null===(e=this.hero)||void 0===e?void 0:e.id),c.MEvent.emit(c.EMsg.ClickHero,null===(t=this.hero)||void 0===t?void 0:t.id))},this),this.languageLbs.forEach(e=>{let t=parseInt(e.node.name);d.MI18n.showInfo(e,t)})}init(e){this.hero=e;let t=[...l.MConfig.TableHeroGrow.values()].find(t=>t.heroId==e.id&&1==t.heroLevel);this.heroGrowInfo=t;let i=Utils.enumValue(g,a.EGrade[t.heroGrade]);GA.isPlatform(GA.Platform.Kwaigame)&&(i=Utils.enumValue(p,a.EGrade[t.heroGrade])),r.MBundle.load({bundle:r.EBundle.Dialog,path:i,type:cc.SpriteFrame,onComplete:e=>{(null==this?void 0:this.spGrade)&&(this.spGrade.spriteFrame=e)}}),this.updateInfo()}updateInfo(){var e,t;h.MModel.Hero.unlockHeros.find(e=>e.id==this.hero.id)?this.spHero.node.color=cc.Color.WHITE:this.spHero.node.color=cc.Color.BLACK,(null===(e=this.hero)||void 0===e?void 0:e.id)==(null===(t=h.MModel.Hero.currentHero)||void 0===t?void 0:t.id)?this.onClickCard():this.onResetCard();let i="",o=h.MModel.Hero.unlockHeros.find(e=>e.id==this.hero.id);(null==o?void 0:o.skinId)>1&&(i=Utils.prefixZero(o.skinId%this.hero.id,2).toString()),r.MBundle.load({bundle:r.EBundle.Dialog,path:u["Hero"+this.heroGrowInfo.heroId]+i,type:cc.SpriteFrame,onComplete:e=>{(null==this?void 0:this.spHero)&&(this.spHero.spriteFrame=e)}})}onUnlockHero(e){var t;h.MModel.Hero.unlockHeros.find(e=>e.id==this.hero.id)?this.spHero.node.color=cc.Color.WHITE:this.spHero.node.color=cc.Color.BLACK,(null===(t=this.hero)||void 0===t?void 0:t.id)==e?this.onClickCard():this.onResetCard()}onClickCard(){var e,t;this.status="select",this.bg.active=!0,this.card.y=33,h.MModel.Hero.unlockHeros.find(e=>{var t;return e.id==(null===(t=this.hero)||void 0===t?void 0:t.id)})?(this.ndBtnMaterialLack.active=!1,this.ndBtnUnlock.active=!1,(null===(e=h.MModel.Hero.currentHero)||void 0===e?void 0:e.id)==(null===(t=this.hero)||void 0===t?void 0:t.id)?(this.ndBtnInUse.active=!0,this.ndBtnReplace.active=!1):(this.ndBtnInUse.active=!1,this.ndBtnReplace.active=!0)):(this.ndBtnInUse.active=!1,this.ndBtnReplace.active=!1,h.MModel.Hero.checkIsFragmentUnlock(this.heroGrowInfo.heroId)&&h.MModel.Hero.checkPayMushroom(this.heroGrowInfo.unlockPay)?(this.ndBtnMaterialLack.active=!1,this.ndBtnUnlock.active=!0):(this.ndBtnMaterialLack.active=!0,this.ndBtnUnlock.active=!1))}onResetCard(){this.status="",this.bg.active=!1,this.card.y=0,this.ndBtnInUse.active=!1,this.ndBtnReplace.active=!1,this.ndBtnUnlock.active=!1,this.ndBtnMaterialLack.active=!1}onReplaceHero(){this.ndBtnInUse.active=!0,this.ndBtnReplace.active=!1,this.ndBtnMaterialLack.active=!1,this.ndBtnUnlock.active=!1}onClickReplace(){n.MAudio.playEffect(n.EAudio.Click),h.MModel.Hero.replaceHero(this.hero)}onClickUnlock(){n.MAudio.playEffect(n.EAudio.Click),h.MModel.Hero.payMushroom(this.heroGrowInfo.unlockPay),h.MModel.Hero.unlockHero(this.heroGrowInfo.heroId)}onClickMaterialLack(){n.MAudio.playEffect(n.EAudio.Click),s.MDialog.showDialog(r.EDialog.BlindBox,{data:h.MModel.BlindBox})}onDisable(){c.MEvent.targetOff(this),this.node.targetOff(this)}};o([m(cc.Sprite)],M.prototype,"spGrade",void 0),o([m(cc.Node)],M.prototype,"bg",void 0),o([m(cc.Node)],M.prototype,"card",void 0),o([m(cc.Sprite)],M.prototype,"spHero",void 0),o([m(cc.Node)],M.prototype,"ndBtnReplace",void 0),o([m(cc.Node)],M.prototype,"ndBtnInUse",void 0),o([m(cc.Node)],M.prototype,"ndBtnUnlock",void 0),o([m(cc.Node)],M.prototype,"ndBtnMaterialLack",void 0),o([m([cc.Label])],M.prototype,"languageLbs",void 0),M=o([v],M),i.default=M,cc._RF.pop()},{"../../../../Script/Enum":void 0,"../../../../Script/Manager/MAudio":void 0,"../../../../Script/Manager/MBundle":void 0,"../../../../Script/Manager/MConfig":void 0,"../../../../Script/Manager/MDialog":void 0,"../../../../Script/Manager/MEvent":void 0,"../../../../Script/Manager/MI18n":void 0,"../../../../Script/Manager/MModel":void 0}],LevelSelectItem:[function(e,t,i){"use strict";cc._RF.push(t,"95e3eDN2Z1P4oDrWyNc1Lxn","LevelSelectItem");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../../Script/Enum"),n=e("../../../../Script/Manager/MAd"),r=e("../../../../Script/Manager/MAudio"),l=e("../../../../Script/Manager/MConfig"),s=e("../../../../Script/Manager/MEvent"),c=e("../../../../Script/Manager/MI18n"),d=e("../../../../Script/Manager/MModel"),h=e("../../../../Script/Temporary"),{ccclass:g,property:p}=cc._decorator;let u=class extends cc.Component{constructor(){super(...arguments),this.level=null,this.star=null,this.desc=null,this.languageLbs=[],this.ndRsv=null,this.nd107002=null}onEnable(){GA.Info.withoutRewardVideoAd&&(this.ndRsv.active=!1,this.nd107002.x=0)}init(e){var t,i,o,a,n,r,s,h,g,p,u,v;this.level.string=GA.formatNumber(e);let m=d.MModel.Battle.ifLevelTasks.find(t=>t.level==e);this.levelTask=m,(null==m?void 0:m.complete)?this.star.children[0].active=!0:this.star.children[0].active=!1;let M=d.MModel.Battle.getActualLevel(e),f=[...l.MConfig.TableLevelTask.values()].find(e=>e.level==M),C=null==f?void 0:f.describe;"cn"==l.MConfig.Language||"tc"==l.MConfig.Language?C=(C=(C=C.replace("A",null===(i=null===(t=null==f?void 0:f.param)||void 0===t?void 0:t.A)||void 0===i?void 0:i.toString())).replace("B",null===(a=null===(o=null==f?void 0:f.param)||void 0===o?void 0:o.B)||void 0===a?void 0:a.toString())).replace("C",null===(r=null===(n=null==f?void 0:f.param)||void 0===n?void 0:n.C)||void 0===r?void 0:r.toString()):"en"!=l.MConfig.Language&&"pt"!=l.MConfig.Language&&"vi"!=l.MConfig.Language&&"id"!=l.MConfig.Language||(C=(C=(C=C.replace("ref1",null===(h=null===(s=null==f?void 0:f.param)||void 0===s?void 0:s.A)||void 0===h?void 0:h.toString())).replace("ref2",null===(p=null===(g=null==f?void 0:f.param)||void 0===g?void 0:g.B)||void 0===p?void 0:p.toString())).replace("ref3",null===(v=null===(u=null==f?void 0:f.param)||void 0===u?void 0:u.C)||void 0===v?void 0:v.toString())),this.desc.string=C,this.languageLbs.forEach(e=>{let t=parseInt(e.node.name);c.MI18n.showInfo(e,t)})}onClickStart(){r.MAudio.playEffect(r.EAudio.Click),l.MConfig.Transsion?(h.Temporary.TranssionVideoCallBack=()=>{let e=new cc.Node;e.setParent(this.node),e.setPosition(cc.v2()),e.setContentSize(cc.winSize),e.addComponent(cc.BlockInputEvents),d.MModel.Battle.setIfUseLevel(this.levelTask.level),d.MModel.Battle.gameEvent=a.EGameEvent.None,s.MEvent.emit(s.EMsg.TryPlayGame)},null===AppProxy||void 0===AppProxy||AppProxy.requestPayment("VideoToPay")):n.MAd.rewardOperation({tag:"LevelSelect",byVideo:GA.isNextRewardVideo("LevelSelect"),page:"\u5173\u5361\u9009\u62e9\u754c\u9762",result:e=>{if(e.reward){let e=new cc.Node;e.setParent(this.node),e.setPosition(cc.v2()),e.setContentSize(cc.winSize),e.addComponent(cc.BlockInputEvents),d.MModel.Battle.setIfUseLevel(this.levelTask.level),d.MModel.Battle.gameEvent=a.EGameEvent.None,s.MEvent.emit(s.EMsg.TryPlayGame)}}})}};o([p(cc.Label)],u.prototype,"level",void 0),o([p(cc.Node)],u.prototype,"star",void 0),o([p(cc.Label)],u.prototype,"desc",void 0),o([p([cc.Label])],u.prototype,"languageLbs",void 0),o([p(cc.Node)],u.prototype,"ndRsv",void 0),o([p(cc.Node)],u.prototype,"nd107002",void 0),u=o([g],u),i.default=u,cc._RF.pop()},{"../../../../Script/Enum":void 0,"../../../../Script/Manager/MAd":void 0,"../../../../Script/Manager/MAudio":void 0,"../../../../Script/Manager/MConfig":void 0,"../../../../Script/Manager/MEvent":void 0,"../../../../Script/Manager/MI18n":void 0,"../../../../Script/Manager/MModel":void 0,"../../../../Script/Temporary":void 0}],NewbieTaskBoxItem:[function(e,t,i){"use strict";cc._RF.push(t,"c1736jadaZHt6KJViTPXhb/","NewbieTaskBoxItem");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../../Script/Enum"),n=e("../../../../Script/Manager/MBundle"),r=e("../../../../Script/Manager/MConfig"),l=e("../../../../Script/Manager/MDialog"),s=e("../../../../Script/Manager/MEvent"),c=e("../../../../Script/Manager/MItem"),d=e("../../../../Script/Manager/MModel"),h=e("../../../../Script/Manager/MTween");var g,p;(function(e){e.UnReach="NewbieTask/res/texture/BoxUnReach",e.UnReceive="NewbieTask/res/texture/BoxUnReceive",e.Received="NewbieTask/res/texture/BoxReceived"})(g||(g={})),function(e){e.UnReach="NewbieTask/res/texture/HeroUnReach",e.UnReceive="NewbieTask/res/texture/HeroUnReceive",e.Received="NewbieTask/res/texture/HeroReceived"}(p||(p={}));const{ccclass:u,property:v}=cc._decorator;let m=class extends cc.Component{constructor(){super(...arguments),this.task=null,this.taskInfo=null,this.box=null,this.target=null}onEnable(){s.MEvent.on(s.EMsg.UpdateNewbieTaskBox,e=>{var t;(null===(t=this.task)||void 0===t?void 0:t.id)==(null==e?void 0:e.id)&&this.updateInfo(e)},this)}init(e){let t=r.MConfig.TableNewbieTask.get(e.id);this.taskInfo=t,this.target.string=`${t.param.ref1}`,this.updateInfo(e)}updateInfo(e){if(!e)return;this.box.targetOff(this),this.task=e;let t="",i=r.MConfig.TableNewbieTask.get(e.id),o=r.MConfig.TableItem.get(i.reward[0].id);e.receiveStatus==a.EReceiveStatus.UnReach?t=d.MModel.Hero.checkIsHero(o.id)?p.UnReach:g.UnReach:e.receiveStatus==a.EReceiveStatus.UnReceive?(t=d.MModel.Hero.checkIsHero(o.id)?p.UnReceive:g.UnReceive,this.box.once(cc.Node.EventType.TOUCH_START,()=>{GA.sentLogs([{eventId:"\u65b0\u624b\u4efb\u52a1:\u70b9\u51fb\u9886\u53d6\u65b0\u624b\u4efb\u52a1\u5b9d\u7bb1"}]),1==this.taskInfo.reward.length&&d.MModel.Hero.checkIsHero(this.taskInfo.reward[0].id)?l.MDialog.showDialog(n.EDialog.BlindBoxPrize,{data:{item:this.taskInfo.reward[0],source:a.ERewardSource.Task}}):c.MItem.getItem(this.taskInfo.reward);let e=d.MModel.NewbieTask.receiveTaskReward(this.task);this.updateInfo(e),s.MEvent.emit(s.EMsg.ReceiveNewbieTaskBox)},this),h.MTween.swing(this.box)):e.receiveStatus==a.EReceiveStatus.Received&&(t=d.MModel.Hero.checkIsHero(o.id)?p.Received:g.Received,cc.Tween.stopAllByTarget(this.box),this.box.angle=0),n.MBundle.load({bundle:n.EBundle.Dialog,path:t,type:cc.SpriteFrame,onComplete:e=>{this.box.getComponent(cc.Sprite).spriteFrame=e}})}};o([v(cc.Node)],m.prototype,"box",void 0),o([v(cc.Label)],m.prototype,"target",void 0),m=o([u],m),i.default=m,cc._RF.pop()},{"../../../../Script/Enum":void 0,"../../../../Script/Manager/MBundle":void 0,"../../../../Script/Manager/MConfig":void 0,"../../../../Script/Manager/MDialog":void 0,"../../../../Script/Manager/MEvent":void 0,"../../../../Script/Manager/MItem":void 0,"../../../../Script/Manager/MModel":void 0,"../../../../Script/Manager/MTween":void 0}],NewbieTaskItem:[function(e,t,i){"use strict";cc._RF.push(t,"99bbeSGO3JCpbmJmDTI/NWP","NewbieTaskItem");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../../Script/Enum"),n=e("../../../../Script/Manager/MAudio"),r=e("../../../../Script/Manager/MConfig"),l=e("../../../../Script/Manager/MEvent"),s=e("../../../../Script/Manager/MI18n"),c=e("../../../../Script/Manager/MItem"),d=e("../../../../Script/Manager/MModel"),{ccclass:h,property:g}=cc._decorator;let p=class extends cc.Component{constructor(){super(...arguments),this.task=null,this.item10002=null,this.item10003=null,this.item10004=null,this.item10005=null,this.item10006=null,this.medal=null,this.integral=null,this.reward=null,this.desc=null,this.lbProgress=null,this.ndProgress=null,this.ndBtnUnReach=null,this.ndBtnUnReceive=null,this.ndBtnReceived=null,this.languageLbs=[]}onEnable(){l.MEvent.on(l.EMsg.DoTask,e=>{var t;(null===(t=this.task)||void 0===t?void 0:t.id)==e.id&&this.updateInfo(e)},this),this.languageLbs.forEach(e=>{let t=parseInt(e.node.name);s.MI18n.showInfo(e,t)})}init(e){this.updateInfo(e)}updateInfo(e){var t,i,o,n,l,s;if(!e)return this.ndBtnUnReach.active=!1,this.ndBtnUnReceive.active=!1,void(this.ndBtnReceived.active=!0);this.task=e;let c=r.MConfig.TableNewbieTask.get(e.id),d=c.des;d=(d=(d=d.replace("ref1",null===(i=null===(t=null==c?void 0:c.param)||void 0===t?void 0:t.ref1)||void 0===i?void 0:i.toString())).replace("ref2",null===(n=null===(o=null==c?void 0:c.param)||void 0===o?void 0:o.ref2)||void 0===n?void 0:n.toString())).replace("ref3",null===(s=null===(l=null==c?void 0:c.param)||void 0===l?void 0:l.ref3)||void 0===s?void 0:s.toString()),this.desc.string=d,e.receiveStatus==a.EReceiveStatus.UnReach?(this.ndBtnUnReach.active=!0,this.ndBtnUnReceive.active=!1,this.ndBtnReceived.active=!1):e.receiveStatus==a.EReceiveStatus.UnReceive?(this.ndBtnUnReach.active=!1,this.ndBtnUnReceive.active=!0,this.ndBtnReceived.active=!1):e.receiveStatus==a.EReceiveStatus.Received&&(this.ndBtnUnReach.active=!1,this.ndBtnUnReceive.active=!1,this.ndBtnReceived.active=!0),this.integral.string=`x ${c.integral}`;let h=r.MConfig.TableItem.get(c.reward[0].id);10002==h.id?(this.item10002.active=!0,this.item10003.active=!1,this.item10004.active=!1,this.item10005.active=!1,this.item10006.active=!1):10003==h.id?(this.item10002.active=!1,this.item10003.active=!0,this.item10004.active=!1,this.item10005.active=!1,this.item10006.active=!1):10004==h.id?(this.item10002.active=!1,this.item10003.active=!1,this.item10004.active=!0,this.item10005.active=!1,this.item10006.active=!1):10005==h.id?(this.item10002.active=!1,this.item10003.active=!1,this.item10004.active=!1,this.item10005.active=!0,this.item10006.active=!1):10006==h.id&&(this.item10002.active=!1,this.item10003.active=!1,this.item10004.active=!1,this.item10005.active=!1,this.item10006.active=!0),this.reward.string=`x ${c.reward[0].amount}`,this.lbProgress.string=`${Math.min(e.count,c.param.ref1)}/${c.param.ref1}`,this.ndProgress.width=Math.max(.01,240*Math.min(1,e.count/c.param.ref1))}onClickReceive(){n.MAudio.playEffect(n.EAudio.Click),GA.sentLogs([{eventId:"\u65b0\u624b\u4efb\u52a1:\u70b9\u51fb\u9886\u53d6\u65b0\u624b\u4efb\u52a1\u6309\u94ae"}]);let e=r.MConfig.TableNewbieTask.get(this.task.id);c.MItem.getItem(e.reward);let t=d.MModel.NewbieTask.receiveTaskReward(this.task);this.updateInfo(t),l.MEvent.emit(l.EMsg.ReceiveNewbieTask,this.medal.parent.convertToWorldSpaceAR(this.medal.getPosition()))}onDisable(){l.MEvent.targetOff(this)}};o([g(cc.Node)],p.prototype,"item10002",void 0),o([g(cc.Node)],p.prototype,"item10003",void 0),o([g(cc.Node)],p.prototype,"item10004",void 0),o([g(cc.Node)],p.prototype,"item10005",void 0),o([g(cc.Node)],p.prototype,"item10006",void 0),o([g(cc.Node)],p.prototype,"medal",void 0),o([g(cc.Label)],p.prototype,"integral",void 0),o([g(cc.Label)],p.prototype,"reward",void 0),o([g(cc.Label)],p.prototype,"desc",void 0),o([g(cc.Label)],p.prototype,"lbProgress",void 0),o([g(cc.Node)],p.prototype,"ndProgress",void 0),o([g(cc.Node)],p.prototype,"ndBtnUnReach",void 0),o([g(cc.Node)],p.prototype,"ndBtnUnReceive",void 0),o([g(cc.Node)],p.prototype,"ndBtnReceived",void 0),o([g([cc.Label])],p.prototype,"languageLbs",void 0),p=o([h],p),i.default=p,cc._RF.pop()},{"../../../../Script/Enum":void 0,"../../../../Script/Manager/MAudio":void 0,"../../../../Script/Manager/MConfig":void 0,"../../../../Script/Manager/MEvent":void 0,"../../../../Script/Manager/MI18n":void 0,"../../../../Script/Manager/MItem":void 0,"../../../../Script/Manager/MModel":void 0}],OverBoxItem:[function(e,t,i){"use strict";cc._RF.push(t,"6d5f6FCoR5Gi61Mvv3vuqvG","OverBoxItem");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../../Script/Manager/MBundle"),n=e("../../../../Script/Manager/MI18n"),r=e("../../../../Script/Manager/MTween");var l;(function(e){e.Reward10002="OverBox/res/texture/rewards/10002",e.Reward10003="OverBox/res/texture/rewards/10003",e.Reward10004="OverBox/res/texture/rewards/10004",e.Reward10005="OverBox/res/texture/rewards/10005",e.Reward10006="OverBox/res/texture/rewards/10006",e.Reward10007="OverBox/res/texture/rewards/10007"})(l||(l={}));const{ccclass:s,property:c}=cc._decorator;let d=class extends cc.Component{constructor(){super(...arguments),this.reward=null,this.lbAmount=null,this.extra=null,this.languageLbs=[],this.content=null}init(e,t){a.MBundle.load({bundle:a.EBundle.Dialog,path:l["Reward"+e.id],type:cc.SpriteFrame,onComplete:e=>{(null==this?void 0:this.reward)&&(this.reward.spriteFrame=e)}}),this.lbAmount.string=`+${GA.formatNumber(e.amount)}`,t?(this.extra.active=!0,r.MTween.jelly(this.extra)):this.extra.active=!1,this.languageLbs.forEach(e=>{let t=parseInt(e.node.name);n.MI18n.showInfo(e,t)})}};o([c(cc.Sprite)],d.prototype,"reward",void 0),o([c(cc.Label)],d.prototype,"lbAmount",void 0),o([c(cc.Node)],d.prototype,"extra",void 0),o([c([cc.Label])],d.prototype,"languageLbs",void 0),o([c(cc.Node)],d.prototype,"content",void 0),d=o([s],d),i.default=d,cc._RF.pop()},{"../../../../Script/Manager/MBundle":void 0,"../../../../Script/Manager/MI18n":void 0,"../../../../Script/Manager/MTween":void 0}],PassItem:[function(e,t,i){"use strict";cc._RF.push(t,"ab8f03bXVRDbo6aHC0PG1hg","PassItem");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../../Script/Enum"),n=e("../../../../Script/Manager/MAd"),r=e("../../../../Script/Manager/MBundle"),l=e("../../../../Script/Manager/MConfig"),s=e("../../../../Script/Manager/MI18n"),c=e("../../../../Script/Manager/MItem"),d=e("../../../../Script/Manager/MModel"),h=e("../../../../Script/Manager/MTween");var g;(function(e){e.Item7001="Pass/res/texture/item/7001",e.Item7002="Pass/res/texture/item/7002",e.Item7003="Pass/res/texture/item/7003",e.Item7004="Pass/res/texture/item/7004",e.Item7005="Pass/res/texture/item/7005",e.Item7006="Pass/res/texture/item/7006",e.Item7007="Pass/res/texture/item/7007",e.Item7008="Pass/res/texture/item/7008",e.Item7009="Pass/res/texture/item/7009",e.Item7010="Pass/res/texture/item/7010",e.Item7011="Pass/res/texture/item/7011",e.Item7012="Pass/res/texture/item/7012",e.Item7013="Pass/res/texture/item/7013",e.Item7014="Pass/res/texture/item/7014",e.Item7015="Pass/res/texture/item/7015",e.Item7016="Pass/res/texture/item/7016",e.Item10002="Pass/res/texture/item/10002",e.Item10003="Pass/res/texture/item/10003",e.Item10004="Pass/res/texture/item/10004",e.Item10005="Pass/res/texture/item/10005",e.Item10006="Pass/res/texture/item/10006"})(g||(g={}));const{ccclass:p,property:u}=cc._decorator;let v=class extends cc.Component{constructor(){super(...arguments),this.id=-1,this.type="Normal",this.status=a.EReceiveStatus.UnReach,this.content=null,this.ndBg=null,this.unReceive=null,this.received=null,this.item=null,this.tipSkinAdd=null,this.desc=null,this.languageLbs=[]}onEnable(){this.languageLbs.forEach(e=>{let t=parseInt(e.node.name);s.MI18n.showInfo(e,t)})}init(e,t,i){var o,s;this.id=e,this.type=t;let h="";if(d.MModel.Hero.checkIsSkin(i.id)){let e=Math.floor(i.id/100),t=Utils.prefixZero(i.id%e,2).toString();h=g["Item"+e]+t,(null===(o=this.tipSkinAdd)||void 0===o?void 0:o.isValid)&&(this.tipSkinAdd.active=!0),this.desc.string=l.MConfig.TableItem.get(i.id).name}else{h=g["Item"+i.id],(null===(s=this.tipSkinAdd)||void 0===s?void 0:s.isValid)&&(this.tipSkinAdd.active=!1);let e=d.MModel.Hero.checkIsHero(i.id);this.desc.string=e?l.MConfig.TableItem.get(i.id).name:"x "+i.amount}r.MBundle.load({bundle:r.EBundle.Dialog,path:h,type:cc.SpriteFrame,onComplete:e=>{this.item.spriteFrame=e}}),this.updateStatus(),this.content.on(cc.Node.EventType.TOUCH_END,()=>{this.status==a.EReceiveStatus.UnReceive&&("Normal"==t?(c.MItem.getItem([i]),d.MModel.SummerFunPass.receiveNormalReward(this.id),this.updateStatus()):"Special"==t&&n.MAd.rewardOperation({tag:"PassSpecial",byVideo:GA.isNextRewardVideo("PassSpecial"),page:"\u901a\u884c\u8bc1\u754c\u9762",result:e=>{e.reward&&(c.MItem.getItem([i]),d.MModel.SummerFunPass.receiveSpecialReward(this.id),this.updateStatus())}}))},this)}updateStatus(){let e=l.MConfig.TablePass.get(this.id);if(d.MModel.SummerFunPass.exp>=e.exp){let e=[];"Normal"==this.type?e=d.MModel.SummerFunPass.normalReceivedList:"Special"==this.type&&(e=d.MModel.SummerFunPass.specialReceivedList),-1==e.indexOf(this.id)?(this.ndBg.active=!1,this.unReceive.active=!0,this.received.active=!1,this.status=a.EReceiveStatus.UnReceive,h.MTween.breath(this.content)):(this.ndBg.active=!0,this.unReceive.active=!1,this.received.active=!0,this.status=a.EReceiveStatus.Received,cc.Tween.stopAllByTarget(this.content),this.content.scale=1)}else this.ndBg.active=!0,this.unReceive.active=!1,this.received.active=!1,this.status=a.EReceiveStatus.UnReach,cc.Tween.stopAllByTarget(this.content),this.content.scale=1}};o([u(cc.Node)],v.prototype,"content",void 0),o([u(cc.Node)],v.prototype,"ndBg",void 0),o([u(cc.Node)],v.prototype,"unReceive",void 0),o([u(cc.Node)],v.prototype,"received",void 0),o([u(cc.Sprite)],v.prototype,"item",void 0),o([u(cc.Node)],v.prototype,"tipSkinAdd",void 0),o([u(cc.Label)],v.prototype,"desc",void 0),o([u([cc.Label])],v.prototype,"languageLbs",void 0),v=o([p],v),i.default=v,cc._RF.pop()},{"../../../../Script/Enum":void 0,"../../../../Script/Manager/MAd":void 0,"../../../../Script/Manager/MBundle":void 0,"../../../../Script/Manager/MConfig":void 0,"../../../../Script/Manager/MI18n":void 0,"../../../../Script/Manager/MItem":void 0,"../../../../Script/Manager/MModel":void 0,"../../../../Script/Manager/MTween":void 0}],PermanentItem:[function(e,t,i){"use strict";cc._RF.push(t,"cbe87zQuctHKakvbt8oxEDY","PermanentItem");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../../Script/Manager/MBundle"),{ccclass:n,property:r}=cc._decorator;var l;(function(e){e.diamond_01="Permanent/res/texture/item/diamond_01",e.diamond_02="Permanent/res/texture/item/diamond_02",e.diamond_03="Permanent/res/texture/item/diamond_03",e.diamond_04="Permanent/res/texture/item/diamond_04",e.diamond_05="Permanent/res/texture/item/diamond_05",e.diamond_06="Permanent/res/texture/item/diamond_06",e.energy_01="Permanent/res/texture/item/energy_01",e.energy_02="Permanent/res/texture/item/energy_02",e.energy_03="Permanent/res/texture/item/energy_03",e.fragment_01="Permanent/res/texture/item/fragment_01",e.fragment_02="Permanent/res/texture/item/fragment_02",e.fragment_03="Permanent/res/texture/item/fragment_03",e.gem_01="Permanent/res/texture/item/gem_01",e.gem_02="Permanent/res/texture/item/gem_02",e.gem_03="Permanent/res/texture/item/gem_03",e.gold_01="Permanent/res/texture/item/gold_01",e.gold_02="Permanent/res/texture/item/gold_02",e.gold_03="Permanent/res/texture/item/gold_03",e.key_01="Permanent/res/texture/item/key_01",e.key_02="Permanent/res/texture/item/key_02",e.key_03="Permanent/res/texture/item/key_03"})(l||(l={}));let s=class extends cc.Component{constructor(){super(...arguments),this.icon=null,this.reward=null}init(e){a.MBundle.load({bundle:a.EBundle.Dialog,path:l[e.icon],type:cc.SpriteFrame,onComplete:e=>{(null==this?void 0:this.icon)&&(this.icon.spriteFrame=e)}}),this.reward.string=`${GA.formatNumber(e.v)}`}};o([r(cc.Sprite)],s.prototype,"icon",void 0),o([r(cc.Label)],s.prototype,"reward",void 0),s=o([n],s),i.default=s,cc._RF.pop()},{"../../../../Script/Manager/MBundle":void 0}],PurchaseDiamondItem:[function(e,t,i){"use strict";cc._RF.push(t,"44b7bt3qGVL8a4GWvdHk8hi","PurchaseDiamondItem");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../../Script/Manager/MAd"),n=e("../../../../Script/Manager/MBundle"),r=e("../../../../Script/Manager/MConfig"),l=e("../../../../Script/Manager/MI18n"),s=e("../../../../Script/Manager/MModel");var c;(function(e){e.Diamond1="Store/res/texture/icon/diamond_01",e.Diamond2="Store/res/texture/icon/diamond_02",e.Diamond3="Store/res/texture/icon/diamond_03",e.Diamond4="Store/res/texture/icon/diamond_04",e.Diamond5="Store/res/texture/icon/diamond_05",e.Diamond6="Store/res/texture/icon/diamond_06"})(c||(c={}));const{ccclass:d,property:h}=cc._decorator;let g=class extends cc.Component{constructor(){super(...arguments),this.amount=null,this.item=null,this.free=null,this.charge=null,this.money=null,this.ndRsv=null,this.nd114007=null,this.languageLbs=[]}onEnable(){GA.Info.withoutRewardVideoAd&&(this.ndRsv.active=!1,this.nd114007.x=0),this.languageLbs.forEach(e=>{let t=parseInt(e.node.name);l.MI18n.showInfo(e,t)})}init(e){this.diamondInfo=e,n.MBundle.load({bundle:n.EBundle.Dialog,path:c["Diamond"+e.order],type:cc.SpriteFrame,onComplete:e=>{(null==this?void 0:this.item)&&(this.item.spriteFrame=e)}}),"US$0"==e.price?(this.amount.string=r.MConfig.AppProxyConfig.RsvDiamond.Reward.toString(),this.free.active=!0,this.charge.active=!1,this.node.on(cc.Node.EventType.TOUCH_START,()=>{a.MAd.rewardOperation({tag:"BuyDiamond",byVideo:!0,page:"\u76f2\u76d2\u754c\u9762",result:e=>{e.reward&&(s.MModel.Account.addDiamond(r.MConfig.AppProxyConfig.RsvDiamond.Reward),s.MModel.Common.receiveFreeDiamondCount++,s.MModel.Common.receiveFreeDiamondCount>=r.MConfig.AppProxyConfig.RsvDiamond.DailyFreeDiamondTimes&&this.node.destroy())}})},this)):(this.amount.string=e.productId.split("_")[1],this.free.active=!1,this.charge.active=!0,this.money.string=e.price,this.node.on(cc.Node.EventType.TOUCH_START,()=>{null===AppProxy||void 0===AppProxy||AppProxy.requestPayment(this.diamondInfo.productId)},this))}};o([h(cc.Label)],g.prototype,"amount",void 0),o([h(cc.Sprite)],g.prototype,"item",void 0),o([h(cc.Node)],g.prototype,"free",void 0),o([h(cc.Node)],g.prototype,"charge",void 0),o([h(cc.Label)],g.prototype,"money",void 0),o([h(cc.Node)],g.prototype,"ndRsv",void 0),o([h(cc.Node)],g.prototype,"nd114007",void 0),o([h([cc.Label])],g.prototype,"languageLbs",void 0),g=o([d],g),i.default=g,cc._RF.pop()},{"../../../../Script/Manager/MAd":void 0,"../../../../Script/Manager/MBundle":void 0,"../../../../Script/Manager/MConfig":void 0,"../../../../Script/Manager/MI18n":void 0,"../../../../Script/Manager/MModel":void 0}],RankItem:[function(e,t,i){"use strict";cc._RF.push(t,"c511fge5C1ATYH+pT0yROgd","RankItem");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../../Script/Manager/MBundle"),{ccclass:n,property:r}=cc._decorator;let l=class extends cc.Component{constructor(){super(...arguments),this.rank=null,this.icon=null,this.nickName=null,this.star=null,this.level=null}init(e){"Star"==e.type?(this.star.active=!0,this.level.node.active=!1,this.star.getComponentInChildren(cc.Label).string=`${e.score}`):"Level"==e.type&&(this.star.active=!1,this.level.node.active=!0,this.level.string=`${e.score}\u5173`),e.openId==GA.Info.openId?(this.nickName.string="\u73a9\u5bb6",this.rank&&(e.rank<=50?this.rank.string=`${e.rank}`:this.rank.string="\u672a\u4e0a\u699c")):(this.nickName.string=e.nickName,this.rank&&(this.rank.string=`${e.rank}`));let t=Utils.getItem(`rankIcon${e.openId}`);t||(t=Math.ceil(7e3+13*Math.random()).toString(),Utils.setItem(`rankIcon${e.openId}`,t)),a.MBundle.load({bundle:a.EBundle.Dialog,path:"Hero/res/texture/autoatlas/hero/"+t,type:cc.SpriteFrame,onComplete:e=>{(null==this?void 0:this.icon)&&(this.icon.spriteFrame=e)}})}};o([r(cc.Label)],l.prototype,"rank",void 0),o([r(cc.Sprite)],l.prototype,"icon",void 0),o([r(cc.Label)],l.prototype,"nickName",void 0),o([r(cc.Node)],l.prototype,"star",void 0),o([r(cc.Label)],l.prototype,"level",void 0),l=o([n],l),i.default=l,cc._RF.pop()},{"../../../../Script/Manager/MBundle":void 0}],SkinButtonItem:[function(e,t,i){"use strict";cc._RF.push(t,"9f780AXA29C/4AQlt9C9JeT","SkinButtonItem");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../../Script/Manager/MEvent"),{ccclass:n,property:r}=cc._decorator;let l=class extends cc.Component{constructor(){super(...arguments),this.skinId=-1,this.select=null,this.lbId=null}onEnable(){this.node.on(cc.Node.EventType.TOUCH_START,()=>{a.MEvent.emit(a.EMsg.SelectHeroSkin,this.skinId)},this),a.MEvent.on(a.EMsg.SelectHeroSkin,e=>{e==this.skinId?this.select.active=!0:this.select.active=!1},this)}init(e,t){this.skinId=t,this.lbId.string=e.toString()}onDisable(){this.node.targetOff(this),a.MEvent.targetOff(this)}};o([r(cc.Node)],l.prototype,"select",void 0),o([r(cc.Label)],l.prototype,"lbId",void 0),l=o([n],l),i.default=l,cc._RF.pop()},{"../../../../Script/Manager/MEvent":void 0}],StoreGoodsItem:[function(e,t,i){"use strict";cc._RF.push(t,"5c227nPAbFLM4We66jAC8WJ","StoreGoodsItem");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../../Script/Manager/MAd"),n=e("../../../../Script/Manager/MBundle"),r=e("../../../../Script/Manager/MConfig"),l=e("../../../../Script/Manager/MI18n"),s=e("../../../../Script/Manager/MModel"),c=e("../../../../Script/Manager/MToast");var d,h,g,p;(function(e){e.Coin1="Store/res/texture/icon/gold_01",e.Coin2="Store/res/texture/icon/gold_02",e.Coin3="Store/res/texture/icon/gold_03"})(d||(d={})),function(e){e.Strength1="Store/res/texture/icon/energy_01",e.Strength2="Store/res/texture/icon/energy_02",e.Strength3="Store/res/texture/icon/energy_03"}(h||(h={})),function(e){e.Gemstone1="Store/res/texture/icon/gem_01",e.Gemstone2="Store/res/texture/icon/gem_02",e.Gemstone3="Store/res/texture/icon/gem_03"}(g||(g={})),function(e){e.Key1="Store/res/texture/icon/key_01",e.Key2="Store/res/texture/icon/key_02",e.Key3="Store/res/texture/icon/key_03"}(p||(p={}));const{ccclass:u,property:v}=cc._decorator;let m=class extends cc.Component{constructor(){super(...arguments),this.amount=null,this.item=null,this.pay=null,this.free=null,this.languageLbs=[]}onEnable(){this.languageLbs.forEach(e=>{let t=parseInt(e.node.name);l.MI18n.showInfo(e,t)})}initCoin(e,t){this.node.off(cc.Node.EventType.TOUCH_START),this.amount.string=GA.formatNumber(e.amount),n.MBundle.load({bundle:n.EBundle.Dialog,path:d["Coin"+e.order],type:cc.SpriteFrame,onComplete:e=>{(null==this?void 0:this.item)&&(this.item.spriteFrame=e)}}),s.MModel.Store.coinContinueFree()&&t?(this.free.active=!0,this.pay.node.active=!1,this.node.on(cc.Node.EventType.TOUCH_START,()=>{a.MAd.rewardOperation({tag:"StoreCoin",byVideo:!0,page:"\u5546\u5e97\u754c\u9762",result:i=>{i.reward&&(s.MModel.Account.addCoin(e.amount),s.MModel.Store.consumeFreeCoin(),this.initCoin(e,t))}})},this)):(this.free.active=!1,this.pay.string=GA.formatNumber(e.pay),this.pay.node.active=!1,this.scheduleOnce(()=>{this.pay.node.active=!0}),this.node.on(cc.Node.EventType.TOUCH_START,()=>{if(s.MModel.Account.checkPayDiamond(e.pay))s.MModel.Account.payDiamond(e.pay),s.MModel.Account.addCoin(e.amount);else{let e=r.MConfig.TableI18n.get(201011);"cn"==r.MConfig.Language?c.MToast.showToast({title:e.cn}):"tc"==r.MConfig.Language?c.MToast.showToast({title:e.tc}):"pt"==r.MConfig.Language?c.MToast.showToast({title:e.pt}):"vi"==r.MConfig.Language?c.MToast.showToast({title:e.vi}):"id"==r.MConfig.Language?c.MToast.showToast({title:e.in}):c.MToast.showToast({title:e.en})}},this))}initStrength(e,t){this.node.off(cc.Node.EventType.TOUCH_START),this.amount.string=GA.formatNumber(e.amount),n.MBundle.load({bundle:n.EBundle.Dialog,path:h["Strength"+e.order],type:cc.SpriteFrame,onComplete:e=>{(null==this?void 0:this.item)&&(this.item.spriteFrame=e)}}),s.MModel.Store.strengthContinueFree()&&t?(this.free.active=!0,this.pay.node.active=!1,this.node.on(cc.Node.EventType.TOUCH_START,()=>{a.MAd.rewardOperation({tag:"Strength",byVideo:!0,page:"\u5546\u5e97\u754c\u9762",result:i=>{i.reward&&(s.MModel.Account.addStrength(e.amount),s.MModel.Store.consumeFreeStrength(),this.initStrength(e,t))}})},this)):(this.free.active=!1,this.pay.string=GA.formatNumber(e.pay),this.pay.node.active=!1,this.scheduleOnce(()=>{this.pay.node.active=!0}),this.node.on(cc.Node.EventType.TOUCH_START,()=>{s.MModel.Account.checkPayDiamond(e.pay)?(s.MModel.Account.payDiamond(e.pay),s.MModel.Account.addStrength(e.amount)):c.MToast.showToast({title:l.MI18n.getInfo(201011)})},this))}initGemstone(e,t){this.node.off(cc.Node.EventType.TOUCH_START),this.amount.string=GA.formatNumber(e.amount),n.MBundle.load({bundle:n.EBundle.Dialog,path:g["Gemstone"+e.order],type:cc.SpriteFrame,onComplete:e=>{(null==this?void 0:this.item)&&(this.item.spriteFrame=e)}}),s.MModel.Store.gemstoneContinueFree()&&t?(this.free.active=!0,this.pay.node.active=!1,this.node.on(cc.Node.EventType.TOUCH_START,()=>{a.MAd.rewardOperation({tag:"Gemstone",byVideo:!0,page:"\u5546\u5e97\u754c\u9762",result:i=>{i.reward&&(s.MModel.Account.payDiamond(e.pay),s.MModel.Store.consumeFreeGemstone(),this.initGemstone(e,t))}})},this)):(this.free.active=!1,this.pay.string=GA.formatNumber(e.pay),this.pay.node.active=!1,this.scheduleOnce(()=>{this.pay.node.active=!0}),this.node.on(cc.Node.EventType.TOUCH_START,()=>{s.MModel.Account.checkPayDiamond(e.pay)?(s.MModel.Account.payDiamond(e.pay),s.MModel.Account.addGemstone(e.amount)):c.MToast.showToast({title:l.MI18n.getInfo(201011)})},this))}initKey(e){this.amount.string=GA.formatNumber(e.amount),n.MBundle.load({bundle:n.EBundle.Dialog,path:p["Key"+e.order],type:cc.SpriteFrame,onComplete:e=>{(null==this?void 0:this.item)&&(this.item.spriteFrame=e)}}),this.pay.string=GA.formatNumber(e.pay),this.pay.node.active=!1,this.scheduleOnce(()=>{this.pay.node.active=!0}),this.node.on(cc.Node.EventType.TOUCH_START,()=>{s.MModel.Account.checkPayDiamond(e.pay)?(s.MModel.Account.payDiamond(e.pay),s.MModel.BlindBox.addKey(e.amount)):c.MToast.showToast({title:l.MI18n.getInfo(201011)})},this)}};o([v(cc.Label)],m.prototype,"amount",void 0),o([v(cc.Sprite)],m.prototype,"item",void 0),o([v(cc.Label)],m.prototype,"pay",void 0),o([v(cc.Node)],m.prototype,"free",void 0),o([v([cc.Label])],m.prototype,"languageLbs",void 0),m=o([u],m),i.default=m,cc._RF.pop()},{"../../../../Script/Manager/MAd":void 0,"../../../../Script/Manager/MBundle":void 0,"../../../../Script/Manager/MConfig":void 0,"../../../../Script/Manager/MI18n":void 0,"../../../../Script/Manager/MModel":void 0,"../../../../Script/Manager/MToast":void 0}],SurplusPrizeItem:[function(e,t,i){"use strict";cc._RF.push(t,"36306uQYipJh4S4w33/cM3n","SurplusPrizeItem");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../../Script/Manager/MBundle"),n=e("../../../../Script/Manager/MModel"),{ccclass:r,property:l}=cc._decorator;var s;(function(e){e.Item10001="BlindBox/res/texture/item/10001",e.Item10002="BlindBox/res/texture/item/10002",e.Item10003="BlindBox/res/texture/item/10003",e.Item10004="BlindBox/res/texture/item/10004",e.Item10005="BlindBox/res/texture/item/10005",e.Item7001="BlindBox/res/texture/item/7001",e.Item7002="BlindBox/res/texture/item/7002",e.Item7003="BlindBox/res/texture/item/7003",e.Item7004="BlindBox/res/texture/item/7004",e.Item7005="BlindBox/res/texture/item/7005",e.Item7006="BlindBox/res/texture/item/7006",e.Item7007="BlindBox/res/texture/item/7007",e.Item7008="BlindBox/res/texture/item/7008",e.Item7009="BlindBox/res/texture/item/7009",e.Item7010="BlindBox/res/texture/item/7010",e.Item7011="BlindBox/res/texture/item/7011",e.Item7012="BlindBox/res/texture/item/7012",e.Item7013="BlindBox/res/texture/item/7013",e.Item7014="BlindBox/res/texture/item/7014",e.Item7015="BlindBox/res/texture/item/7015",e.Item7016="BlindBox/res/texture/item/7016",e.Item7017="BlindBox/res/texture/item/7017"})(s||(s={}));let c=class extends cc.Component{constructor(){super(...arguments),this.prize=null}init(e){n.MModel.Hero.checkIsHero(e.id)?this.prize.node.scale=.3:this.prize.node.scale=.8,a.MBundle.load({bundle:a.EBundle.Dialog,path:s["Item"+e.id],type:cc.SpriteFrame,onComplete:e=>{(null==this?void 0:this.prize)&&(this.prize.spriteFrame=e)}})}};o([l(cc.Sprite)],c.prototype,"prize",void 0),c=o([r],c),i.default=c,cc._RF.pop()},{"../../../../Script/Manager/MBundle":void 0,"../../../../Script/Manager/MModel":void 0}],TaskItem:[function(e,t,i){"use strict";cc._RF.push(t,"572f6U1vIlDUZtQ3LJ1KRZA","TaskItem");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../../Script/Enum"),n=e("../../../../Script/Manager/MAudio"),r=e("../../../../Script/Manager/MBundle"),l=e("../../../../Script/Manager/MConfig"),s=e("../../../../Script/Manager/MDialog"),c=e("../../../../Script/Manager/MEvent"),d=e("../../../../Script/Manager/MI18n"),h=e("../../../../Script/Manager/MModel"),{ccclass:g,property:p}=cc._decorator;var u;(function(e){e.Item10002="Task/res/texture/item/10002",e.Item10003="Task/res/texture/item/10003",e.Item10004="Task/res/texture/item/10004",e.Item10005="Task/res/texture/item/10005",e.Item10006="Task/res/texture/item/10006"})(u||(u={}));let v=class extends cc.Component{constructor(){super(...arguments),this.task=null,this.item=null,this.reward=null,this.taskName=null,this.desc=null,this.progress=null,this.ndBtnUnReach=null,this.ndBtnUnReceive=null,this.ndBtnReceived=null,this.languageLbs=[]}onEnable(){c.MEvent.on(c.EMsg.DoTask,e=>{var t;(null===(t=this.task)||void 0===t?void 0:t.id)==e.id&&this.updateInfo(e)},this),this.languageLbs.forEach(e=>{let t=parseInt(e.node.name);d.MI18n.showInfo(e,t)})}init(e){let t=l.MConfig.TableTask.get(e.id);r.MBundle.load({bundle:r.EBundle.Dialog,path:u["Item"+t.reward.id],type:cc.SpriteFrame,onComplete:e=>{this.item.spriteFrame=e}}),this.updateInfo(e)}updateInfo(e){var t,i,o,n,r,s,c,d,h,g,p,u;if(!e)return void(this.ndBtnReceived.active=!0);this.task=e;let v=l.MConfig.TableTask.get(e.id);this.taskName.string=v.name;let m=v.describe;"cn"==l.MConfig.Language||"tc"==l.MConfig.Language?m=(m=(m=m.replace("A",null===(i=null===(t=null==v?void 0:v.param)||void 0===t?void 0:t.A)||void 0===i?void 0:i.toString())).replace("B",null===(n=null===(o=null==v?void 0:v.param)||void 0===o?void 0:o.B)||void 0===n?void 0:n.toString())).replace("C",null===(s=null===(r=null==v?void 0:v.param)||void 0===r?void 0:r.C)||void 0===s?void 0:s.toString()):"en"!=l.MConfig.Language&&"pt"!=l.MConfig.Language&&"vi"!=l.MConfig.Language&&"id"!=l.MConfig.Language||(m=(m=(m=m.replace("ref1",null===(d=null===(c=null==v?void 0:v.param)||void 0===c?void 0:c.A)||void 0===d?void 0:d.toString())).replace("ref2",null===(g=null===(h=null==v?void 0:v.param)||void 0===h?void 0:h.B)||void 0===g?void 0:g.toString())).replace("ref3",null===(u=null===(p=null==v?void 0:v.param)||void 0===p?void 0:p.C)||void 0===u?void 0:u.toString())),this.desc.string=m,e.receiveStatus==a.EReceiveStatus.UnReach?(this.ndBtnUnReach.active=!0,this.ndBtnUnReceive.active=!1,this.ndBtnReceived.active=!1):e.receiveStatus==a.EReceiveStatus.UnReceive?(this.ndBtnUnReach.active=!1,this.ndBtnUnReceive.active=!0,this.ndBtnReceived.active=!1):e.receiveStatus==a.EReceiveStatus.Received&&(this.ndBtnUnReach.active=!1,this.ndBtnUnReceive.active=!1,this.ndBtnReceived.active=!0),this.reward.string=`x ${v.reward.amount}`,this.progress.string=`${e.count}/${v.param.A}`}onClickReceive(){n.MAudio.playEffect(n.EAudio.Click),GA.sentLogs([{eventId:"\u4efb\u52a1:\u70b9\u51fb\u9886\u53d6\u4efb\u52a1\u6309\u94ae"}]);let e=l.MConfig.TableTask.get(this.task.id);s.MDialog.showDialog(r.EDialog.BlindBoxPrize,{data:{item:e.reward,source:a.ERewardSource.Task}});let t=h.MModel.Task.receiveTaskReward(this.task);this.updateInfo(t)}onDisable(){c.MEvent.targetOff(this)}};o([p(cc.Sprite)],v.prototype,"item",void 0),o([p(cc.Label)],v.prototype,"reward",void 0),o([p(cc.Label)],v.prototype,"taskName",void 0),o([p(cc.Label)],v.prototype,"desc",void 0),o([p(cc.Label)],v.prototype,"progress",void 0),o([p(cc.Node)],v.prototype,"ndBtnUnReach",void 0),o([p(cc.Node)],v.prototype,"ndBtnUnReceive",void 0),o([p(cc.Node)],v.prototype,"ndBtnReceived",void 0),o([p([cc.Label])],v.prototype,"languageLbs",void 0),v=o([g],v),i.default=v,cc._RF.pop()},{"../../../../Script/Enum":void 0,"../../../../Script/Manager/MAudio":void 0,"../../../../Script/Manager/MBundle":void 0,"../../../../Script/Manager/MConfig":void 0,"../../../../Script/Manager/MDialog":void 0,"../../../../Script/Manager/MEvent":void 0,"../../../../Script/Manager/MI18n":void 0,"../../../../Script/Manager/MModel":void 0}],TimeLimitItem:[function(e,t,i){"use strict";cc._RF.push(t,"2fb9bsc1w9K0YdqMbarlcvl","TimeLimitItem");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../../Script/Manager/MBundle"),{ccclass:n,property:r}=cc._decorator;var l;(function(e){e.coin="TimeLimit/res/texture/item/coin",e.diamond="TimeLimit/res/texture/item/diamond",e.gemstone="TimeLimit/res/texture/item/gemstone",e.key="TimeLimit/res/texture/item/key",e.strength="TimeLimit/res/texture/item/strength",e.mushroom="TimeLimit/res/texture/item/mushroom"})(l||(l={}));let s=class extends cc.Component{constructor(){super(...arguments),this.icon=null,this.reward=null}init(e){a.MBundle.load({bundle:a.EBundle.Dialog,path:l[e.k],type:cc.SpriteFrame,onComplete:e=>{this.icon.spriteFrame=e}}),this.reward.string=`*${GA.formatNumber(e.v)}`}};o([r(cc.Sprite)],s.prototype,"icon",void 0),o([r(cc.Label)],s.prototype,"reward",void 0),s=o([n],s),i.default=s,cc._RF.pop()},{"../../../../Script/Manager/MBundle":void 0}],TrialSkillItem:[function(e,t,i){"use strict";cc._RF.push(t,"09820cogiRG7K52vcVfvh+z","TrialSkillItem");var o=this&&this.__decorate||function(e,t,i,o){var a,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(n<3?a(r):n>3?a(t,i,r):a(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../../../Script/Enum"),n=e("../../../../Script/Manager/MBundle"),r=e("../../../../Script/Manager/MConfig"),l=e("../../../../Script/Manager/MI18n"),s=e("../../../../Script/Manager/MSkill"),c=e("../../../../Script/Manager/MTween");var d,h;(function(e){e.White="TrialSkill/res/texture/skillbg/White",e.Green="TrialSkill/res/texture/skillbg/Green",e.Blue="TrialSkill/res/texture/skillbg/Blue",e.Purple="TrialSkill/res/texture/skillbg/Purple",e.Orange="TrialSkill/res/texture/skillbg/Orange"})(d||(d={})),function(e){e.SkillIcon6001="TrialSkill/res/texture/skillicon/6001",e.SkillIcon6002="TrialSkill/res/texture/skillicon/6002",e.SkillIcon6003="TrialSkill/res/texture/skillicon/6003",e.SkillIcon6004="TrialSkill/res/texture/skillicon/6004",e.SkillIcon6005="TrialSkill/res/texture/skillicon/6005",e.SkillIcon6006="TrialSkill/res/texture/skillicon/6006",e.SkillIcon6007="TrialSkill/res/texture/skillicon/6007",e.SkillIcon6008="TrialSkill/res/texture/skillicon/6008",e.SkillIcon6009="TrialSkill/res/texture/skillicon/6009",e.SkillIcon6010="TrialSkill/res/texture/skillicon/6010",e.SkillIcon6011="TrialSkill/res/texture/skillicon/6011"}(h||(h={}));const{ccclass:g,property:p}=cc._decorator;let u=class extends cc.Component{constructor(){super(...arguments),this.content=null,this.bg=null,this.nickName=null,this.icon=null,this.describe=null,this.rare=null,this.skill=null,this.lb101005=null}onEnable(){cc.Tween.stopAllByTarget(this.content),cc.tween(this.content).set({scale:.75}).to(.3,{scale:1},{easing:cc.easing.backOut}).start(),l.MI18n.showInfo(this.lb101005,101005)}init(e,t){var i,o,l,g,p,u,v,m,M,f,C,y;this.skill=e,this.nickName.string=e.name;const S=()=>{n.MBundle.load({bundle:n.EBundle.Dialog,path:h["SkillIcon"+e.id],type:cc.SpriteFrame,onComplete:e=>{this.icon.spriteFrame=e}})};let B=e.describe;"cn"==r.MConfig.Language||"tc"==r.MConfig.Language?B=(B=(B=B.replace("A",null===(o=null===(i=null==e?void 0:e.param)||void 0===i?void 0:i.A)||void 0===o?void 0:o.toString())).replace("B",null===(g=null===(l=null==e?void 0:e.param)||void 0===l?void 0:l.B)||void 0===g?void 0:g.toString())).replace("C",null===(u=null===(p=null==e?void 0:e.param)||void 0===p?void 0:p.C)||void 0===u?void 0:u.toString()):"en"!=r.MConfig.Language&&"pt"!=r.MConfig.Language&&"vi"!=r.MConfig.Language&&"id"!=r.MConfig.Language||(B=(B=(B=B.replace("ref1",null===(m=null===(v=null==e?void 0:e.param)||void 0===v?void 0:v.A)||void 0===m?void 0:m.toString())).replace("ref2",null===(f=null===(M=null==e?void 0:e.param)||void 0===M?void 0:M.B)||void 0===f?void 0:f.toString())).replace("ref3",null===(y=null===(C=null==e?void 0:e.param)||void 0===C?void 0:C.C)||void 0===y?void 0:y.toString())),this.describe.string=B,this.describe.node.color=Utils.hexToRgb(r.MConfig.LocalConfig.TrialSkillColor.get(e.grade)),e.grade==a.EGrade.Orange?(this.rare.active=!0,c.MTween.jelly(this.rare)):this.rare.active=!1,(t=>{n.MBundle.load({bundle:n.EBundle.Dialog,path:Utils.enumValue(d,a.EGrade[e.grade]),type:cc.SpriteFrame,onComplete:e=>{this.bg.spriteFrame=e,this.scheduleOnce(()=>{switch(r.MConfig.Language){case"cn":case"tc":this.bg.node.height=300;break;case"en":this.bg.node.height=332;break;case"vi":this.bg.node.height=300;break;case"pt":this.bg.node.height=352;break;case"id":this.bg.node.height=372}}),null==t||t()}})})(()=>{S()}),this.bg.node.on(cc.Node.EventType.TOUCH_START,()=>{GA.sentLogs([{eventId:"\u6280\u80fd\u9009\u62e9:\u70b9\u51fb\u5355\u4e2a\u6280\u80fd"}]),s.MSkill.addSkill([this.skill]),t()},this)}onDisable(){this.bg.node.targetOff(this)}};o([p(cc.Node)],u.prototype,"content",void 0),o([p(cc.Sprite)],u.prototype,"bg",void 0),o([p(cc.Label)],u.prototype,"nickName",void 0),o([p(cc.Sprite)],u.prototype,"icon",void 0),o([p(cc.Label)],u.prototype,"describe",void 0),o([p(cc.Node)],u.prototype,"rare",void 0),o([p(cc.Label)],u.prototype,"lb101005",void 0),u=o([g],u),i.default=u,cc._RF.pop()},{"../../../../Script/Enum":void 0,"../../../../Script/Manager/MBundle":void 0,"../../../../Script/Manager/MConfig":void 0,"../../../../Script/Manager/MI18n":void 0,"../../../../Script/Manager/MSkill":void 0,"../../../../Script/Manager/MTween":void 0}]},{},["DialogActivityExplain","DialogAddShortcut","DialogBlindBox","BlindBoxItem","GetBlindBoxRewardTip","SurplusPrizeItem","DialogBlindBoxPrize","DialogClause","DialogYinsizhengce","DialogYonghuxieyi","DialogFirstImpulse","FirstImpulseItem","DialogFreeCoin","DialogFreeGemston","DialogFreeStrength","DialogGameRecorder","DialogGuide","DialogHero","HeroCard","SkinButtonItem","DialogLevelSelect","LevelSelectItem","DialogLevelTask","DialogMothersDay","DialogNewYear","DialogNewbieTask","NewbieTaskBoxItem","NewbieTaskItem","DialogOver","DialogOverBox","OverBoxItem","DialogPass","PassItem","DialogIfPause","DialogPause","DialogPermanent","GiftItem","PermanentItem","DialogRank","RankItem","DialogDeleteUser","DialogSetting","DialogSignIn","Day","DialogStore","PurchaseDiamondItem","StoreGoodsItem","DialogTask","TaskItem","DialogTimeLimit","TimeLimitItem","DialogTrialSkill","TrialSkillItem"]);